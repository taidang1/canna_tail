(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3379:function(t,e,n){"use strict";var r=n(4836);e.Z=void 0;var i=r(n(4938)),o=n(5893),s=(0,i.default)((0,o.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");e.Z=s},594:function(t,e,n){"use strict";var r=n(4836);e.Z=void 0;var i=r(n(4938)),o=n(5893),s=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");e.Z=s},6111:function(t,e,n){"use strict";var r=n(4836);e.Z=void 0;var i=r(n(4938)),o=n(5893),s=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");e.Z=s},326:function(t,e,n){"use strict";var r=n(4836);e.Z=void 0;var i=r(n(4938)),o=n(5893),s=(0,i.default)((0,o.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");e.Z=s},655:function(t,e,n){"use strict";var r=n(4836);e.Z=void 0;var i=r(n(4938)),o=n(5893),s=(0,i.default)((0,o.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");e.Z=s},4938:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(2441)},1347:function(t,e,n){"use strict";n.d(e,{Z:function(){return F}});var r=n(7462),i=n(3366),o=n(1387),s=n(9766),a=n(6500),u=n(4920),c=n(6523);function l(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function h(t){let e;if(t.type)return t;if("#"===t.charAt(0))return h(function(t){t=t.slice(1);let e=RegExp(`.{1,${t.length>=6?2:1}}`,"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map(t=>t+t)),n?`rgb${4===n.length?"a":""}(${n.map((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3).join(", ")})`:""}(t));let n=t.indexOf("("),r=t.substring(0,n);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw Error((0,o.Z)(9,t));let i=t.substring(n+1,t.length-1);if("color"===r){if(e=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(e))throw Error((0,o.Z)(10,e))}else i=i.split(",");return i=i.map(t=>parseFloat(t)),{type:r,values:i,colorSpace:e}}function f(t){let{type:e,colorSpace:n}=t,{values:r}=t;return -1!==e.indexOf("rgb")?r=r.map((t,e)=>e<3?parseInt(t,10):t):-1!==e.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),`${e}(${r=-1!==e.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`})`}function d(t){let e="hsl"===(t=h(t)).type||"hsla"===t.type?h(function(t){t=h(t);let{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(t,e=(t+n/30)%12)=>i-o*Math.max(Math.min(e-3,9-e,1),-1),a="rgb",u=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===t.type&&(a+="a",u.push(e[3])),f({type:a,values:u})}(t)).values:t.values;return Number((.2126*(e=e.map(e=>("color"!==t.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)))[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}var p={black:"#000",white:"#fff"},m={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},g={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},b={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},w={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},E={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};let I=["mode","contrastThreshold","tonalOffset"],T={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:p.white,default:p.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},S={text:{primary:p.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:p.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(t,e,n,r){let i=r.light||r,o=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=function(t,e){if(t=h(t),e=l(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return f(t)}(t.main,i):"dark"===e&&(t.dark=function(t,e){if(t=h(t),e=l(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return f(t)}(t.main,o)))}let x=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],A={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function N(...t){return`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,0.2),${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,0.14),${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,0.12)`}let C=["none",N(0,2,1,-1,0,1,1,0,0,1,3,0),N(0,3,1,-2,0,2,2,0,0,1,5,0),N(0,3,3,-2,0,3,4,0,0,1,8,0),N(0,2,4,-1,0,4,5,0,0,1,10,0),N(0,3,5,-1,0,5,8,0,0,1,14,0),N(0,3,5,-1,0,6,10,0,0,1,18,0),N(0,4,5,-2,0,7,10,1,0,2,16,1),N(0,5,5,-3,0,8,10,1,0,3,14,2),N(0,5,6,-3,0,9,12,1,0,3,16,2),N(0,6,6,-3,0,10,14,1,0,4,18,3),N(0,6,7,-4,0,11,15,1,0,4,20,3),N(0,7,8,-4,0,12,17,2,0,5,22,4),N(0,7,8,-4,0,13,19,2,0,5,24,4),N(0,7,9,-4,0,14,21,2,0,5,26,4),N(0,8,9,-5,0,15,22,2,0,6,28,5),N(0,8,10,-5,0,16,24,2,0,6,30,5),N(0,8,11,-5,0,17,26,2,0,6,32,5),N(0,9,11,-5,0,18,28,2,0,7,34,6),N(0,9,12,-6,0,19,29,2,0,7,36,6),N(0,10,13,-6,0,20,31,3,0,8,38,7),N(0,10,13,-6,0,21,33,3,0,8,40,7),N(0,10,14,-6,0,22,35,3,0,8,42,7),N(0,11,14,-7,0,23,36,3,0,9,44,8),N(0,11,15,-7,0,24,38,3,0,9,46,8)],D=["duration","easing","delay"],P={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},R={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function O(t){return`${Math.round(t)}ms`}function L(t){if(!t)return 0;let e=t/36;return Math.round((4+15*e**.25+e/5)*10)}var M={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};let j=["breakpoints","mixins","spacing","palette","transitions","typography","shape"],V=function(t={}){var e;let{mixins:n={},palette:l={},transitions:h={},typography:f={}}=t,N=(0,i.Z)(t,j);if(t.vars)throw Error((0,o.Z)(18));let V=function(t){let{mode:e="light",contrastThreshold:n=3,tonalOffset:a=.2}=t,u=(0,i.Z)(t,I),c=t.primary||function(t="light"){return"dark"===t?{main:b[200],light:b[50],dark:b[400]}:{main:b[700],light:b[400],dark:b[800]}}(e),l=t.secondary||function(t="light"){return"dark"===t?{main:g[200],light:g[50],dark:g[400]}:{main:g[500],light:g[300],dark:g[700]}}(e),h=t.error||function(t="light"){return"dark"===t?{main:v[500],light:v[300],dark:v[700]}:{main:v[700],light:v[400],dark:v[800]}}(e),f=t.info||function(t="light"){return"dark"===t?{main:w[400],light:w[300],dark:w[700]}:{main:w[700],light:w[500],dark:w[900]}}(e),x=t.success||function(t="light"){return"dark"===t?{main:E[400],light:E[300],dark:E[700]}:{main:E[800],light:E[500],dark:E[900]}}(e),A=t.warning||function(t="light"){return"dark"===t?{main:y[400],light:y[300],dark:y[700]}:{main:"#ed6c02",light:y[500],dark:y[900]}}(e);function k(t){let e=function(t,e){let n=d(t),r=d(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(t,S.text.primary)>=n?S.text.primary:T.text.primary;return e}let N=({color:t,name:e,mainShade:n=500,lightShade:i=300,darkShade:s=700})=>{if(!(t=(0,r.Z)({},t)).main&&t[n]&&(t.main=t[n]),!t.hasOwnProperty("main"))throw Error((0,o.Z)(11,e?` (${e})`:"",n));if("string"!=typeof t.main)throw Error((0,o.Z)(12,e?` (${e})`:"",JSON.stringify(t.main)));return _(t,"light",i,a),_(t,"dark",s,a),t.contrastText||(t.contrastText=k(t.main)),t},C=(0,s.Z)((0,r.Z)({common:(0,r.Z)({},p),mode:e,primary:N({color:c,name:"primary"}),secondary:N({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:h,name:"error"}),warning:N({color:A,name:"warning"}),info:N({color:f,name:"info"}),success:N({color:x,name:"success"}),grey:m,contrastThreshold:n,getContrastText:k,augmentColor:N,tonalOffset:a},{dark:S,light:T}[e]),u);return C}(l),F=(0,a.Z)(t),U=(0,s.Z)(F,{mixins:(e=F.breakpoints,(0,r.Z)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)),palette:V,shadows:C.slice(),typography:function(t,e){let n="function"==typeof e?e(t):e,{fontFamily:o=k,fontSize:a=14,fontWeightLight:u=300,fontWeightRegular:c=400,fontWeightMedium:l=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:d,pxToRem:p}=n,m=(0,i.Z)(n,x),g=a/14,v=p||(t=>`${t/f*g}rem`),y=(t,e,n,i,s)=>(0,r.Z)({fontFamily:o,fontWeight:t,fontSize:v(e),lineHeight:n},o===k?{letterSpacing:`${Math.round(1e5*(i/e))/1e5}em`}:{},s,d),b={h1:y(u,96,1.167,-1.5),h2:y(u,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(l,14,1.75,.4,A),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,A),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.Z)((0,r.Z)({htmlFontSize:f,pxToRem:v,fontFamily:o,fontSize:a,fontWeightLight:u,fontWeightRegular:c,fontWeightMedium:l,fontWeightBold:h},b),m,{clone:!1})}(V,f),transitions:function(t){let e=(0,r.Z)({},P,t.easing),n=(0,r.Z)({},R,t.duration),o=(t=["all"],r={})=>{let{duration:o=n.standard,easing:s=e.easeInOut,delay:a=0}=r;return(0,i.Z)(r,D),(Array.isArray(t)?t:[t]).map(t=>`${t} ${"string"==typeof o?o:O(o)} ${s} ${"string"==typeof a?a:O(a)}`).join(",")};return(0,r.Z)({getAutoHeightDuration:L,create:o},t,{easing:e,duration:n})}(h),zIndex:(0,r.Z)({},M)});return(U=[].reduce((t,e)=>(0,s.Z)(t,e),U=(0,s.Z)(U,N))).unstable_sxConfig=(0,r.Z)({},u.Z,null==N?void 0:N.unstable_sxConfig),U.unstable_sx=function(t){return(0,c.Z)({sx:t,theme:this})},U}();var F=V},1007:function(t,e,n){"use strict";n.d(e,{ZP:function(){return tU},Dz:function(){return tV}});var r,i=n(3366),o=n(7462),s=n(7294),a=n.t(s,2),u=function(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}},c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=u(function(t){return c.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&91>t.charCodeAt(2)}),h=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){if(this.ctr%(this.isSpeedy?65e3:1)==0){var e;this._insertTag(((e=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&e.setAttribute("nonce",this.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e))}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(n);try{r.insertRule(t,r.cssRules.length)}catch(t){}}else n.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)}),this.tags=[],this.ctr=0},t}(),f=Math.abs,d=String.fromCharCode,p=Object.assign;function m(t,e,n){return t.replace(e,n)}function g(t,e){return t.indexOf(e)}function v(t,e){return 0|t.charCodeAt(e)}function y(t,e,n){return t.slice(e,n)}function b(t){return t.length}function w(t,e){return e.push(t),t}var E=1,I=1,T=0,S=0,_=0,x="";function A(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:E,column:I,length:s,return:""}}function k(t,e){return p(A("",null,null,"",null,null,0),t,{length:-t.length},e)}function N(){return _=S<T?v(x,S++):0,I++,10===_&&(I=1,E++),_}function C(){return v(x,S)}function D(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P(t){return E=I=1,T=b(x=t),S=0,[]}function R(t){var e,n;return(e=S-1,n=function t(e){for(;N();)switch(_){case e:return S;case 34:case 39:34!==e&&39!==e&&t(_);break;case 40:41===e&&t(e);break;case 92:N()}return S}(91===t?t+2:40===t?t+1:t),y(x,e,n)).trim()}var O="-ms-",L="-moz-",M="-webkit-",j="comm",V="rule",F="decl",U="@keyframes";function B(t,e){for(var n="",r=t.length,i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function q(t,e,n,r){switch(t.type){case"@import":case F:return t.return=t.return||t.value;case j:return"";case U:return t.return=t.value+"{"+B(t.children,r)+"}";case V:t.value=t.props.join(",")}return b(n=B(t.children,r))?t.return=t.value+"{"+n+"}":""}function z(t,e,n,r,i,o,s,a,u,c,l){for(var h=i-1,d=0===i?o:[""],p=d.length,g=0,v=0,b=0;g<r;++g)for(var w=0,E=y(t,h+1,h=f(v=s[g])),I=t;w<p;++w)(I=(v>0?d[w]+" "+E:m(E,/&\f/g,d[w])).trim())&&(u[b++]=I);return A(t,e,n,0===i?V:a,u,c,l)}function K(t,e,n,r){return A(t,e,n,F,y(t,0,r),y(t,r+1,-1),r)}var G=function(t,e,n){for(var r=0,i=0;r=i,i=C(),38===r&&12===i&&(e[n]=1),!D(i);)N();return y(x,t,S)},H=function(t,e){var n=-1,r=44;do switch(D(r)){case 0:38===r&&12===C()&&(e[n]=1),t[n]+=G(S-1,e,n);break;case 2:t[n]+=R(r);break;case 4:if(44===r){t[++n]=58===C()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=d(r)}while(r=N());return t},W=function(t,e){var n;return n=H(P(t),e),x="",n},Z=new WeakMap,$=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||Z.get(n))&&!r){Z.set(t,!0);for(var i=[],o=W(e,i),s=n.props,a=0,u=0;a<o.length;a++)for(var c=0;c<s.length;c++,u++)t.props[u]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},X=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},Y=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case F:t.return=function t(e,n){switch(45^v(e,0)?(((n<<2^v(e,0))<<2^v(e,1))<<2^v(e,2))<<2^v(e,3):0){case 5103:return M+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return M+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return M+e+L+e+O+e+e;case 6828:case 4268:return M+e+O+e+e;case 6165:return M+e+O+"flex-"+e+e;case 5187:return M+e+m(e,/(\w+).+(:[^]+)/,M+"box-$1$2"+O+"flex-$1$2")+e;case 5443:return M+e+O+"flex-item-"+m(e,/flex-|-self/,"")+e;case 4675:return M+e+O+"flex-line-pack"+m(e,/align-content|flex-|-self/,"")+e;case 5548:return M+e+O+m(e,"shrink","negative")+e;case 5292:return M+e+O+m(e,"basis","preferred-size")+e;case 6060:return M+"box-"+m(e,"-grow","")+M+e+O+m(e,"grow","positive")+e;case 4554:return M+m(e,/([^-])(transform)/g,"$1"+M+"$2")+e;case 6187:return m(m(m(e,/(zoom-|grab)/,M+"$1"),/(image-set)/,M+"$1"),e,"")+e;case 5495:case 3959:return m(e,/(image-set\([^]*)/,M+"$1$`$1");case 4968:return m(m(e,/(.+:)(flex-)?(.*)/,M+"box-pack:$3"+O+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+M+e+e;case 4095:case 3583:case 4068:case 2532:return m(e,/(.+)-inline(.+)/,M+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(b(e)-1-n>6)switch(v(e,n+1)){case 109:if(45!==v(e,n+4))break;case 102:return m(e,/(.+:)(.+)-([^]+)/,"$1"+M+"$2-$3$1"+L+(108==v(e,n+3)?"$3":"$2-$3"))+e;case 115:return~g(e,"stretch")?t(m(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(115!==v(e,n+1))break;case 6444:switch(v(e,b(e)-3-(~g(e,"!important")&&10))){case 107:return m(e,":",":"+M)+e;case 101:return m(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+M+(45===v(e,14)?"inline-":"")+"box$3$1"+M+"$2$3$1"+O+"$2box$3")+e}break;case 5936:switch(v(e,n+11)){case 114:return M+e+O+m(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return M+e+O+m(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return M+e+O+m(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return M+e+O+e+e}return e}(t.value,t.length);break;case U:return B([k(t,{value:m(t.value,"@","@"+M)})],r);case V:if(t.length)return t.props.map(function(e){var n;switch(n=e,(n=/(::plac\w+|:read-\w+)/.exec(n))?n[0]:n){case":read-only":case":read-write":return B([k(t,{props:[m(e,/:(read-\w+)/,":"+L+"$1")]})],r);case"::placeholder":return B([k(t,{props:[m(e,/:(plac\w+)/,":"+M+"input-$1")]}),k(t,{props:[m(e,/:(plac\w+)/,":"+L+"$1")]}),k(t,{props:[m(e,/:(plac\w+)/,O+"input-$1")]})],r)}return""}).join("")}}],Q=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))*1540483477+((e>>>16)*59797<<16),e^=e>>>24,n=(65535&e)*1540483477+((e>>>16)*59797<<16)^(65535&n)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n^=255&t.charCodeAt(r),n=(65535&n)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*1540483477+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)},J={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tt=/[A-Z]|^ms/g,te=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tn=function(t){return 45===t.charCodeAt(1)},tr=function(t){return null!=t&&"boolean"!=typeof t},ti=u(function(t){return tn(t)?t:t.replace(tt,"-$&").toLowerCase()}),to=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(te,function(t,e,n){return r={name:e,styles:n,next:r},e})}return 1===J[t]||tn(t)||"number"!=typeof e||0===e?e:e+"px"};function ts(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return r={name:n.name,styles:n.styles,next:r},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)r={name:i.name,styles:i.styles,next:r},i=i.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ts(t,e,n[i])+";";else for(var o in n){var s=n[o];if("object"!=typeof s)null!=e&&void 0!==e[s]?r+=o+"{"+e[s]+"}":tr(s)&&(r+=ti(o)+":"+to(o,s)+";");else if(Array.isArray(s)&&"string"==typeof s[0]&&(null==e||void 0===e[s[0]]))for(var a=0;a<s.length;a++)tr(s[a])&&(r+=ti(o)+":"+to(o,s[a])+";");else{var u=ts(t,e,s);switch(o){case"animation":case"animationName":r+=ti(o)+":"+u+";";break;default:r+=o+"{"+u+"}"}}}return r}(t,e,n);case"function":if(void 0!==t){var o=r,s=n(t);return r=o,ts(t,e,s)}}if(null==e)return n;var a=e[n];return void 0!==a?a:n}var ta=/label:\s*([^\s;\n{]+)\s*(;|$)/g,tu=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var i,o=!0,s="";r=void 0;var a=t[0];null==a||void 0===a.raw?(o=!1,s+=ts(n,e,a)):s+=a[0];for(var u=1;u<t.length;u++)s+=ts(n,e,t[u]),o&&(s+=a[u]);ta.lastIndex=0;for(var c="";null!==(i=ta.exec(s));)c+="-"+i[1];return{name:Q(s)+c,styles:s,next:r}},tc=!!a.useInsertionEffect&&a.useInsertionEffect,tl=tc||function(t){return t()};tc||s.useLayoutEffect;var th=(0,s.createContext)("undefined"!=typeof HTMLElement?function(t){var e,n,r,i,o,s=t.key;if("css"===s){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))})}var u=t.stylisPlugins||Y,c={},l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)c[e[n]]=!0;l.push(t)});var f=(n=(e=[$,X].concat(u,[q,(r=function(t){o.insert(t)},function(t){!t.root&&(t=t.return)&&r(t)})])).length,function(t,r,i,o){for(var s="",a=0;a<n;a++)s+=e[a](t,r,i,o)||"";return s}),p=function(t){var e,n;return B((n=function t(e,n,r,i,o,s,a,u,c){for(var l,h=0,f=0,p=a,T=0,k=0,P=0,O=1,L=1,M=1,V=0,F="",U=o,B=s,q=i,G=F;L;)switch(P=V,V=N()){case 40:if(108!=P&&58==v(G,p-1)){-1!=g(G+=m(R(V),"&","&\f"),"&\f")&&(M=-1);break}case 34:case 39:case 91:G+=R(V);break;case 9:case 10:case 13:case 32:G+=function(t){for(;_=C();)if(_<33)N();else break;return D(t)>2||D(_)>3?"":" "}(P);break;case 92:G+=function(t,e){for(var n;--e&&N()&&!(_<48)&&!(_>102)&&(!(_>57)||!(_<65))&&(!(_>70)||!(_<97)););return n=S+(e<6&&32==C()&&32==N()),y(x,t,n)}(S-1,7);continue;case 47:switch(C()){case 42:case 47:w(A(l=function(t,e){for(;N();)if(t+_===57)break;else if(t+_===84&&47===C())break;return"/*"+y(x,e,S-1)+"*"+d(47===t?t:N())}(N(),S),n,r,j,d(_),y(l,2,-2),0),c);break;default:G+="/"}break;case 123*O:u[h++]=b(G)*M;case 125*O:case 59:case 0:switch(V){case 0:case 125:L=0;case 59+f:k>0&&b(G)-p&&w(k>32?K(G+";",i,r,p-1):K(m(G," ","")+";",i,r,p-2),c);break;case 59:G+=";";default:if(w(q=z(G,n,r,h,f,o,u,F,U=[],B=[],p),s),123===V){if(0===f)t(G,n,q,q,U,s,p,u,B);else switch(99===T&&110===v(G,3)?100:T){case 100:case 109:case 115:t(e,q,q,i&&w(z(e,q,q,0,0,o,u,F,o,U=[],p),B),o,B,p,u,i?U:B);break;default:t(G,q,q,q,[""],B,0,u,B)}}}h=f=k=0,O=M=1,F=G="",p=a;break;case 58:p=1+b(G),k=P;default:if(O<1){if(123==V)--O;else if(125==V&&0==O++&&125==(_=S>0?v(x,--S):0,I--,10===_&&(I=1,E--),_))continue}switch(G+=d(V),V*O){case 38:M=f>0?1:(G+="\f",-1);break;case 44:u[h++]=(b(G)-1)*M,M=1;break;case 64:45===C()&&(G+=R(N())),T=C(),f=p=b(F=G+=function(t){for(;!D(C());)N();return y(x,t,S)}(S)),V++;break;case 45:45===P&&2==b(G)&&(O=0)}}return s}("",null,null,null,[""],e=P(e=t),0,[0],e),x="",n),f)},T={key:s,sheet:new h({key:s,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:c,registered:{},insert:function(t,e,n,r){o=n,p(t?t+"{"+e.styles+"}":e.styles),r&&(T.inserted[e.name]=!0)}};return T.sheet.hydrate(l),T}({key:"css"}):null);th.Provider;var tf=(0,s.createContext)({}),td=function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)},tp=function(t,e,n){td(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i=e;do t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next;while(void 0!==i)}},tm=function(t){return"theme"!==t},tg=function(t){return"string"==typeof t&&t.charCodeAt(0)>96?l:tm},tv=function(t,e,n){var r;if(e){var i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!=typeof r&&n&&(r=t.__emotion_forwardProp),r},ty=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return td(e,n,r),tl(function(){return tp(e,n,r)}),null},tb=(function t(e,n){var r,i,a=e.__emotion_real===e,u=a&&e.__emotion_base||e;void 0!==n&&(r=n.label,i=n.target);var c=tv(e,n,a),l=c||tg(u),h=!l("as");return function(){var f,d=arguments,p=a&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==r&&p.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)p.push.apply(p,d);else{p.push(d[0][0]);for(var m=d.length,g=1;g<m;g++)p.push(d[g],d[0][g])}var v=(f=function(t,e,n){var r,o,a,f=h&&t.as||u,d="",m=[],g=t;if(null==t.theme){for(var v in g={},t)g[v]=t[v];g.theme=(0,s.useContext)(tf)}"string"==typeof t.className?(r=e.registered,o=t.className,a="",o.split(" ").forEach(function(t){void 0!==r[t]?m.push(r[t]+";"):a+=t+" "}),d=a):null!=t.className&&(d=t.className+" ");var y=tu(p.concat(m),e.registered,g);d+=e.key+"-"+y.name,void 0!==i&&(d+=" "+i);var b=h&&void 0===c?tg(f):l,w={};for(var E in t)(!h||"as"!==E)&&b(E)&&(w[E]=t[E]);return w.className=d,w.ref=n,(0,s.createElement)(s.Fragment,null,(0,s.createElement)(ty,{cache:e,serialized:y,isStringTag:"string"==typeof f}),(0,s.createElement)(f,w))},(0,s.forwardRef)(function(t,e){return f(t,(0,s.useContext)(th),e)}));return v.displayName=void 0!==r?r:"Styled("+("string"==typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=p,v.__emotion_forwardProp=c,Object.defineProperty(v,"toString",{value:function(){return"."+i}}),v.withComponent=function(e,r){return t(e,(0,o.Z)({},n,r,{shouldForwardProp:tv(v,r,!0)})).apply(void 0,p)},v}}).bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(t){tb[t]=tb(t)});let tw=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};var tE=n(6500),tI=n(8320);let tT=["variant"];function tS(t){return 0===t.length}function t_(t){let{variant:e}=t,n=(0,i.Z)(t,tT),r=e||"";return Object.keys(n).sort().forEach(e=>{"color"===e?r+=tS(r)?t[e]:(0,tI.Z)(t[e]):r+=`${tS(r)?e:(0,tI.Z)(e)}${(0,tI.Z)(t[e].toString())}`}),r}var tx=n(6523);let tA=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],tk=["theme"],tN=["theme"];function tC(t){return 0===Object.keys(t).length}let tD=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,tP=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);let r={};return n.forEach(t=>{let e=t_(t.props);r[e]=t.style}),r},tR=(t,e,n,r)=>{var i,o;let{ownerState:s={}}=t,a=[],u=null==n?void 0:null==(i=n.components)?void 0:null==(o=i[r])?void 0:o.variants;return u&&u.forEach(n=>{let r=!0;Object.keys(n.props).forEach(e=>{s[e]!==n.props[e]&&t[e]!==n.props[e]&&(r=!1)}),r&&a.push(e[t_(n.props)])}),a};function tO(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}let tL=(0,tE.Z)();var tM=n(1347);let tj=t=>tO(t)&&"classes"!==t,tV=tO,tF=function(t={}){let{defaultTheme:e=tL,rootShouldForwardProp:n=tO,slotShouldForwardProp:r=tO}=t,s=t=>{let n=tC(t.theme)?e:t.theme;return(0,tx.Z)((0,o.Z)({},t,{theme:n}))};return s.__mui_systemSx=!0,(t,a={})=>{let u;tw(t,t=>t.filter(t=>!(null!=t&&t.__mui_systemSx)));let{name:c,slot:l,skipVariantsResolver:h,skipSx:f,overridesResolver:d}=a,p=(0,i.Z)(a,tA),m=void 0!==h?h:l&&"Root"!==l||!1,g=f||!1,v=tO;"Root"===l?v=n:l?v=r:"string"==typeof t&&t.charCodeAt(0)>96&&(v=void 0);let y=/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function(t,e){let n=tb(t,e);return n}(t,(0,o.Z)({shouldForwardProp:v,label:u},p)),b=(t,...n)=>{let r=n?n.map(t=>"function"==typeof t&&t.__emotion_real!==t?n=>{let{theme:r}=n,s=(0,i.Z)(n,tk);return t((0,o.Z)({theme:tC(r)?e:r},s))}:t):[],a=t;c&&d&&r.push(t=>{let n=tC(t.theme)?e:t.theme,r=tD(c,n);if(r){let e={};return Object.entries(r).forEach(([r,i])=>{e[r]="function"==typeof i?i((0,o.Z)({},t,{theme:n})):i}),d(t,e)}return null}),c&&!m&&r.push(t=>{let n=tC(t.theme)?e:t.theme;return tR(t,tP(c,n),n,c)}),g||r.push(s);let u=r.length-n.length;if(Array.isArray(t)&&u>0){let e=Array(u).fill("");(a=[...t,...e]).raw=[...t.raw,...e]}else"function"==typeof t&&t.__emotion_real!==t&&(a=n=>{let{theme:r}=n,s=(0,i.Z)(n,tN);return t((0,o.Z)({theme:tC(r)?e:r},s))});let l=y(a,...r);return l};return y.withConfig&&(b.withConfig=y.withConfig),b}}({defaultTheme:tM.Z,rootShouldForwardProp:tj});var tU=tF},2734:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}}),n(7294);var r=n(1938),i=n(1347);function o(){let t=(0,r.Z)(i.Z);return t}},4502:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(7462),i=n(1938),o=n(1347);function s({props:t,name:e}){return function({props:t,name:e,defaultTheme:n}){let o=(0,i.Z)(n),s=function(t){let{theme:e,name:n,props:i}=t;return e&&e.components&&e.components[n]&&e.components[n].defaultProps?function t(e,n){let i=(0,r.Z)({},n);return Object.keys(e).forEach(o=>{if(o.toString().match(/^(components|slots)$/))i[o]=(0,r.Z)({},e[o],i[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){let s=e[o]||{},a=n[o];i[o]={},a&&Object.keys(a)?s&&Object.keys(s)?(i[o]=(0,r.Z)({},a),Object.keys(s).forEach(e=>{i[o][e]=t(s[e],a[e])})):i[o]=a:i[o]=s}else void 0===i[o]&&(i[o]=e[o])}),i}(e.components[n].defaultProps,i):i}({theme:o,name:e,props:t});return s}({props:t,name:e,defaultTheme:o.Z})}},8216:function(t,e,n){"use strict";var r=n(8320);e.Z=r.Z},8169:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var r=n(7462),i=n(7294),o=n(3366),s=n(6010),a=n(4780),u=n(8216),c=n(4502),l=n(1007),h=n(1588),f=n(4867);function d(t){return(0,f.Z)("MuiSvgIcon",t)}(0,h.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(5893);let m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=t=>{let{color:e,fontSize:n,classes:r}=t,i={root:["root","inherit"!==e&&`color${(0,u.Z)(e)}`,`fontSize${(0,u.Z)(n)}`]};return(0,a.Z)(i,d,r)},v=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,"inherit"!==n.color&&e[`color${(0,u.Z)(n.color)}`],e[`fontSize${(0,u.Z)(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a,u,c,l,h,f,d,p,m,g,v,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(n=t.transitions)?void 0:null==(r=n.create)?void 0:r.call(n,"fill",{duration:null==(i=t.transitions)?void 0:null==(o=i.duration)?void 0:o.shorter}),fontSize:({inherit:"inherit",small:(null==(s=t.typography)?void 0:null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(u=t.typography)?void 0:null==(c=u.pxToRem)?void 0:c.call(u,24))||"1.5rem",large:(null==(l=t.typography)?void 0:null==(h=l.pxToRem)?void 0:h.call(l,35))||"2.1875rem"})[e.fontSize],color:null!=(f=null==(d=(t.vars||t).palette)?void 0:null==(p=d[e.color])?void 0:p.main)?f:({action:null==(m=(t.vars||t).palette)?void 0:null==(g=m.action)?void 0:g.active,disabled:null==(v=(t.vars||t).palette)?void 0:null==(y=v.action)?void 0:y.disabled,inherit:void 0})[e.color]}}),y=i.forwardRef(function(t,e){let n=(0,c.Z)({props:t,name:"MuiSvgIcon"}),{children:i,className:a,color:u="inherit",component:l="svg",fontSize:h="medium",htmlColor:f,inheritViewBox:d=!1,titleAccess:y,viewBox:b="0 0 24 24"}=n,w=(0,o.Z)(n,m),E=(0,r.Z)({},n,{color:u,component:l,fontSize:h,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:b}),I={};d||(I.viewBox=b);let T=g(E);return(0,p.jsxs)(v,(0,r.Z)({as:l,className:(0,s.Z)(T.root,a),focusable:"false",color:f,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:e},I,w,{ownerState:E,children:[i,y?(0,p.jsx)("title",{children:y}):null]}))});function b(t,e){function n(n,i){return(0,p.jsx)(y,(0,r.Z)({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return n.muiName=y.muiName,i.memo(i.forwardRef(n))}y.muiName="SvgIcon"},9296:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r=function(t,e=166){let n;function r(...r){let i=()=>{t.apply(this,r)};clearTimeout(n),n=setTimeout(i,e)}return r.clear=()=>{clearTimeout(n)},r}},2441:function(t,e,n){"use strict";n.r(e),n.d(e,{capitalize:function(){return i.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return s.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return u},isMuiElement:function(){return l},ownerDocument:function(){return h},ownerWindow:function(){return f.Z},requirePropFactory:function(){return d},setRef:function(){return p},unstable_ClassNameGenerator:function(){return T},unstable_useEnhancedEffect:function(){return g},unstable_useId:function(){return v.Z},unsupportedProp:function(){return y},useControlled:function(){return b.Z},useEventCallback:function(){return w},useForkRef:function(){return E.Z},useIsFocusVisible:function(){return I.Z}});var r=n(7078),i=n(8216),o=function(...t){return t.reduce((t,e)=>null==e?t:function(...n){t.apply(this,n),e.apply(this,n)},()=>{})},s=n(8169),a=n(9296),u=function(t,e){return()=>null},c=n(7294),l=function(t,e){return c.isValidElement(t)&&-1!==e.indexOf(t.type.muiName)},h=n(7094).Z,f=n(6488);n(7462);var d=function(t,e){return()=>null},p=n(7960).Z;let m="undefined"!=typeof window?c.useLayoutEffect:c.useEffect;var g=m,v=n(8785),y=function(t,e,n,r,i){return null},b=n(2627),w=function(t){let e=c.useRef(t);return m(()=>{e.current=t}),c.useCallback((...t)=>(0,e.current)(...t),[])},E=n(8031),I=n(8791);let T={configure:t=>{r.Z.configure(t)}}},6488:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(7094),i=function(t){let e=(0,r.Z)(t);return e.defaultView||window}},2627:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(7294),i=function({controlled:t,default:e,name:n,state:i="value"}){let{current:o}=r.useRef(void 0!==t),[s,a]=r.useState(e),u=r.useCallback(t=>{o||a(t)},[]);return[o?t:s,u]}},8031:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(7294),i=n(7960),o=function(...t){return r.useMemo(()=>t.every(t=>null==t)?null:e=>{t.forEach(t=>{(0,i.Z)(t,e)})},t)}},8785:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(7294),i=n.t(r,2);let o=0,s=i.useId;var a=function(t){if(void 0!==s){let e=s();return null!=t?t:e}return function(t){let[e,n]=r.useState(t);return r.useEffect(()=>{null==e&&n(`mui-${o+=1}`)},[e]),t||e}(t)}},8791:function(t,e,n){"use strict";let r;n.d(e,{Z:function(){return h}});var i=n(7294);let o=!0,s=!1,a={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(t){t.metaKey||t.altKey||t.ctrlKey||(o=!0)}function c(){o=!1}function l(){"hidden"===this.visibilityState&&s&&(o=!0)}var h=function(){let t=i.useCallback(t=>{if(null!=t){var e;(e=t.ownerDocument).addEventListener("keydown",u,!0),e.addEventListener("mousedown",c,!0),e.addEventListener("pointerdown",c,!0),e.addEventListener("touchstart",c,!0),e.addEventListener("visibilitychange",l,!0)}},[]),e=i.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!function(t){let{target:e}=t;try{return e.matches(":focus-visible")}catch(t){}return o||function(t){let{type:e,tagName:n}=t;return"INPUT"===n&&!!a[e]&&!t.readOnly||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}(e)}(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(s=!0,window.clearTimeout(r),r=window.setTimeout(()=>{s=!1},100),e.current=!1,!0)},ref:t}}},5408:function(t,e,n){"use strict";n.d(e,{L7:function(){return a},VO:function(){return r},W8:function(){return s},k9:function(){return o}});let r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${r[t]}px)`};function o(t,e,n){let o=t.theme||{};if(Array.isArray(e)){let t=o.breakpoints||i;return e.reduce((r,i,o)=>(r[t.up(t.keys[o])]=n(e[o]),r),{})}if("object"==typeof e){let t=o.breakpoints||i;return Object.keys(e).reduce((i,o)=>{if(-1!==Object.keys(t.values||r).indexOf(o)){let r=t.up(o);i[r]=n(e[o],o)}else i[o]=e[o];return i},{})}let s=n(e);return s}function s(t={}){var e;let n=null==(e=t.keys)?void 0:e.reduce((e,n)=>{let r=t.up(n);return e[r]={},e},{});return n||{}}function a(t,e){return t.reduce((t,e)=>{let n=t[e],r=!n||0===Object.keys(n).length;return r&&delete t[e],t},e)}},6500:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(7462),i=n(3366),o=n(9766);let s=["values","unit","step"],a=t=>{let e=Object.keys(t).map(e=>({key:e,val:t[e]}))||[];return e.sort((t,e)=>t.val-e.val),e.reduce((t,e)=>(0,r.Z)({},t,{[e.key]:e.val}),{})};var u={borderRadius:4},c=n(8700),l=n(6523),h=n(4920);let f=["breakpoints","palette","spacing","shape"];var d=function(t={},...e){let{breakpoints:n={},palette:d={},spacing:p,shape:m={}}=t,g=(0,i.Z)(t,f),v=function(t){let{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,u=(0,i.Z)(t,s),c=a(e),l=Object.keys(c);function h(t){let r="number"==typeof e[t]?e[t]:t;return`@media (min-width:${r}${n})`}function f(t){let r="number"==typeof e[t]?e[t]:t;return`@media (max-width:${r-o/100}${n})`}function d(t,r){let i=l.indexOf(r);return`@media (min-width:${"number"==typeof e[t]?e[t]:t}${n}) and (max-width:${(-1!==i&&"number"==typeof e[l[i]]?e[l[i]]:r)-o/100}${n})`}return(0,r.Z)({keys:l,values:c,up:h,down:f,between:d,only:function(t){return l.indexOf(t)+1<l.length?d(t,l[l.indexOf(t)+1]):h(t)},not:function(t){let e=l.indexOf(t);return 0===e?h(l[1]):e===l.length-1?f(l[e]):d(t,l[l.indexOf(t)+1]).replace("@media","@media not all and")},unit:n},u)}(n),y=function(t=8){if(t.mui)return t;let e=(0,c.hB)({spacing:t}),n=(...t)=>{let n=0===t.length?[1]:t;return n.map(t=>{let n=e(t);return"number"==typeof n?`${n}px`:n}).join(" ")};return n.mui=!0,n}(p),b=(0,o.Z)({breakpoints:v,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},d),spacing:y,shape:(0,r.Z)({},u,m)},g);return(b=e.reduce((t,e)=>(0,o.Z)(t,e),b)).unstable_sxConfig=(0,r.Z)({},h.Z,null==g?void 0:g.unstable_sxConfig),b.unstable_sx=function(t){return(0,l.Z)({sx:t,theme:this})},b}},7730:function(t,e,n){"use strict";var r=n(9766);e.Z=function(t,e){return e?(0,r.Z)(t,e,{clone:!1}):t}},8700:function(t,e,n){"use strict";n.d(e,{hB:function(){return p},eI:function(){return d},NA:function(){return m},e6:function(){return v},o3:function(){return y}});var r=n(5408),i=n(4844),o=n(7730);let s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(t){let e={};return n=>(void 0===e[n]&&(e[n]=t(n)),e[n])}(t=>{if(t.length>2){if(!u[t])return[t];t=u[t]}let[e,n]=t.split(""),r=s[e],i=a[n]||"";return Array.isArray(i)?i.map(t=>r+t):[r+i]}),l=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],f=[...l,...h];function d(t,e,n,r){var o;let s=null!=(o=(0,i.DW)(t,e,!1))?o:n;return"number"==typeof s?t=>"string"==typeof t?t:s*t:Array.isArray(s)?t=>"string"==typeof t?t:s[t]:"function"==typeof s?s:()=>void 0}function p(t){return d(t,"spacing",8,"spacing")}function m(t,e){if("string"==typeof e||null==e)return e;let n=t(Math.abs(e));return e>=0?n:"number"==typeof n?-n:`-${n}`}function g(t,e){let n=p(t.theme);return Object.keys(t).map(i=>(function(t,e,n,i){if(-1===e.indexOf(n))return null;let o=c(n),s=t=>o.reduce((e,n)=>(e[n]=m(i,t),e),{}),a=t[n];return(0,r.k9)(t,a,s)})(t,e,i,n)).reduce(o.Z,{})}function v(t){return g(t,l)}function y(t){return g(t,h)}function b(t){return g(t,f)}v.propTypes={},v.filterProps=l,y.propTypes={},y.filterProps=h,b.propTypes={},b.filterProps=f},4844:function(t,e,n){"use strict";n.d(e,{DW:function(){return o},Jq:function(){return s}});var r=n(8320),i=n(5408);function o(t,e,n=!0){if(!e||"string"!=typeof e)return null;if(t&&t.vars&&n){let n=`vars.${e}`.split(".").reduce((t,e)=>t&&t[e]?t[e]:null,t);if(null!=n)return n}return e.split(".").reduce((t,e)=>t&&null!=t[e]?t[e]:null,t)}function s(t,e,n,r=n){let i;return i="function"==typeof t?t(n):Array.isArray(t)?t[n]||r:o(t,n)||r,e&&(i=e(i,r,t)),i}e.ZP=function(t){let{prop:e,cssProperty:n=t.prop,themeKey:a,transform:u}=t,c=t=>{if(null==t[e])return null;let c=t[e],l=t.theme,h=o(l,a)||{},f=t=>{let i=s(h,u,t);return(t===i&&"string"==typeof t&&(i=s(h,u,`${e}${"default"===t?"":(0,r.Z)(t)}`,t)),!1===n)?i:{[n]:i}};return(0,i.k9)(t,c,f)};return c.propTypes={},c.filterProps=[e],c}},4920:function(t,e,n){"use strict";n.d(e,{Z:function(){return W}});var r=n(8320),i=n(8700),o=n(5408),s=n(4844),a=n(7730),u=function(...t){let e=t.reduce((t,e)=>(e.filterProps.forEach(n=>{t[n]=e}),t),{}),n=t=>Object.keys(t).reduce((n,r)=>e[r]?(0,a.Z)(n,e[r](t)):n,{});return n.propTypes={},n.filterProps=t.reduce((t,e)=>t.concat(e.filterProps),[]),n};function c(t){return"number"!=typeof t?t:`${t}px solid`}let l=(0,s.ZP)({prop:"border",themeKey:"borders",transform:c}),h=(0,s.ZP)({prop:"borderTop",themeKey:"borders",transform:c}),f=(0,s.ZP)({prop:"borderRight",themeKey:"borders",transform:c}),d=(0,s.ZP)({prop:"borderBottom",themeKey:"borders",transform:c}),p=(0,s.ZP)({prop:"borderLeft",themeKey:"borders",transform:c}),m=(0,s.ZP)({prop:"borderColor",themeKey:"palette"}),g=(0,s.ZP)({prop:"borderTopColor",themeKey:"palette"}),v=(0,s.ZP)({prop:"borderRightColor",themeKey:"palette"}),y=(0,s.ZP)({prop:"borderBottomColor",themeKey:"palette"}),b=(0,s.ZP)({prop:"borderLeftColor",themeKey:"palette"}),w=t=>{if(void 0!==t.borderRadius&&null!==t.borderRadius){let e=(0,i.eI)(t.theme,"shape.borderRadius",4,"borderRadius"),n=t=>({borderRadius:(0,i.NA)(e,t)});return(0,o.k9)(t,t.borderRadius,n)}return null};w.propTypes={},w.filterProps=["borderRadius"],u(l,h,f,d,p,m,g,v,y,b,w);let E=t=>{if(void 0!==t.gap&&null!==t.gap){let e=(0,i.eI)(t.theme,"spacing",8,"gap"),n=t=>({gap:(0,i.NA)(e,t)});return(0,o.k9)(t,t.gap,n)}return null};E.propTypes={},E.filterProps=["gap"];let I=t=>{if(void 0!==t.columnGap&&null!==t.columnGap){let e=(0,i.eI)(t.theme,"spacing",8,"columnGap"),n=t=>({columnGap:(0,i.NA)(e,t)});return(0,o.k9)(t,t.columnGap,n)}return null};I.propTypes={},I.filterProps=["columnGap"];let T=t=>{if(void 0!==t.rowGap&&null!==t.rowGap){let e=(0,i.eI)(t.theme,"spacing",8,"rowGap"),n=t=>({rowGap:(0,i.NA)(e,t)});return(0,o.k9)(t,t.rowGap,n)}return null};T.propTypes={},T.filterProps=["rowGap"];let S=(0,s.ZP)({prop:"gridColumn"}),_=(0,s.ZP)({prop:"gridRow"}),x=(0,s.ZP)({prop:"gridAutoFlow"}),A=(0,s.ZP)({prop:"gridAutoColumns"}),k=(0,s.ZP)({prop:"gridAutoRows"}),N=(0,s.ZP)({prop:"gridTemplateColumns"}),C=(0,s.ZP)({prop:"gridTemplateRows"}),D=(0,s.ZP)({prop:"gridTemplateAreas"}),P=(0,s.ZP)({prop:"gridArea"});function R(t,e){return"grey"===e?e:t}u(E,I,T,S,_,x,A,k,N,C,D,P);let O=(0,s.ZP)({prop:"color",themeKey:"palette",transform:R}),L=(0,s.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:R}),M=(0,s.ZP)({prop:"backgroundColor",themeKey:"palette",transform:R});function j(t){return t<=1&&0!==t?`${100*t}%`:t}u(O,L,M);let V=(0,s.ZP)({prop:"width",transform:j}),F=t=>{if(void 0!==t.maxWidth&&null!==t.maxWidth){let e=e=>{var n,r,i;let s=(null==(n=t.theme)?void 0:null==(r=n.breakpoints)?void 0:null==(i=r.values)?void 0:i[e])||o.VO[e];return{maxWidth:s||j(e)}};return(0,o.k9)(t,t.maxWidth,e)}return null};F.filterProps=["maxWidth"];let U=(0,s.ZP)({prop:"minWidth",transform:j}),B=(0,s.ZP)({prop:"height",transform:j}),q=(0,s.ZP)({prop:"maxHeight",transform:j}),z=(0,s.ZP)({prop:"minHeight",transform:j});(0,s.ZP)({prop:"size",cssProperty:"width",transform:j}),(0,s.ZP)({prop:"size",cssProperty:"height",transform:j});let K=(0,s.ZP)({prop:"boxSizing"});u(V,F,U,B,q,z,K);let G=t=>e=>{if(void 0!==e[t]&&null!==e[t]){let n=n=>{var i,o,s,a,u,c;let l=null==(i=e.theme.typography)?void 0:i[n];return"object"==typeof l&&(l=null),l||(l=null==(o=e.theme.typography)?void 0:o[`${t}${"default"===e[t]||e[t]===t?"":(0,r.Z)(null==(s=e[t])?void 0:s.toString())}`]),l||(l=null!=(a=null==(u=e.theme.typography)?void 0:null==(c=u[n])?void 0:c[t])?a:n),{[t]:l}};return(0,o.k9)(e,e[t],n)}return null},H={border:{themeKey:"borders",transform:c},borderTop:{themeKey:"borders",transform:c},borderRight:{themeKey:"borders",transform:c},borderBottom:{themeKey:"borders",transform:c},borderLeft:{themeKey:"borders",transform:c},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:w},color:{themeKey:"palette",transform:R},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:R},backgroundColor:{themeKey:"palette",transform:R},p:{style:i.o3},pt:{style:i.o3},pr:{style:i.o3},pb:{style:i.o3},pl:{style:i.o3},px:{style:i.o3},py:{style:i.o3},padding:{style:i.o3},paddingTop:{style:i.o3},paddingRight:{style:i.o3},paddingBottom:{style:i.o3},paddingLeft:{style:i.o3},paddingX:{style:i.o3},paddingY:{style:i.o3},paddingInline:{style:i.o3},paddingInlineStart:{style:i.o3},paddingInlineEnd:{style:i.o3},paddingBlock:{style:i.o3},paddingBlockStart:{style:i.o3},paddingBlockEnd:{style:i.o3},m:{style:i.e6},mt:{style:i.e6},mr:{style:i.e6},mb:{style:i.e6},ml:{style:i.e6},mx:{style:i.e6},my:{style:i.e6},margin:{style:i.e6},marginTop:{style:i.e6},marginRight:{style:i.e6},marginBottom:{style:i.e6},marginLeft:{style:i.e6},marginX:{style:i.e6},marginY:{style:i.e6},marginInline:{style:i.e6},marginInlineStart:{style:i.e6},marginInlineEnd:{style:i.e6},marginBlock:{style:i.e6},marginBlockStart:{style:i.e6},marginBlockEnd:{style:i.e6},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:E},rowGap:{style:T},columnGap:{style:I},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:j},maxWidth:{style:F},minWidth:{transform:j},height:{transform:j},maxHeight:{transform:j},minHeight:{transform:j},boxSizing:{},fontFamily:{themeKey:"typography",style:G("fontFamily")},fontSize:{themeKey:"typography",style:G("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:G("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};var W=H},6523:function(t,e,n){"use strict";var r=n(8320),i=n(7730),o=n(4844),s=n(5408),a=n(4920);let u=function(){function t(t,e,n,i){let a={[t]:e,theme:n},u=i[t];if(!u)return{[t]:e};let{cssProperty:c=t,themeKey:l,transform:h,style:f}=u;if(null==e)return null;let d=(0,o.DW)(n,l)||{};if(f)return f(a);let p=e=>{let n=(0,o.Jq)(d,h,e);return(e===n&&"string"==typeof e&&(n=(0,o.Jq)(d,h,`${t}${"default"===e?"":(0,r.Z)(e)}`,e)),!1===c)?n:{[c]:n}};return(0,s.k9)(a,e,p)}return function e(n){var r;let{sx:o,theme:u={}}=n||{};if(!o)return null;let c=null!=(r=u.unstable_sxConfig)?r:a.Z;function l(n){let r=n;if("function"==typeof n)r=n(u);else if("object"!=typeof n)return n;if(!r)return null;let o=(0,s.W8)(u.breakpoints),a=Object.keys(o),l=o;return Object.keys(r).forEach(n=>{var o;let a="function"==typeof(o=r[n])?o(u):o;if(null!=a){if("object"==typeof a){if(c[n])l=(0,i.Z)(l,t(n,a,u,c));else{let t=(0,s.k9)({theme:u},a,t=>({[n]:t}));(function(...t){let e=t.reduce((t,e)=>t.concat(Object.keys(e)),[]),n=new Set(e);return t.every(t=>n.size===Object.keys(t).length)})(t,a)?l[n]=e({sx:a,theme:u}):l=(0,i.Z)(l,t)}}else l=(0,i.Z)(l,t(n,a,u,c))}}),(0,s.L7)(a,l)}return Array.isArray(o)?o.map(l):l(o)}}();u.filterProps=["sx"],e.Z=u},1938:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(6500),i=n(7294);let o=i.createContext(null);var s=function(t=null){let e=function(){let t=i.useContext(o);return t}();return e&&0!==Object.keys(e).length?e:t};let a=(0,r.Z)();var u=function(t=a){return s(t)}},7078:function(t,e){"use strict";let n;let r=t=>t,i=(n=r,{configure(t){n=t},generate:t=>n(t),reset(){n=r}});e.Z=i},8320:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(1387);function i(t){if("string"!=typeof t)throw Error((0,r.Z)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},4780:function(t,e,n){"use strict";function r(t,e,n){let r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((t,r)=>{if(r){let i=e(r);""!==i&&t.push(i),n&&n[r]&&t.push(n[r])}return t},[]).join(" ")}),r}n.d(e,{Z:function(){return r}})},9766:function(t,e,n){"use strict";n.d(e,{Z:function(){return function t(e,n,o={clone:!0}){let s=o.clone?(0,r.Z)({},e):e;return i(e)&&i(n)&&Object.keys(n).forEach(r=>{"__proto__"!==r&&(i(n[r])&&r in e&&i(e[r])?s[r]=t(e[r],n[r],o):o.clone?s[r]=i(n[r])?function t(e){if(!i(e))return e;let n={};return Object.keys(e).forEach(r=>{n[r]=t(e[r])}),n}(n[r]):n[r]:s[r]=n[r])}),s}}});var r=n(7462);function i(t){return null!==t&&"object"==typeof t&&t.constructor===Object}},1387:function(t,e,n){"use strict";function r(t){let e="https://mui.com/production-error/?code="+t;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}n.d(e,{Z:function(){return r}})},4867:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(7078);let i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function o(t,e,n="Mui"){let o=i[e];return o?`${n}-${o}`:`${r.Z.generate(t)}-${e}`}},1588:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(4867);function i(t,e,n="Mui"){let i={};return e.forEach(e=>{i[e]=(0,r.Z)(t,e,n)}),i}},7094:function(t,e,n){"use strict";function r(t){return t&&t.ownerDocument||document}n.d(e,{Z:function(){return r}})},7960:function(t,e,n){"use strict";function r(t,e){"function"==typeof t?t(e):t&&(t.current=e)}n.d(e,{Z:function(){return r}})},6010:function(t,e,n){"use strict";e.Z=function(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=function t(e){var n,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e){if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(r=t(e[n]))&&(i&&(i+=" "),i+=r);else for(n in e)e[n]&&(i&&(i+=" "),i+=n)}return i}(t))&&(r&&(r+=" "),r+=e);return r}},1118:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(205)}])},7268:function(t,e,n){"use strict";n.d(e,{C:function(){return hx}});var r=n(7294),i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):(64512&i)==55296&&r+1<t.length&&(64512&t.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},d=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=t[n++],s=t[n++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{var o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")},p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,d=63&c;u||(d=64,s||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):d(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},m=function(t){var e=f(t);return p.encodeByteArray(e,!0)},g=function(t){return m(t).replace(/\./g,"")};function v(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=v(t[n],e[n]));return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function w(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}var E=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,I.prototype.create),o}return o(e,t),e}(Error),I=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?o.replace(T,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"}):"Error",a=this.serviceName+": "+s+" ("+i+").";return new E(i,a,r)},t}(),T=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new x(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n,r,i=this.W_;if("string"==typeof t)for(var o=0;o<16;o++)i[o]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var o=0;o<16;o++)i[o]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var o=16;o<80;o++){var s=i[o-3]^i[o-8]^i[o-14]^i[o-16];i[o]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4],o=0;o<80;o++){o<40?o<20?(n=l^u&(c^l),r=1518500249):(n=u^c^l,r=1859775393):o<60?(n=u&c|l&(u|c),r=2400959708):(n=u^c^l,r=3395469782);var s=(a<<5|a>>>27)+n+h+r+i[o]&4294967295;h=l,l=c,c=(u<<30|u>>>2)&4294967295,u=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var x=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0;n<e.length;n++){var r=e[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t,["next","error","complete"])?{next:t,error:e,complete:n}:t).next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function A(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(t){return t&&t._delegate?t._delegate:t}var N=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),C="[DEFAULT]",D=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new y;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}else{if(r)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if("EAGER"===t.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:C})}catch(t){}try{for(var r=c(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=l(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=C),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return a(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,Promise.all(h(h([],l((t=Array.from(this.instances.values())).filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),l(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=C),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=C),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){void 0===t&&(t={});var e,n,r=t.options,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:i,options:void 0===r?{}:r});try{for(var s=c(this.instancesDeferred.entries()),a=s.next();!a.done;a=s.next()){var u=l(a.value,2),h=u[0],f=u[1],d=this.normalizeInstanceIdentifier(h);i===d&&f.resolve(o)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=c(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e===C?void 0:e,options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(t){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return(void 0===t&&(t=C),this.component)?this.component.multipleInstances?t:C:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),P=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new D(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function R(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var O=[];(tn=ti||(ti={}))[tn.DEBUG=0]="DEBUG",tn[tn.VERBOSE=1]="VERBOSE",tn[tn.INFO=2]="INFO",tn[tn.WARN=3]="WARN",tn[tn.ERROR=4]="ERROR",tn[tn.SILENT=5]="SILENT";var L={debug:ti.DEBUG,verbose:ti.VERBOSE,info:ti.INFO,warn:ti.WARN,error:ti.ERROR,silent:ti.SILENT},M=ti.INFO,j=((tr={})[ti.DEBUG]="log",tr[ti.VERBOSE]="log",tr[ti.INFO]="info",tr[ti.WARN]="warn",tr[ti.ERROR]="error",tr),V=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),o=j[e];if(o)console[o].apply(console,R(["["+i+"]  "+t.name+":"],n));else throw Error("Attempted to log a message with an invalid logType (value: "+e+")")}},F=function(){function t(t){this.name=t,this._logLevel=M,this._logHandler=V,this._userLogHandler=null,O.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ti))throw TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?L[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,R([this,ti.DEBUG],t)),this._logHandler.apply(this,R([this,ti.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,R([this,ti.VERBOSE],t)),this._logHandler.apply(this,R([this,ti.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,R([this,ti.INFO],t)),this._logHandler.apply(this,R([this,ti.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,R([this,ti.WARN],t)),this._logHandler.apply(this,R([this,ti.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,R([this,ti.ERROR],t)),this._logHandler.apply(this,R([this,ti.ERROR],t))},t}();function U(t){O.forEach(function(e){e.setLogLevel(t)})}var B=((to={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",to["bad-app-name"]="Illegal App name: '{$appName}",to["duplicate-app"]="Firebase App named '{$appName}' already exists",to["app-deleted"]="Firebase App named '{$appName}' already deleted",to["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",to["invalid-log-argument"]="First argument to `onLog` must be null or a function.",to),q=new I("app","Firebase",B),z="@firebase/app",K="[DEFAULT]",G=((ts={})[z]="fire-core",ts["@firebase/analytics"]="fire-analytics",ts["@firebase/app-check"]="fire-app-check",ts["@firebase/auth"]="fire-auth",ts["@firebase/database"]="fire-rtdb",ts["@firebase/functions"]="fire-fn",ts["@firebase/installations"]="fire-iid",ts["@firebase/messaging"]="fire-fcm",ts["@firebase/performance"]="fire-perf",ts["@firebase/remote-config"]="fire-rc",ts["@firebase/storage"]="fire-gcs",ts["@firebase/firestore"]="fire-fst",ts["fire-js"]="fire-js",ts["firebase-wrapper"]="fire-js-all",ts),H=new F("@firebase/app"),W=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=v(void 0,t),this.container=new P(e.name),this._addComponent(new N("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){void 0===e&&(e=K),this.checkDestroyed_();var n,r=this.container.getProvider(t);return r.isInitialized()||(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)!=="EXPLICIT"||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=K),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){H.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw q.create("app-deleted",{appName:this.name_})},t}();W.prototype.name&&W.prototype.options||W.prototype.delete||console.log("dc");var Z=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t(){var e=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),("object"!=typeof i||null===i)&&(i={name:i});var o=i;void 0===o.name&&(o.name=K);var s=o.name;if("string"!=typeof s||!s)throw q.create("bad-app-name",{appName:String(s)});if(S(e,s))throw q.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=G[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),H.warn(u.join(" "));return}o(new N(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:U,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw q.create("invalid-log-argument");!function(t,e){for(var n=0;n<O.length;n++)!function(n){var r=null;e&&e.level&&(r=L[e.level]),null===t?n.userLogHandler=null:n.userLogHandler=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:ti[n].toLowerCase(),message:s,args:i,type:e.name})}}(O[n])}(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!S(e,t=t||K))throw q.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return H.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw q.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&v(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++)e[c[u]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(W);return e.INTERNAL=s(s({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){v(e,t)},createSubscribe:_,ErrorFactory:I,deepExtend:v}),e}(),$=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if((null==(e=t.getComponent())?void 0:e.type)!=="VERSION")return null;var e,n=t.getImmediate();return n.library+"/"+n.version}).filter(function(t){return t}).join(" ")},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if("object"==typeof self&&self.self===self&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var X=self.firebase.SDK_VERSION;X&&X.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Y=Z.initializeApp;Z.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return w()&&H.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Y.apply(void 0,t)},Z.INTERNAL.registerComponent(new N("platform-logger",function(t){return new $(t)},"PRIVATE")),Z.registerVersion(z,"0.6.30",void 0),Z.registerVersion("fire-js","");var Q=Z,J="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Q.registerVersion("firebase",J,"app"),Q.SDK_VERSION=J;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tt=function(t,e){return(tt=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function te(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var tn,tr,ti,to,ts,ta,tu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},tc=tc||{},tl=tu||self;function th(){}function tf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function td(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function tp(t,e,n){return t.call.apply(t.bind,arguments)}function tm(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function tg(t,e,n){return(tg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tp:tm).apply(null,arguments)}function tv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ty(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function tb(){this.s=this.s,this.o=this.o}tb.prototype.s=!1,tb.prototype.na=function(){this.s||(this.s=!0,this.M())},tb.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var tw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return -1},tE=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function tI(t){return Array.prototype.concat.apply([],arguments)}function tT(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function tS(t){return/^[\s\xa0]*$/.test(t)}var t_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function tx(t,e){return -1!=t.indexOf(e)}function tA(t,e){return t<e?-1:t>e?1:0}t:{var tk=tl.navigator;if(tk){var tN=tk.userAgent;if(tN){on=tN;break t}}on=""}function tC(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function tD(t){var e={};for(var n in t)e[n]=t[n];return e}var tP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tR(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<tP.length;o++)n=tP[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tO(t){return tO[" "](t),t}tO[" "]=th;var tL=tx(on,"Opera"),tM=tx(on,"Trident")||tx(on,"MSIE"),tj=tx(on,"Edge"),tV=tj||tM,tF=tx(on,"Gecko")&&!(tx(on.toLowerCase(),"webkit")&&!tx(on,"Edge"))&&!(tx(on,"Trident")||tx(on,"MSIE"))&&!tx(on,"Edge"),tU=tx(on.toLowerCase(),"webkit")&&!tx(on,"Edge");function tB(){var t=tl.document;return t?t.documentMode:void 0}t:{var tq,tz="",tK=(tq=on,tF?/rv:([^\);]+)(\)|;)/.exec(tq):tj?/Edge\/([\d\.]+)/.exec(tq):tM?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tq):tU?/WebKit\/(\S+)/.exec(tq):tL?/(?:Version)[ \/]?(\S+)/.exec(tq):void 0);if(tK&&(tz=tK?tK[1]:""),tM){var tG=tB();if(null!=tG&&tG>parseFloat(tz)){or=String(tG);break t}}or=tz}var tH={},tW=tl.document&&tM&&(tB()||parseInt(or,10))||void 0,tZ=function(){if(!tl.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{tl.addEventListener("test",th,e),tl.removeEventListener("test",th,e)}catch(t){}return t}();function t$(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function tX(t,e){if(t$.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(tF){t:{try{tO(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&tX.Z.h.call(this)}}t$.prototype.h=function(){this.defaultPrevented=!0},ty(tX,t$);var tY={2:"touch",3:"pen",4:"mouse"};tX.prototype.h=function(){tX.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tQ="closure_listenable_"+(1e6*Math.random()|0),tJ=0;function t0(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++tJ,this.ca=this.fa=!1}function t1(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function t2(t){this.src=t,this.g={},this.h=0}function t3(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=tw(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(t1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function t4(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&!!n==o.capture&&o.ia==r)return i}return -1}t2.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=t4(t,e,r,i);return -1<s?(e=t[s],n||(e.fa=!1)):((e=new t0(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var t5="closure_lm_"+(1e6*Math.random()|0),t6={};function t8(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=td(i)?!!i.capture:!!i,a=ee(t);if(a||(t[t5]=a=new t2(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function t(e){return et.call(t.src,t.listener,e)},n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tZ||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(t7(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function t9(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[tQ])t3(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(t7(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ee(e))?(t3(n,t),0==n.h&&(n.src=null,e[t5]=null)):t1(t)}}}function t7(t){return t in t6?t6[t]:t6[t]="on"+t}function et(t,e){if(t.ca)t=!0;else{e=new tX(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&t9(t),t=n.call(r,e)}return t}function ee(t){return(t=t[t5])instanceof t2?t:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function er(t){return"function"==typeof t?t:(t[en]||(t[en]=function(e){return t.handleEvent(e)}),t[en])}function ei(){tb.call(this),this.i=new t2(this),this.P=this,this.I=null}function eo(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new t$(e,t);else if(e instanceof t$)e.target=e.target||t;else{var i=e;tR(e=new t$(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=es(s,r,!0,e)&&i}if(i=es(s=e.g=t,r,!0,e)&&i,i=es(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=es(s=e.g=n[o],r,!1,e)&&i}function es(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&t3(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ty(ei,tb),ei.prototype[tQ]=!0,ei.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else(i=td(i)?!!i.capture:!!i,r=er(r),e&&e[tQ])?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=t4(s=e.g[n],r,i,o))&&(t1(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.g[n],e.h--))):e&&(e=ee(e))&&(n=e.g[n.toString()],e=-1,n&&(e=t4(n,r,i,o)),(r=-1<e?n[e]:null)&&t9(r))}(this,t,e,n,r)},ei.prototype.M=function(){if(ei.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)t1(n[r]);delete e.g[t],e.h--}}this.I=null},ei.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ei.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ea=tl.JSON.stringify,eu=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=ec.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),ec=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())(function(){return new el},function(t){return t.reset()}),el=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function eh(t,e){var n;oo||(n=tl.Promise.resolve(void 0),oo=function(){n.then(ep)}),ef||(oo(),ef=!0),ed.add(t,e)}var ef=!1,ed=new eu;function ep(){for(;e=null,(t=ed).g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),n=e;){try{n.h.call(n.g)}catch(t){!function(t){tl.setTimeout(function(){throw t},0)}(t)}var t,e,n,r=ec;r.j(n),100>r.h&&(r.h++,n.next=r.g,r.g=n)}ef=!1}function em(t,e){ei.call(this),this.h=t||1,this.g=e||tl,this.j=tg(this.kb,this),this.l=Date.now()}function eg(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function ev(t,e,n){if("function"==typeof t)n&&(t=tg(t,n));else if(t&&"function"==typeof t.handleEvent)t=tg(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:tl.setTimeout(t,e||0)}ty(em,ei),(ta=em.prototype).da=!1,ta.S=null,ta.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),eo(this,"tick"),this.da&&(eg(this),this.start()))}},ta.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ta.M=function(){em.Z.M.call(this),eg(this),delete this.g};var ey=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:function t(e){e.g=ev(function(){e.g=null,e.i&&(e.i=!1,t(e))},e.j);var n=e.h;e.h=null,e.m.apply(null,n)}(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(tl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(tb);function eb(t){tb.call(this),this.h=t,this.g={}}ty(eb,tb);var ew=[];function eE(t,e,n,r){Array.isArray(n)||(n&&(ew[0]=n.toString()),n=ew);for(var i=0;i<n.length;i++){var o=function t(e,n,r,i,o){if(i&&i.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=er(r),e&&e[tQ]?e.O(n,r,td(i)?!!i.capture:!!i,o):t8(e,n,r,!0,i,o)}(e,n,r,i,o);if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=er(r),e&&e[tQ]?e.N(n,r,td(i)?!!i.capture:!!i,o):t8(e,n,r,!1,i,o)}(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function eI(t){tC(t.g,function(t,e){this.g.hasOwnProperty(e)&&t9(t)},t),t.g={}}function eT(){this.g=!0}function eS(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}}return ea(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}eb.prototype.M=function(){eb.Z.M.call(this),eI(this)},eb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eT.prototype.Aa=function(){this.g=!1},eT.prototype.info=function(){};var e_={},ex=null;function eA(){return ex=ex||new ei}function ek(t){t$.call(this,e_.Ma,t)}function eN(t){var e=eA();eo(e,new ek(e,t))}function eC(t,e){t$.call(this,e_.STAT_EVENT,t),this.stat=e}function eD(t){var e=eA();eo(e,new eC(e,t))}function eP(t,e){t$.call(this,e_.Na,t),this.size=e}function eR(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return tl.setTimeout(function(){t()},e)}e_.Ma="serverreachability",ty(ek,t$),e_.STAT_EVENT="statevent",ty(eC,t$),e_.Na="timingevent",ty(eP,t$);var eO={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},eL={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function eM(){}function ej(t){return t.h||(t.h=t.i())}function eV(){}eM.prototype.h=null;var eF={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function eU(){t$.call(this,"d")}function eB(){t$.call(this,"c")}function eq(){}function ez(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new eb(this),this.P=eG,t=tV?125:void 0,this.W=new em(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new eK}function eK(){this.i=null,this.g="",this.h=!1}ty(eU,t$),ty(eB,t$),ty(eq,eM),eq.prototype.g=function(){return new XMLHttpRequest},eq.prototype.i=function(){return{}},os=new eq;var eG=45e3,eH={},eW={};function eZ(t,e,n){t.K=1,t.v=ns(nt(e)),t.s=n,t.U=!0,e$(t,null)}function e$(t,e){t.F=Date.now(),eQ(t),t.A=nt(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),nb(n.h,"t",r),t.C=0,n=t.l.H,t.h=new eK,t.g=rc(t.l,n?e:null,!t.s),0<t.O&&(t.L=new ey(tg(t.Ia,t,t.g),t.O)),eE(t.V,t.g,"readystatechange",t.gb),e=t.H?tD(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),eN(1),function(t,e,n,r,i,o){t.info(function(){if(t.g){if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null}else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function eX(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function eY(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;)if((r=function(t,e){var n=t.C,r=e.indexOf("\n",n);return -1==r?eW:isNaN(n=Number(e.substring(n,r)))?eH:(r+=1)+n>e.length?eW:(e=e.substr(r,n),t.C=r+n,e)}(t,n))==eW){4==e&&(t.o=4,eD(14),i=!1),eS(t.j,t.m,null,"[Incomplete Response]");break}else if(r==eH){t.o=4,eD(15),eS(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else eS(t.j,t.m,r,null),e3(t,r);eX(t)&&r!=eW&&r!=eH&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,eD(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),re(e),e.L=!0,eD(11))):(eS(t.j,t.m,n,"[Invalid Chunked Response]"),e2(t),e1(t))}function eQ(t){t.Y=Date.now()+t.P,eJ(t,t.P)}function eJ(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=eR(tg(t.eb,t),e)}function e0(t){t.B&&(tl.clearTimeout(t.B),t.B=null)}function e1(t){0==t.l.G||t.I||ri(t.l,t)}function e2(t){e0(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,eg(t.W),eI(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function e3(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||nx(n.i,t))){if(n.I=t.N,!t.J&&nx(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(n.g.F+3e3<t.F)rr(n),n2(n);else break t}rt(n),eD(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=eR(tg(n.ab,n),6e3));if(1>=n_(n.i)&&n.ka){try{n.ka()}catch(t){}n.ka=void 0}}else rs(n,11)}else if((t.J||n.g==t)&&rr(n),!tS(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G){if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(tx(l,"spdy")||tx(l,"quic")||tx(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(nA(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,no(r.F,r.D,f))}}if(n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),(r=n).oa=ru(r,r.H?r.la:null,r.W),t.J){nk(r.i,t);var d=r.K;d&&t.setTimeout(d),t.B&&(e0(t),eQ(t)),r.g=t}else n7(r);0<n.l.length&&n5(n)}else"stop"!=o[0]&&"close"!=o[0]||rs(n,7)}else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?rs(n,7):n1(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}}eN(4)}catch(t){}}function e4(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(tf(t)||"string"==typeof t)tE(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(tf(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(tf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function e5(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){if(t instanceof e5)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}}function e6(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];e8(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)e8(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function e8(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ta=ez.prototype).setTimeout=function(t){this.P=t},ta.gb=function(t){t=t.target;var e=this.L;e&&3==nX(t)?e.l():this.Ia(t)},ta.Ia=function(t){try{if(t==this.g)t:{var e=nX(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||tV||this.g&&(this.h.h||this.g.ga()||nY(this.g)))){this.I||4!=e||7==n||(8==n||0>=r?eN(3):eN(2)),e0(this);var i=this.g.ba();this.N=i;e:if(eX(this)){var o=nY(this.g);t="";var s=o.length,a=4==nX(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){e2(this),e1(this);var u="";break e}this.h.i=new tl.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tS(c)){var h=c;break e}}h=null}if(i=h)eS(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,e3(this,i);else{this.i=!1,this.o=3,eD(12),e2(this),e1(this);break t}}this.U?(eY(this,e,u),tV&&this.i&&3==e&&(eE(this.V,this.W,"tick",this.fb),this.W.start())):(eS(this.j,this.m,u,null),e3(this,u)),4==e&&e2(this),this.i&&!this.I&&(4==e?ri(this.l,this):(this.i=!1,eQ(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,eD(12)):(this.o=0,eD(13)),e2(this),e1(this)}}}catch(t){}finally{}},ta.fb=function(){if(this.g){var t=nX(this.g),e=this.g.ga();this.C<e.length&&(e0(this),eY(this,t,e),this.i&&4!=t&&eQ(this))}},ta.cancel=function(){this.I=!0,e2(this)},ta.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(eN(3),eD(17)),e2(this),this.o=2,e1(this)):eJ(this,this.Y-t)},(ta=e5.prototype).R=function(){e6(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},ta.T=function(){return e6(this),this.g.concat()},ta.get=function(t,e){return e8(this.h,t)?this.h[t]:e},ta.set=function(t,e){e8(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},ta.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var e9=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function e7(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof e7){this.g=void 0!==e?e:t.g,ne(this,t.j),this.s=t.s,nn(this,t.i),nr(this,t.m),this.l=t.l,e=t.h;var n=new nm;n.i=e.i,e.g&&(n.g=new e5(e.g),n.h=e.h),ni(this,n),this.o=t.o}else t&&(n=String(t).match(e9))?(this.g=!!e,ne(this,n[1]||"",!0),this.s=na(n[2]||""),nn(this,n[3]||"",!0),nr(this,n[4]),this.l=na(n[5]||"",!0),ni(this,n[6]||"",!0),this.o=na(n[7]||"")):(this.g=!!e,this.h=new nm(null,this.g))}function nt(t){return new e7(t)}function ne(t,e,n){t.j=n?na(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nn(t,e,n){t.i=n?na(e,!0):e}function nr(t,e){if(e){if(isNaN(e=Number(e))||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ni(t,e,n){var r,i;e instanceof nm?(t.h=e,r=t.h,(i=t.g)&&!r.j&&(ng(r),r.i=null,r.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(nv(this,e),nb(this,n,t))},r)),r.j=i):(n||(e=nu(e,nd)),t.h=new nm(e,t.g))}function no(t,e,n){t.h.set(e,n)}function ns(t){return no(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function na(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,nc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}e7.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nu(e,nl,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(nu(e,nl,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(nu(n,"/"==n.charAt(0)?nf:nh,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nu(n,np)),t.join("")};var nl=/[#\/\?@]/g,nh=/[#\?:]/g,nf=/[#\?]/g,nd=/[#\?@]/g,np=/#/g;function nm(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ng(t){t.g||(t.g=new e5,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function nv(t,e){ng(t),e=nw(t,e),e8(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,e8((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&e6(t)))}function ny(t,e){return ng(t),e=nw(t,e),e8(t.g.h,e)}function nb(t,e,n){nv(t,e),0<n.length&&(t.i=null,t.g.set(nw(t,e),tT(n)),t.h+=n.length)}function nw(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(ta=nm.prototype).add=function(t,e){ng(this),this.i=null,t=nw(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},ta.forEach=function(t,e){ng(this),this.g.forEach(function(n,r){tE(n,function(n){t.call(e,n,r,this)},this)},this)},ta.T=function(){ng(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ta.R=function(t){ng(this);var e=[];if("string"==typeof t)ny(this,t)&&(e=tI(e,this.g.get(nw(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=tI(e,t[n])}return e},ta.set=function(t,e){return ng(this),this.i=null,ny(this,t=nw(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ta.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},ta.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var nE=function(t,e){this.h=t,this.g=e};function nI(t){this.l=t||nT,t=tl.PerformanceNavigationTiming?0<(t=tl.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(tl.g&&tl.g.Ea&&tl.g.Ea()&&tl.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nT=10;function nS(t){return!!t.h||!!t.g&&t.g.size>=t.j}function n_(t){return t.h?1:t.g?t.g.size:0}function nx(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function nA(t,e){t.g?t.g.add(e):t.h=e}function nk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function nN(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=te(t.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return tT(t.i)}function nC(){}function nD(){this.g=new nC}function nP(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function nR(t){this.l=t.$b||null,this.j=t.ib||!1}function nO(t,e){ei.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=nL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nI.prototype.cancel=function(){var t,e;if(this.i=nN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=te(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},nC.prototype.stringify=function(t){return tl.JSON.stringify(t,void 0)},nC.prototype.parse=function(t){return tl.JSON.parse(t,void 0)},ty(nR,eM),nR.prototype.g=function(){return new nO(this.l,this.j)},nR.prototype.i=(oe={},function(){return oe}),ty(nO,ei);var nL=0;function nM(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function nj(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nV(t)}function nV(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ta=nO.prototype).open=function(t,e){if(this.readyState!=nL)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nV(this)},ta.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||tl).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ta.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nj(this)),this.readyState=nL},ta.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nV(this)),this.g&&(this.readyState=3,nV(this),this.g))){if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==tl.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nM(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))}},ta.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?nj(this):nV(this),3==this.readyState&&nM(this)}},ta.Ua=function(t){this.g&&(this.response=this.responseText=t,nj(this))},ta.Ta=function(t){this.g&&(this.response=t,nj(this))},ta.ha=function(){this.g&&nj(this)},ta.setRequestHeader=function(t,e){this.v.append(t,e)},ta.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ta.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(nO.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var nF=tl.JSON.parse;function nU(t){ei.call(this),this.headers=new e5,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nB,this.K=this.L=!1}ty(nU,ei);var nB="",nq=/^https?$/i,nz=["POST","PUT"];function nK(t){return"content-type"==t.toLowerCase()}function nG(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nH(t),nZ(t)}function nH(t){t.D||(t.D=!0,eo(t,"complete"),eo(t,"error"))}function nW(t){if(t.h&&void 0!==tc&&(!t.C[1]||4!=nX(t)||2!=t.ba())){if(t.v&&4==nX(t))ev(t.Fa,0,t);else if(eo(t,"readystatechange"),4==nX(t)){t.h=!1;try{var e,n,r=t.ba();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){if(n=0===r){var o=String(t.H).match(e9)[1]||null;if(!o&&tl.self&&tl.self.location){var s=tl.self.location.protocol;o=s.substr(0,s.length-1)}n=!nq.test(o?o.toLowerCase():"")}e=n}if(e)eo(t,"complete"),eo(t,"success");else{t.m=6;try{var a=2<nX(t)?t.g.statusText:""}catch(t){a=""}t.j=a+" ["+t.ba()+"]",nH(t)}}finally{nZ(t)}}}}function nZ(t,e){if(t.g){n$(t);var n=t.g,r=t.C[0]?th:null;t.g=null,t.C=null,e||eo(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function n$(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(tl.clearTimeout(t.A),t.A=null)}function nX(t){return t.g?t.g.readyState:0}function nY(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case nB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function nQ(t,e,n){t:{for(i in n){var r,i=!1;break t}i=!0}i||(r="",tC(n,function(t,e){r+=e+":"+t+"\r\n"}),n=r,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):no(t,e,n))}function nJ(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function n0(t){this.za=0,this.l=[],this.h=new eT,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nJ("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nJ("baseRetryDelayMs",5e3,t),this.$a=nJ("retryDelaySeedMs",1e4,t),this.Ya=nJ("forwardChannelMaxRetries",2,t),this.ra=nJ("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new nI(t&&t.concurrentRequestLimit),this.Ca=new nD,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function n1(t){if(n3(t),3==t.G){var e=t.V++,n=nt(t.F);no(n,"SID",t.J),no(n,"RID",e),no(n,"TYPE","terminate"),n8(t,n),(e=new ez(t,t.h,e,void 0)).K=2,e.v=ns(nt(n)),n=!1,tl.navigator&&tl.navigator.sendBeacon&&(n=tl.navigator.sendBeacon(e.v.toString(),"")),!n&&tl.Image&&((new Image).src=e.v,n=!0),n||(e.g=rc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),eQ(e)}ra(t)}function n2(t){t.g&&(re(t),t.g.cancel(),t.g=null)}function n3(t){n2(t),t.u&&(tl.clearTimeout(t.u),t.u=null),rr(t),t.i.cancel(),t.m&&("number"==typeof t.m&&tl.clearTimeout(t.m),t.m=null)}function n4(t,e){t.l.push(new nE(t.Za++,e)),3==t.G&&n5(t)}function n5(t){nS(t.i)||t.m||(t.m=!0,eh(t.Ha,t),t.C=0)}function n6(t,e){n=e?e.m:t.V++;var n,r=nt(t.F);no(r,"SID",t.J),no(r,"RID",n),no(r,"AID",t.U),n8(t,r),t.o&&t.s&&nQ(r,t.o,t.s),n=new ez(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=n9(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),nA(t.i,n),eZ(n,r,e)}function n8(t,e){t.j&&e4({},function(t,n){no(e,n,t)})}function n9(t,e,n){n=Math.min(t.l.length,n);var r=t.j?tg(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{!function(t,e,n){var r=n||"";try{e4(t,function(t,n){var i=t;td(t)&&(i=ea(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function n7(t){t.g||t.u||(t.Y=1,eh(t.Ga,t),t.A=0)}function rt(t){return!t.g&&!t.u&&!(3<=t.A)&&(t.Y++,t.u=eR(tg(t.Ga,t),ro(t,t.A)),t.A++,!0)}function re(t){null!=t.B&&(tl.clearTimeout(t.B),t.B=null)}function rn(t){t.g=new ez(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=nt(t.oa);no(e,"RID","rpc"),no(e,"SID",t.J),no(e,"CI",t.N?"0":"1"),no(e,"AID",t.U),n8(t,e),no(e,"TYPE","xmlhttp"),t.o&&t.s&&nQ(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ns(nt(e)),n.s=null,n.U=!0,e$(n,t)}function rr(t){null!=t.v&&(tl.clearTimeout(t.v),t.v=null)}function ri(t,e){var n=null;if(t.g==e){rr(t),re(t),t.g=null;var r=2}else{if(!nx(t.i,e))return;n=e.D,nk(t.i,e),r=1}if(t.I=e.N,0!=t.G){if(e.i){if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i,o,s=t.C;eo(r=eA(),new eP(r,n,e,s)),n5(t)}else n7(t)}else if(3==(s=e.o)||0==s&&0<t.I||!(1==r&&(i=t,o=e,!(n_(i.i)>=i.i.j-(i.m?1:0))&&(i.m?(i.l=o.D.concat(i.l),!0):1!=i.G&&2!=i.G&&!(i.C>=(i.Xa?0:i.Ya))&&(i.m=eR(tg(i.Ha,i,o),ro(i,i.C)),i.C++,!0)))||2==r&&rt(t)))switch(n&&0<n.length&&((e=t.i).i=e.i.concat(n)),s){case 1:rs(t,5);break;case 4:rs(t,10);break;case 3:rs(t,6);break;default:rs(t,2)}}}function ro(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function rs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=tg(t.jb,t);n||(n=new e7("//www.google.com/images/cleardot.gif"),tl.location&&"http"==tl.location.protocol||ne(n,"https"),ns(n)),function(t,e){var n=new eT;if(tl.Image){var r=new Image;r.onload=tv(nP,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tv(nP,n,r,"TestLoadImage: error",!1,e),r.onabort=tv(nP,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tv(nP,n,r,"TestLoadImage: timeout",!1,e),tl.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else eD(2);t.G=0,t.j&&t.j.va(e),ra(t),n3(t)}function ra(t){t.G=0,t.I=-1,t.j&&((0!=nN(t.i).length||0!=t.l.length)&&(t.i.i.length=0,tT(t.l),t.l.length=0),t.j.ua())}function ru(t,e,n){var r=(i=n)instanceof e7?nt(i):new e7(i,void 0);if(""!=r.i)e&&nn(r,e+"."+r.i),nr(r,r.m);else{var i,o,s,a,u,c,l=tl.location;o=l.protocol,s=e?e+"."+l.hostname:l.hostname,a=+l.port,u=n,c=new e7(null,void 0),o&&ne(c,o),s&&nn(c,s),a&&nr(c,a),u&&(c.l=u),r=c}return t.aa&&tC(t.aa,function(t,e){no(r,e,t)}),e=t.D,n=t.sa,e&&n&&no(r,e,n),no(r,"VER",t.ma),n8(t,r),r}function rc(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nU(n&&t.Ba&&!t.qa?new nR({ib:!0}):t.qa)).L=t.H,e}function rl(){}function rh(){if(tM&&!(10<=Number(tW)))throw Error("Environmental error: no available transport.")}function rf(t,e){ei.call(this),this.g=new n0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!tS(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tS(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new rm(this)}function rd(t){eU.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function rp(){eB.call(this),this.status=1}function rm(t){this.g=t}(ta=nU.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():os.g(),this.C=this.u?ej(this.u):ej(os),this.g.onreadystatechange=tg(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){nG(this,t);return}t=n||"";var i,o,s=new e5(this.headers);r&&e4(r,function(t,e){s.set(e,t)}),r=function(t){t:{for(var e=nK,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(s.T()),n=tl.FormData&&t instanceof tl.FormData,!(0<=tw(nz,e))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{n$(this),0<this.B&&((this.K=(i=this.g,tM&&(o=tH,Object.prototype.hasOwnProperty.call(o,9)?o[9]:o[9]=function(){for(var t=0,e=t_(String(or)).split("."),n=t_("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=tA(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||tA(0==o[2].length,0==s[2].length)||tA(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}(9))&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=tg(this.pa,this)):this.A=ev(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){nG(this,t)}},ta.pa=function(){void 0!==tc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eo(this,"timeout"),this.abort(8))},ta.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,eo(this,"complete"),eo(this,"abort"),nZ(this))},ta.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nZ(this,!0)),nU.Z.M.call(this)},ta.Fa=function(){this.s||(this.F||this.v||this.l?nW(this):this.cb())},ta.cb=function(){nW(this)},ta.ba=function(){try{return 2<nX(this)?this.g.status:-1}catch(t){return -1}},ta.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},ta.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),nF(e)}},ta.Da=function(){return this.m},ta.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ta=n0.prototype).ma=8,ta.G=1,ta.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},ta.Ha=function(t){if(this.m){if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ez(this,this.h,t,void 0),n=this.s;if(this.P&&(n?tR(n=tD(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){e:{var o=this.l[i];if("__data__"in o.g&&"string"==typeof(o=o.g.__data__)){o=o.length;break e}o=void 0}if(void 0===o)break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=n9(this,e,r),no(i=nt(this.F),"RID",t),no(i,"CVER",22),this.D&&no(i,"X-HTTP-Session-Id",this.D),n8(this,i),this.o&&n&&nQ(i,this.o,n),nA(this.i,e),this.Ra&&no(i,"TYPE","init"),this.ja?(no(i,"$req",r),no(i,"SID","null"),e.$=!0,eZ(e,i,null)):eZ(e,i,r),this.G=2}}else 3==this.G&&(t?n6(this,t):0==this.l.length||nS(this.i)||n6(this))}},ta.Ga=function(){if(this.u=null,rn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=eR(tg(this.bb,this),t)}},ta.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,eD(10),n2(this),rn(this))},ta.ab=function(){null!=this.v&&(this.v=null,n2(this),rt(this),eD(19))},ta.jb=function(t){t?(this.h.info("Successfully pinged google.com"),eD(2)):(this.h.info("Failed to ping google.com"),eD(1))},(ta=rl.prototype).xa=function(){},ta.wa=function(){},ta.va=function(){},ta.ua=function(){},ta.Oa=function(){},rh.prototype.g=function(t,e){return new rf(t,e)},ty(rf,ei),rf.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),eh(tg(t.hb,t,e))),eD(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=ru(t,null,t.W),n5(t)},rf.prototype.close=function(){n1(this.g)},rf.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,n4(this.g,e)}else this.v?((e={}).__data__=ea(t),n4(this.g,e)):n4(this.g,t)},rf.prototype.M=function(){this.g.j=null,delete this.j,n1(this.g),delete this.g,rf.Z.M.call(this)},ty(rd,eU),ty(rp,eB),ty(rm,rl),rm.prototype.xa=function(){eo(this.g,"a")},rm.prototype.wa=function(t){eo(this.g,new rd(t))},rm.prototype.va=function(t){eo(this.g,new rp(t))},rm.prototype.ua=function(){eo(this.g,"b")},rh.prototype.createWebChannel=rh.prototype.g,rf.prototype.send=rf.prototype.u,rf.prototype.open=rf.prototype.m,rf.prototype.close=rf.prototype.close,eO.NO_ERROR=0,eO.TIMEOUT=8,eO.HTTP_ERROR=6,eL.COMPLETE="complete",eV.EventType=eF,eF.OPEN="a",eF.CLOSE="b",eF.ERROR="c",eF.MESSAGE="d",ei.prototype.listen=ei.prototype.N,nU.prototype.listenOnce=nU.prototype.O,nU.prototype.getLastError=nU.prototype.La,nU.prototype.getLastErrorCode=nU.prototype.Da,nU.prototype.getStatus=nU.prototype.ba,nU.prototype.getResponseJson=nU.prototype.Qa,nU.prototype.getResponseText=nU.prototype.ga,nU.prototype.send=nU.prototype.ea;var rg={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rv=n(4155),ry=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();ry.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o(e,t),e}(Error),rE=new F("@firebase/firestore");function rI(){return rE.logLevel}function rT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rE.logLevel<=ti.DEBUG){var r=e.map(rx);rE.debug.apply(rE,h(["Firestore (8.10.1): "+t],r))}}function rS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rE.logLevel<=ti.ERROR){var r=e.map(rx);rE.error.apply(rE,h(["Firestore (8.10.1): "+t],r))}}function r_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rE.logLevel<=ti.WARN){var r=e.map(rx);rE.warn.apply(rE,h(["Firestore (8.10.1): "+t],r))}}function rx(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw rS(e),Error(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rk=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function rN(t,e){return t<e?-1:t>e?1:0}function rC(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rD=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0||e>=1e9)throw new rw(rb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800||t>=253402300800)throw new rw(rb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?rN(this.nanoseconds,t.nanoseconds):rN(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),rP=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new rD(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rO(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rL(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rM=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&rA(),void 0===n?n=t.length-e:n>t.length-e&&rA(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return -1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),rj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0;i<t.length;i++){var o=t[i];if(o.indexOf("//")>=0)throw new rw(rb.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(rM),rV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return rV.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new rw(rb.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new rw(rb.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new rw(rb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new rw(rb.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(rM),rU=function(){function t(t){this.fields=t,t.sort(rF.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return rC(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),rB=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return rN(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();rB.EMPTY_BYTE_STRING=new rB("");var rq=RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rz(t){if(t||rA(),"string"==typeof t){var e=0,n=rq.exec(t);if(n||rA(),n[1]){var r=n[1];e=Number(r=(r+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(t).getTime()/1e3),nanos:e}}return{seconds:rK(t.seconds),nanos:rK(t.nanos)}}function rK(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function rG(t){return"string"==typeof t?rB.fromBase64String(t):rB.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rW(t){var e=rz(t.mapValue.fields.__local_write_time__.timestampValue);return new rD(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(t){return null==t}function r$(t){return 0===t&&1/t==-1/0}function rX(t){return"number"==typeof t&&Number.isInteger(t)&&!r$(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rY=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(rj.fromString(e))},t.fromName=function(e){return new t(rj.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===rj.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return rj.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new rj(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rQ(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rH(t)?4:10:rA()}function rJ(t,e){var n=rQ(t);if(n!==rQ(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rW(t).isEqual(rW(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=rz(t.timestampValue),r=rz(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return rG(t.bytesValue).isEqual(rG(e.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return rK(t.geoPointValue.latitude)===rK(e.geoPointValue.latitude)&&rK(t.geoPointValue.longitude)===rK(e.geoPointValue.longitude);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return rK(t.integerValue)===rK(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=rK(t.doubleValue),r=rK(e.doubleValue);return n===r?r$(n)===r$(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return rC(t.arrayValue.values||[],e.arrayValue.values||[],rJ);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(rR(n)!==rR(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!rJ(n[i],r[i])))return!1;return!0}(t,e);default:return rA()}}function r0(t,e){return void 0!==(t.values||[]).find(function(t){return rJ(t,e)})}function r1(t,e){var n,r,i,o,s,a,u,c,l,h=rQ(t),f=rQ(e);if(h!==f)return rN(h,f);switch(h){case 0:return 0;case 1:return rN(t.booleanValue,e.booleanValue);case 2:return(n=rK(t.integerValue||t.doubleValue))<(r=rK(e.integerValue||e.doubleValue))?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1;case 3:return r2(t.timestampValue,e.timestampValue);case 4:return r2(rW(t),rW(e));case 5:return rN(t.stringValue,e.stringValue);case 6:return i=t.bytesValue,o=e.bytesValue,s=rG(i),a=rG(o),s.compareTo(a);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=rN(n[i],r[i]);if(0!==o)return o}return rN(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return u=t.geoPointValue,c=e.geoPointValue,0!==(l=rN(rK(u.latitude),rK(c.latitude)))?l:rN(rK(u.longitude),rK(c.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=r1(n[i],r[i]);if(o)return o}return rN(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=rN(r[s],o[s]);if(0!==a)return a;var u=r1(n[r[s]],i[o[s]]);if(0!==u)return u}return rN(r.length,o.length)}(t.mapValue,e.mapValue);default:throw rA()}}function r2(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return rN(t,e);var n=rz(t),r=rz(e),i=rN(n.seconds,r.seconds);return 0!==i?i:rN(n.nanos,r.nanos)}function r3(t){var e,n,r;return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(r=rz(t.timestampValue)).seconds+","+r.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?rG(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,rY.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=r3(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+r3(t.fields[o])}return e+"}"}(t.mapValue):rA()}function r4(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function r5(t){return!!t&&"integerValue"in t}function r6(t){return!!t&&"arrayValue"in t}function r8(t){return!!t&&"nullValue"in t}function r9(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function r7(t){return!!t&&"mapValue"in t}function it(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return rO(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=it(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=it(t.arrayValue.values[r]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!r7(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=it(e)},t.prototype.setAll=function(t){var e=this,n=rF.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=it(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());r7(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return rJ(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];r7(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){rO(e,function(e,n){return t[e]=n});for(var r=0;r<n.length;r++)delete t[n[r]]},t.prototype.clone=function(){return new t(it(this.value))},t}(),ir=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,rP.min(),ie.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ie.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ie.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ie.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ie.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),ii=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ii(t,e,n,r,i,o,s)}function is(t){var e=t;if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:"+e.filters.map(function(t){return t.field.canonicalString()+t.op.toString()+r3(t.value)}).join(",")+"|ob:"+e.orderBy.map(function(t){return t.field.canonicalString()+t.dir}).join(","),rZ(e.limit)||(n+="|l:"+e.limit),e.startAt&&(n+="|lb:"+iw(e.startAt)),e.endAt&&(n+="|ub:"+iw(e.endAt)),e.h=n}return e.h}function ia(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i,o,s=0;s<t.orderBy.length;s++)if(n=t.orderBy[s],r=e.orderBy[s],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1;if(t.filters.length!==e.filters.length)return!1;for(var a=0;a<t.filters.length;a++)if(i=t.filters[a],o=e.filters[a],i.op!==o.op||!i.field.isEqual(o.field)||!rJ(i.value,o.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iT(t.startAt,e.startAt)&&iT(t.endAt,e.endAt)}function iu(t){return rY.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ic=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return o(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new il(t,n,r):"array-contains"===n?new im(t,r):"in"===n?new ig(t,r):"not-in"===n?new iv(t,r):"array-contains-any"===n?new iy(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ih(t,n):new id(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(r1(e,this.value)):null!==e&&rQ(this.value)===rQ(e)&&this.m(r1(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return rA()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),il=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=rY.fromName(r.referenceValue),i}return o(e,t),e.prototype.matches=function(t){var e=rY.comparator(t.key,this.key);return this.m(e)},e}(ic),ih=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ip("in",n),r}return o(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ic),id=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ip("not-in",n),r}return o(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ic);function ip(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return rY.fromName(t.referenceValue)})}var im=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return r6(e)&&r0(e.arrayValue,this.value)},e}(ic),ig=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&r0(this.value.arrayValue,e)},e}(ic),iv=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return o(e,t),e.prototype.matches=function(t){if(r0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!r0(this.value.arrayValue,e)},e}(ic),iy=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return o(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!r6(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return r0(e.value.arrayValue,t)})},e}(ic),ib=function(t,e){this.position=t,this.before=e};function iw(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return r3(t)}).join(",")}var iE=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function iI(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?rY.comparator(rY.fromName(s.referenceValue),n.key):r1(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function iT(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!rJ(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iS=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function i_(t){return new iS(t)}function ix(t){return!rZ(t.limit)&&"F"===t.limitType}function iA(t){return!rZ(t.limit)&&"L"===t.limitType}function ik(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function iN(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function iC(t){return null!==t.collectionGroup}function iD(t){var e=t;if(null===e.p){e.p=[];var n=iN(e),r=ik(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new iE(n)),e.p.push(new iE(rF.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new iE(rF.keyField(),u))}}}return e.p}function iP(t){var e=t;if(!e.T){if("F"===e.limitType)e.T=io(e.path,e.collectionGroup,iD(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=iD(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new iE(o.field,s))}var a=e.endAt?new ib(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ib(e.startAt.position,!e.startAt.before):null;e.T=io(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}}return e.T}function iR(t,e,n){return new iS(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function iO(t,e){return ia(iP(t),iP(e))&&t.limitType===e.limitType}function iL(t){return is(iP(t))+"|lt:"+t.limitType}function iM(t){var e,n;return"Query(target="+(n=(e=iP(t)).path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(t){return t.field.canonicalString()+" "+t.op+" "+r3(t.value)}).join(", ")+"]"),rZ(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(t){return t.field.canonicalString()+" ("+t.dir+")"}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+iw(e.startAt)),e.endAt&&(n+=", endAt: "+iw(e.endAt)),"Target("+n+")")+"; limitType="+t.limitType+")"}function ij(t,e){var n;return e.isFoundDocument()&&(n=e.key.path,null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):rY.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n))&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&!(t.startAt&&!iI(t.startAt,iD(t),e))&&(!t.endAt||!iI(t.endAt,iD(t),e))}function iV(t){return function(e,n){for(var r=!1,i=0,o=iD(t);i<o.length;i++){var s=o[i],a=function(t,e,n){var r,i,o,s=t.field.isKeyField()?rY.comparator(e.key,n.key):(r=t.field,i=e.data.field(r),o=n.data.field(r),null!==i&&null!==o?r1(i,o):rA());switch(t.dir){case"asc":return s;case"desc":return -1*s;default:return rA()}}(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r$(e)?"-0":e}}function iU(t){return{integerValue:""+t}}function iB(t,e){return rX(e)?iU(e):iF(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iq=function(){this._=void 0};function iz(t,e){return t instanceof i$?r5(e)||e&&"doubleValue"in e?e:{integerValue:0}:null}var iK=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(iq),iG=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(iq);function iH(t,e){for(var n=iY(e),r=function(t){n.some(function(e){return rJ(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var iW=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(iq);function iZ(t,e){for(var n=iY(e),r=function(t){n=n.filter(function(e){return!rJ(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var i$=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return o(e,t),e}(iq);function iX(t){return rK(t.integerValue||t.doubleValue)}function iY(t){return r6(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iQ=function(t,e){this.field=t,this.transform=e},iJ=function(t,e){this.version=t,this.transformResults=e},i0=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function i1(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var i2=function(){};function i3(t,e,n){t instanceof i6?function(t,e,n){if(i1(t.precondition,e)){var r=t.value.clone(),i=ot(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(i5(e),r).setHasLocalMutations()}}(t,e,n):t instanceof i8?function(t,e,n){if(i1(t.precondition,e)){var r=ot(t.fieldTransforms,n,e),i=e.data;i.setAll(i9(t)),i.setAll(r),e.convertToFoundDocument(i5(e),i).setHasLocalMutations()}}(t,e,n):i1(t.precondition,e)&&e.convertToNoDocument(rP.min())}function i4(t,e){var n,r;return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&rC(n,r,function(t,e){var n,r;return t.field.isEqual(e.field)&&(n=t.transform,r=e.transform,n instanceof iG&&r instanceof iG||n instanceof iW&&r instanceof iW?rC(n.elements,r.elements,rJ):n instanceof i$&&r instanceof i$?rJ(n.A,r.A):n instanceof iK&&r instanceof iK)})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function i5(t){return t.isFoundDocument()?t.version:rP.min()}var i6=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return o(e,t),e}(i2),i8=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return o(e,t),e}(i2);function i9(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function i7(t,e,n){var r=new Map;t.length===n.length||rA();for(var i=0;i<n.length;i++){var o,s=t[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,(o=n[i],a instanceof iG?iH(a,u):a instanceof iW?iZ(a,u):o))}return r}function ot(t,e,n){for(var r=new Map,i=0;i<t.length;i++){var o=t[i],s=o.transform,a=n.data.field(o.field);r.set(o.field,function(t,e,n){var r,i,o;return t instanceof iK?(r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}},e&&(r.fields.__previous_value__=e),{mapValue:r}):t instanceof iG?iH(t,e):t instanceof iW?iZ(t,e):(o=iX(i=iz(t,e))+iX(t.A),r5(i)&&r5(t.A)?iU(o):iF(t.R,o))}(s,a,e))}return r}var oe,on,or,oi,oo,os,oa,ou,oc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return o(e,t),e}(i2),ol=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return o(e,t),e}(i2),oh=function(t){this.count=t};function of(t){switch(t){case rb.OK:return rA();case rb.CANCELLED:case rb.UNKNOWN:case rb.DEADLINE_EXCEEDED:case rb.RESOURCE_EXHAUSTED:case rb.INTERNAL:case rb.UNAVAILABLE:case rb.UNAUTHENTICATED:return!1;case rb.INVALID_ARGUMENT:case rb.NOT_FOUND:case rb.ALREADY_EXISTS:case rb.PERMISSION_DENIED:case rb.FAILED_PRECONDITION:case rb.ABORTED:case rb.OUT_OF_RANGE:case rb.UNIMPLEMENTED:case rb.DATA_LOSS:return!0;default:return rA()}}function od(t){if(void 0===t)return rS("GRPC error has no .code"),rb.UNKNOWN;switch(t){case oa.OK:return rb.OK;case oa.CANCELLED:return rb.CANCELLED;case oa.UNKNOWN:return rb.UNKNOWN;case oa.DEADLINE_EXCEEDED:return rb.DEADLINE_EXCEEDED;case oa.RESOURCE_EXHAUSTED:return rb.RESOURCE_EXHAUSTED;case oa.INTERNAL:return rb.INTERNAL;case oa.UNAVAILABLE:return rb.UNAVAILABLE;case oa.UNAUTHENTICATED:return rb.UNAUTHENTICATED;case oa.INVALID_ARGUMENT:return rb.INVALID_ARGUMENT;case oa.NOT_FOUND:return rb.NOT_FOUND;case oa.ALREADY_EXISTS:return rb.ALREADY_EXISTS;case oa.PERMISSION_DENIED:return rb.PERMISSION_DENIED;case oa.FAILED_PRECONDITION:return rb.FAILED_PRECONDITION;case oa.ABORTED:return rb.ABORTED;case oa.OUT_OF_RANGE:return rb.OUT_OF_RANGE;case oa.UNIMPLEMENTED:return rb.UNIMPLEMENTED;case oa.DATA_LOSS:return rb.DATA_LOSS;default:return rA()}}(ou=oa||(oa={}))[ou.OK=0]="OK",ou[ou.CANCELLED=1]="CANCELLED",ou[ou.UNKNOWN=2]="UNKNOWN",ou[ou.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ou[ou.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ou[ou.NOT_FOUND=5]="NOT_FOUND",ou[ou.ALREADY_EXISTS=6]="ALREADY_EXISTS",ou[ou.PERMISSION_DENIED=7]="PERMISSION_DENIED",ou[ou.UNAUTHENTICATED=16]="UNAUTHENTICATED",ou[ou.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ou[ou.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ou[ou.ABORTED=10]="ABORTED",ou[ou.OUT_OF_RANGE=11]="OUT_OF_RANGE",ou[ou.UNIMPLEMENTED=12]="UNIMPLEMENTED",ou[ou.INTERNAL=13]="INTERNAL",ou[ou.UNAVAILABLE=14]="UNAVAILABLE",ou[ou.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var op=function(){function t(t,e){this.comparator=t,this.root=e||og.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,og.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,og.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return -1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new om(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new om(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new om(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new om(this.root,t,this.comparator,!0)},t}(),om=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),og=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(0>n(e,i.key))i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){return Math.pow(2,this.check())<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rA();var t=this.left.check();if(t!==this.right.check())throw rA();return t+(this.isRed()?0:1)},t}();og.EMPTY=null,og.RED=!0,og.BLACK=!1,og.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw rA()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw rA()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw rA()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw rA()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw rA()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new og(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ov=function(){function t(t){this.comparator=t,this.data=new op(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new oy(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new oy(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),oy=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ob=new op(rY.comparator),ow=new op(rY.comparator),oE=new op(rY.comparator),oI=new ov(rY.comparator);function oT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=oI,r=0;r<t.length;r++){var i=t[r];n=n.add(i)}return n}var oS=new ov(rN),o_=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ox.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(rP.min(),r,oS,ob,oT())},t}(),ox=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(rB.EMPTY_BYTE_STRING,n,oT(),oT(),oT())},t}(),oA=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ok=function(t,e){this.targetId=t,this.V=e},oN=function(t,e,n,r){void 0===n&&(n=rB.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},oC=function(){function t(){this.S=0,this.D=oR(),this.C=rB.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=oT(),e=oT(),n=oT();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:rA()}}),new ox(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=oR()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),oD=function(){function t(t){this.W=t,this.G=new Map,this.H=ob,this.J=oP(),this.Y=new ov(rN)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:rA()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(iu(i)){if(0===n){var o=new rY(i.path);this.tt(e,o,ir.newNoDocument(o,rP.min()))}else 1===n||rA()}else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&iu(o.target)){var s=new rY(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,ir.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=oT();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new o_(t,n,this.Y,this.H,r);return this.H=ob,this.J=oP(),this.Y=new ov(rN),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new oC,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ov(rN),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||rT("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new oC),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function oP(){return new op(rY.comparator)}function oR(){return new op(rY.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oO={asc:"ASCENDING",desc:"DESCENDING"},oL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oM=function(t,e){this.databaseId=t,this.I=e};function oj(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function oV(t,e){return t.I?e.toBase64():e.toUint8Array()}function oF(t){var e;return t||rA(),rP.fromTimestamp((e=rz(t),new rD(e.seconds,e.nanos)))}function oU(t,e){return new rj(["projects",t.projectId,"databases",t.database]).child("documents").child(e).canonicalString()}function oB(t){var e=rj.fromString(t);return o5(e)||rA(),e}function oq(t,e){return oU(t.databaseId,e.path)}function oz(t,e){var n=oB(e);if(n.get(1)!==t.databaseId.projectId)throw new rw(rb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new rw(rb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rY(oW(n))}function oK(t,e){return oU(t.databaseId,e)}function oG(t){var e=oB(t);return 4===e.length?rj.emptyPath():oW(e)}function oH(t){return new rj(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oW(t){return t.length>4&&"documents"===t.get(4)||rA(),t.popFirst(5)}function oZ(t,e,n){return{name:oq(t,e),fields:n.value.mapValue.fields}}function o$(t,e,n){var r=oz(t,e.name),i=oF(e.updateTime),o=new ie({mapValue:{fields:e.fields}}),s=ir.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function oX(t,e){var n,r,i,o;if(e instanceof i6)n={update:oZ(t,e.key,e.value)};else if(e instanceof oc)n={delete:oq(t,e.key)};else if(e instanceof i8)n={update:oZ(t,e.key,e.data),updateMask:(i=e.fieldMask,o=[],i.fields.forEach(function(t){return o.push(t.canonicalString())}),{fieldPaths:o})};else{if(!(e instanceof ol))return rA();n={verify:oq(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof iK)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof iG)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof iW)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof i$)return{fieldPath:e.field.canonicalString(),increment:n.A};throw rA()}(0,t)})),e.precondition.isNone||(n.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:oj(t,r.updateTime.toTimestamp())}:void 0!==r.exists?{exists:r.exists}:rA()),n}function oY(t,e){var n=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?i0.updateTime(oF(s.updateTime)):void 0!==s.exists?i0.exists(s.exists):i0.none():i0.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;if("setToServerValue"in e)"REQUEST_TIME"===e.setToServerValue||rA(),n=new iK;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new iG(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new iW(i)}else"increment"in e?n=new i$(t,e.increment):rA();var o=rF.fromServerFormat(e.fieldPath);return new iQ(o,n)}(t,e)}):[];if(e.update){e.update.name;var i=oz(t,e.update.name),o=new ie({mapValue:{fields:e.update.fields}});if(e.updateMask){var s,a,u=(a=e.updateMask.fieldPaths||[],new rU(a.map(function(t){return rF.fromServerFormat(t)})));return new i8(i,o,u,n,r)}return new i6(i,o,n,r)}if(e.delete){var c=oz(t,e.delete);return new oc(c,n)}if(e.verify){var l=oz(t,e.verify);return new ol(l,n)}return rA()}function oQ(t,e){return{documents:[oK(t,e.path)]}}function oJ(t,e){var n,r={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(r.parent=oK(t,i),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=oK(t,i.popLast()),r.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(r9(t.value))return{unaryFilter:{field:o3(t.field),op:"IS_NAN"}};if(r8(t.value))return{unaryFilter:{field:o3(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(r9(t.value))return{unaryFilter:{field:o3(t.field),op:"IS_NOT_NAN"}};if(r8(t.value))return{unaryFilter:{field:o3(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:o3(t.field),op:oL[t.op],value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);o&&(r.structuredQuery.where=o);var s=function(t){if(0!==t.length)return t.map(function(t){return{field:o3(t.field),direction:oO[t.dir]}})}(e.orderBy);s&&(r.structuredQuery.orderBy=s);var a=(n=e.limit,t.I||rZ(n)?n:{value:n});return null!==a&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=o1(e.startAt)),e.endAt&&(r.structuredQuery.endAt=o1(e.endAt)),r}function o0(t){var e,n,r,i,o,s,a,u,c,l=oG(t.parent),h=t.structuredQuery,f=h.from?h.from.length:0,d=null;if(f>0){1===f||rA();var p=h.from[0];p.allDescendants?d=p.collectionId:l=l.child(p.collectionId)}var m=[];h.where&&(m=function t(e){return e?void 0!==e.unaryFilter?[function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=o4(t.unaryFilter.field);return ic.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=o4(t.unaryFilter.field);return ic.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=o4(t.unaryFilter.field);return ic.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=o4(t.unaryFilter.field);return ic.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rA()}}(e)]:void 0!==e.fieldFilter?[ic.create(o4(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rA()}}(e.fieldFilter.op),e.fieldFilter.value)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):rA():[]}(h.where));var g=[];h.orderBy&&(g=h.orderBy.map(function(t){return new iE(o4(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}));var v=null;h.limit&&(v=rZ(n="object"==typeof(e=h.limit)?e.value:e)?null:n);var y=null;h.startAt&&(y=o2(h.startAt));var b=null;return h.endAt&&(b=o2(h.endAt)),r=l,i=d,o=g,s=m,a=v,u=y,c=b,new iS(r,i,o,s,a,"F",u,c)}function o1(t){return{before:t.before,values:t.position}}function o2(t){var e=!!t.before,n=t.values||[];return new ib(n,e)}function o3(t){return{fieldPath:t.canonicalString()}}function o4(t){return rF.fromServerFormat(t.fieldPath)}function o5(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){for(var e,n,r="",i=0;i<t.length;i++)r.length>0&&(r+="\x01\x01"),r=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\x00":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(i),r);return r+"\x01\x01"}function o8(t){var e=t.length;if(e>=2||rA(),2===e)return"\x01"===t.charAt(0)&&"\x01"===t.charAt(1)||rA(),rj.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&rA(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s)+"\x00";break;case"\x11":i+=t.substring(o,s+1);break;default:rA()}o=s+2}return new rj(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o9=function(t,e){this.seconds=t,this.nanoseconds=e},o7=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};o7.store="owner",o7.key="owner";var st=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};st.store="mutationQueues",st.keyPath="userId";var se=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};se.store="mutations",se.keyPath="batchId",se.userMutationsIndex="userMutationsIndex",se.userMutationsKeyPath=["userId","batchId"];var sn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,o6(e)]},t.key=function(t,e,n){return[t,o6(e),n]},t}();sn.store="documentMutations",sn.PLACEHOLDER=new sn;var sr=function(t,e){this.path=t,this.readTime=e},si=function(t,e){this.path=t,this.version=e},so=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};so.store="remoteDocuments",so.readTimeIndex="readTimeIndex",so.readTimeIndexPath="readTime",so.collectionReadTimeIndex="collectionReadTimeIndex",so.collectionReadTimeIndexPath=["parentPath","readTime"];var ss=function(t){this.byteSize=t};ss.store="remoteDocumentGlobal",ss.key="remoteDocumentGlobalKey";var sa=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};sa.store="targets",sa.keyPath="targetId",sa.queryTargetsIndexName="queryTargetsIndex",sa.queryTargetsKeyPath=["canonicalId","targetId"];var su=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};su.store="targetDocuments",su.keyPath=["targetId","path"],su.documentTargetsIndex="documentTargetsIndex",su.documentTargetsKeyPath=["path","targetId"];var sc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};sc.key="targetGlobalKey",sc.store="targetGlobal";var sl=function(t,e){this.collectionId=t,this.parent=e};sl.store="collectionParents",sl.keyPath=["collectionId","parent"];var sh=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};sh.store="clientMetadata",sh.keyPath="clientId";var sf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};sf.store="bundles",sf.keyPath="bundleId";var sd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};sd.store="namedQueries",sd.keyPath="name";var sp=h(h([],h(h([],h(h([],h(h([],[st.store,se.store,sn.store,so.store,sa.store,o7.store,sc.store,su.store]),[sh.store])),[ss.store])),[sl.store])),[sf.store,sd.store]),sm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sg=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),sv=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},sy=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&rA(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0;i<e.length;i++)r(e[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),sb=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new sv,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new sI(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=sA(e.target.error);n.ft.reject(new sI(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(t){throw new sI(n,t)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(rT("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new sS(e)},t}(),sw=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(b())&&rS("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return rT("SimpleDb","Removing database:",t),s_(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=b(),n=t._t(e),r=t.Et(e);return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||0<n&&n<10||0<r&&r<4.5)},t.gt=function(){var t;return void 0!==rv&&"YES"===(null===(t=rv.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(e?e[1].split("_").slice(0,2).join("."):"-1")},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i);return Number(e?e[1].split(".").slice(0,2).join("."):"-1")},t.prototype.At=function(t){return a(this,void 0,void 0,function(){var e,n=this;return u(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(rT("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new sI(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new rw(rb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new sI(t,n))},i.onupgradeneeded=function(t){rT("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next(function(){rT("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return a(this,void 0,void 0,function(){var i,o,s,a,c;return u(this,function(l){switch(l.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,l,h;return u(this,function(u){switch(u.label){case 0:++o,u.label=1;case 1:return u.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=u.sent(),s=r(e=sb.open(a.db,t,i?"readonly":"readwrite",n)).catch(function(t){return e.abort(t),sy.reject(t)}).toPromise(),c={},s.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(u.sent(),s),c)];case 4:return h="FirebaseError"!==(l=u.sent()).name&&o<3,rT("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),a.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},a=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),sE=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return s_(this.Pt.delete())},t}(),sI=function(t){function e(e,n){var r=this;return(r=t.call(this,rb.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return o(e,t),e}(rw);function sT(t){return"IndexedDbTransactionError"===t.name}var sS=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(rT("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(rT("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),s_(n)},t.prototype.add=function(t){return rT("SimpleDb","ADD",this.store.name,t,t),s_(this.store.add(t))},t.prototype.get=function(t){var e=this;return s_(this.store.get(t)).next(function(n){return void 0===n&&(n=null),rT("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return rT("SimpleDb","DELETE",this.store.name,t),s_(this.store.delete(t))},t.prototype.count=function(){return rT("SimpleDb","COUNT",this.store.name),s_(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){rT("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){e?n=t:(n={},e=t);var n,r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new sy(function(n,r){e.onerror=function(t){r(sA(t.target.error))},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new sy(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new sE(i),s=e(i.primaryKey,i.value,o);if(s instanceof sy){var a=s.catch(function(t){return o.done(),sy.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return sy.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function s_(t){return new sy(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(sA(t.target.error))}})}var sx=!1;function sA(t){var e=sw._t(b());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new rw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sx||(sx=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sk=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return o(e,t),e}(sg);function sN(t,e){return sw.It(t.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sC=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&function(t,e,n){var r,i;t instanceof i6?(r=t.value.clone(),i=i7(t.fieldTransforms,e,n.transformResults),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()):t instanceof i8?function(t,e,n){if(i1(t.precondition,e)){var r=i7(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(i9(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e,n=0,r=this.baseMutations;n<r.length;n++)(e=r[n]).key.isEqual(t.key)&&i3(e,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++)(e=o[i]).key.isEqual(t.key)&&i3(e,t,this.localWriteTime)},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key);e.applyToLocalView(r),r.isValidDocument()||r.convertToNoDocument(rP.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},oT())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&rC(this.mutations,t.mutations,function(t,e){return i4(t,e)})&&rC(this.baseMutations,t.baseMutations,function(t,e){return i4(t,e)})},t}(),sD=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){e.mutations.length===r.length||rA();for(var i=oE,o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),sP=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=rP.min()),void 0===o&&(o=rP.min()),void 0===s&&(s=rB.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),sR=function(t){this.Lt=t};function sO(t,e){if(e.document)return o$(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=rY.fromSegments(e.noDocument.path),r=sF(e.noDocument.readTime),i=ir.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=rY.fromSegments(e.unknownDocument.path);return r=sF(e.unknownDocument.version),ir.newUnknownDocument(o,r)}return rA()}function sL(t,e,n){var r=sM(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o,s={name:oq(o=t.Lt,e.key),fields:e.data.value.mapValue.fields,updateTime:oj(o,e.version.toTimestamp())},a=e.hasCommittedMutations;return new so(null,null,s,a,r,i)}if(e.isNoDocument()){var u=e.key.path.toArray(),c=sV(e.version);return a=e.hasCommittedMutations,new so(null,new sr(u,c),null,a,r,i)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),h=sV(e.version);return new so(new si(l,h),null,null,!0,r,i)}return rA()}function sM(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function sj(t){var e=new rD(t[0],t[1]);return rP.fromTimestamp(e)}function sV(t){var e=t.toTimestamp();return new o9(e.seconds,e.nanoseconds)}function sF(t){var e=new rD(t.seconds,t.nanoseconds);return rP.fromTimestamp(e)}function sU(t,e){for(var n=(e.baseMutations||[]).map(function(e){return oY(t.Lt,e)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map(function(e){return oY(t.Lt,e)}),a=rD.fromMillis(e.localWriteTimeMs);return new sC(e.batchId,a,n,s)}function sB(t){var e,n,r=sF(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?sF(t.lastLimboFreeSnapshotVersion):rP.min();return void 0!==t.query.documents?(1===(n=t.query).documents.length||rA(),e=iP(i_(oG(n.documents[0])))):e=iP(o0(t.query)),new sP(e,t.targetId,0,t.lastListenSequenceNumber,r,i,rB.fromBase64String(t.resumeToken))}function sq(t,e){var n,r=sV(e.snapshotVersion),i=sV(e.lastLimboFreeSnapshotVersion);n=iu(e.target)?oQ(t.Lt,e.target):oJ(t.Lt,e.target);var o=e.resumeToken.toBase64();return new sa(e.targetId,is(e.target),r,o,e.sequenceNumber,i,n)}function sz(t){var e=o0({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?iR(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sK=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return sG(t).get(e).next(function(t){if(t)return{id:t.bundleId,createTime:sF(t.createTime),version:t.version}})},t.prototype.saveBundleMetadata=function(t,e){return sG(t).put({bundleId:e.id,createTime:sV(oF(e.createTime)),version:e.version})},t.prototype.getNamedQuery=function(t,e){return sH(t).get(e).next(function(t){if(t)return{name:t.name,query:sz(t.bundledQuery),readTime:sF(t.readTime)}})},t.prototype.saveNamedQuery=function(t,e){return sH(t).put({name:e.name,readTime:sV(oF(e.readTime)),bundledQuery:e.bundledQuery})},t}();function sG(t){return sN(t,sf.store)}function sH(t){return sN(t,sd.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sW=function(){function t(){this.Bt=new sZ}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),sy.resolve()},t.prototype.getCollectionParents=function(t,e){return sy.resolve(this.Bt.getEntries(e))},t}(),sZ=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ov(rj.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ov(rj.comparator)).toArray()},t}(),s$=function(){function t(){this.qt=new sZ}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:o6(i)};return sX(t).put(o)}return sy.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[e+"\x00",""],!1,!0);return sX(t).Nt(r).next(function(t){for(var r=0;r<t.length;r++){var i=t[r];if(i.collectionId!==e)break;n.push(o8(i.parent))}return n})},t}();function sX(t){return sN(t,sl.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sY={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sQ=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sJ(t,e,n){var r=t.store(se.store),i=t.store(sn.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){1===a||rA()}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=sn.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return sy.waitFor(o).next(function(){return c})}function s0(t){var e;if(!t)return 0;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw rA();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sQ.DEFAULT_COLLECTION_PERCENTILE=10,sQ.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sQ.DEFAULT=new sQ(41943040,sQ.DEFAULT_COLLECTION_PERCENTILE,sQ.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sQ.DISABLED=new sQ(-1,0,0);var s1=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return""!==e.uid||rA(),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return s3(t).$t({index:se.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=s4(t),s=s3(t);return s.add({}).next(function(a){"number"==typeof a||rA();for(var u,c,l,h,f=new sC(a,e,n,r),d=(u=i.R,c=i.userId,l=f.baseMutations.map(function(t){return oX(u.Lt,t)}),h=f.mutations.map(function(t){return oX(u.Lt,t)}),new se(c,f.batchId,f.localWriteTime.toMillis(),l,h)),p=[],m=new ov(function(t,e){return rN(t.canonicalString(),e.canonicalString())}),g=0;g<r.length;g++){var v=r[g],y=sn.key(i.userId,v.key.path,a);m=m.add(v.key.path.popLast()),p.push(s.put(d)),p.push(o.put(y,sn.PLACEHOLDER))}return m.forEach(function(e){p.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=f.keys()}),sy.waitFor(p).next(function(){return f})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return s3(t).get(e).next(function(t){return t?(t.userId===n.userId||rA(),sU(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?sy.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return s3(t).$t({index:se.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(e.batchId>=r||rA(),o=sU(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return s3(t).$t({index:se.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return s3(t).Nt(se.userMutationsIndex,n).next(function(t){return t.map(function(t){return sU(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=sn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return s4(t).$t({range:i},function(r,i,s){var a=r[0],u=r[1],c=r[2],l=o8(u);if(a===n.userId&&e.path.isEqual(l))return s3(t).get(c).next(function(t){if(!t)throw rA();t.userId===n.userId||rA(),o.push(sU(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ov(rN),i=[];return e.forEach(function(e){var o=sn.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=s4(t).$t({range:s},function(t,i,o){var s=t[0],a=t[1],u=t[2],c=o8(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(a)}),sy.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=sn.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ov(rN);return s4(t).$t({range:s},function(t,e,o){var s=t[0],u=t[1],c=t[2],l=o8(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(s3(t).get(e).next(function(t){if(null===t)throw rA();t.userId===n.userId||rA(),r.push(sU(n.R,t))}))}),sy.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return sJ(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),sy.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return sy.resolve();var r=IDBKeyRange.lowerBound(sn.prefixForUser(e.userId)),i=[];return s4(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=o8(t[1]);i.push(o)}else r.done()}).next(function(){0===i.length||rA()})})},t.prototype.containsKey=function(t,e){return s2(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return s5(t).get(this.userId).next(function(t){return t||new st(e.userId,-1,"")})},t}();function s2(t,e,n){var r=sn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return s4(t).$t({range:o,Ft:!0},function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()}).next(function(){return s})}function s3(t){return sN(t,se.store)}function s4(t){return sN(t,sn.store)}function s5(t){return sN(t,st.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s6=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),s8=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new s6(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return rP.fromTimestamp(new rD(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return s9(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return e.targetCount>0||rA(),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return s9(t).$t(function(s,a){var u=sB(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return sy.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return s9(t).$t(function(t,n){e(sB(n))})},t.prototype.Xt=function(t){return s7(t).get(sc.key).next(function(t){return null!==t||rA(),t})},t.prototype.Zt=function(t,e){return s7(t).put(sc.key,e)},t.prototype.te=function(t,e){return s9(t).put(sq(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=is(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return s9(t).$t({range:r,index:sa.queryTargetsIndexName},function(t,n,r){var o=sB(n);ia(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=at(t);return e.forEach(function(e){var s=o6(e.path);i.push(o.put(new su(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),sy.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=at(t);return sy.forEach(e,function(e){var o=o6(e.path);return sy.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=at(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=at(t),i=oT();return r.$t({range:n,Ft:!0},function(t,e,n){var r=o8(t[1]),o=new rY(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=o6(e.path),r=IDBKeyRange.bound([n],[n+"\x00"],!1,!0),i=0;return at(t).$t({index:su.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return s9(t).get(e).next(function(t){return t?sB(t):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){return sN(t,sa.store)}function s7(t){return sN(t,sc.store)}function at(t){return sN(t,su.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t){return a(this,void 0,void 0,function(){return u(this,function(e){if(t.code!==rb.FAILED_PRECONDITION||t.message!==sm)throw t;return rT("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=rN(n,i);return 0===s?rN(r,o):s}var ar=function(){function t(t){this.ne=t,this.buffer=new ov(an),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();0>an(e,n)&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ai=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;rT("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return a(e,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return sT(e=n.sent())?(rT("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ae(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),ao=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return sy.resolve(ry.o);var r=new ar(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return -1===this.params.cacheSizeCollectionThreshold?(rT("LruGarbageCollector","Garbage collection skipped; disabled"),sy.resolve(sY)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(rT("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),sY):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(rT("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),rI()<=ti.DEBUG&&rT("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in "+(o-l)+"ms\n	Determined least recently used "+r+" in "+(s-o)+"ms\n	Removed "+i+" targets in "+(a-s)+"ms\n	Removed "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),sy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),as=function(){function t(t,e){this.db=t,this.garbageCollector=new ao(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return aa(t,n)},t.prototype.removeReference=function(t,e,n){return aa(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return aa(t,e)},t.prototype._e=function(t,e){var n;return n=!1,s5(t).Ot(function(r){return s2(t,r,e).next(function(t){return t&&(n=!0),sy.resolve(!t)})}).next(function(){return n})},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),at(t).delete([0,o6(s.path)])})});i.push(u)}}).next(function(){return sy.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return aa(t,e)},t.prototype.we=function(t,e){var n,r=at(t),i=ry.o;return r.$t({index:su.documentTargetsIndex},function(t,r){var o=t[0];t[1];var s=r.path,a=r.sequenceNumber;0===o?(i!==ry.o&&e(new rY(o8(n)),i),i=a,n=s):i=ry.o}).next(function(){i!==ry.o&&e(new rY(o8(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function aa(t,e){var n;return at(t).put((n=t.currentSequenceNumber,new su(0,o6(e.path),n)))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var au=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0;r<n.length;r++){var i=n[r],o=i[0],s=i[1];if(this.equalsFn(o,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){rO(this.inner,function(e,n){for(var r=0;r<n.length;r++){var i=n[r];t(i[0],i[1])}})},t.prototype.isEmpty=function(){return rL(this.inner)},t}(),ac=function(){function t(){this.changes=new au(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:rP.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ir.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?sy.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),al=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return ad(t).put(ap(e),n)},t.prototype.removeEntry=function(t,e){var n=ad(t),r=ap(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return ad(t).get(ap(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return ad(t).get(ap(e)).next(function(t){return{document:n.ye(e,t),size:s0(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=ob;return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=ob,i=new op(rY.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,s0(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return sy.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return ad(t).$t({range:r},function(t,e,r){for(var s=rY.fromSegments(t);o&&0>rY.comparator(o,s);)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=ob,o=e.path.length+1,s={};if(n.isEqual(rP.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=sM(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=so.collectionReadTimeIndex}return ad(t).$t(s,function(t,n,s){if(t.length===o){var a=sO(r.R,n);e.path.isPrefixOf(a.key.path)?ij(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ah(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return af(t).get(ss.key).next(function(t){return t||rA(),t})},t.prototype.me=function(t,e){return af(t).put(ss.key,e)},t.prototype.ye=function(t,e){if(e){var n=sO(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(rP.min()))return n}return ir.newInvalidDocument(t)},t}(),ah=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new au(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return o(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ov(function(t,e){return rN(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=sL(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast()),r+=s0(u)-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var c=sL(e.Ie.R,ir.newNoDocument(o,rP.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,c))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),sy.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(ac);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){return sN(t,ss.store)}function ad(t){return sN(t,so.store)}function ap(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var am=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;n<r&&n>=0&&r<=11||rA();var o=new sb("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(o7.store)}(t),t.createObjectStore(st.store,{keyPath:st.keyPath}),t.createObjectStore(se.store,{keyPath:se.keyPath,autoIncrement:!0}).createIndex(se.userMutationsIndex,se.userMutationsKeyPath,{unique:!0}),t.createObjectStore(sn.store),ag(t),function(t){t.createObjectStore(so.store)}(t));var s=sy.resolve();return n<3&&r>=3&&(0!==n&&(t.deleteObjectStore(su.store),t.deleteObjectStore(sa.store),t.deleteObjectStore(sc.store),ag(t)),s=s.next(function(){var t,e;return t=o.store(sc.store),e=new sc(0,0,rP.min().toTimestamp(),0),t.put(sc.key,e)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return o.store(se.store).Nt().next(function(e){t.deleteObjectStore(se.store),t.createObjectStore(se.store,{keyPath:se.keyPath,autoIncrement:!0}).createIndex(se.userMutationsIndex,se.userMutationsKeyPath,{unique:!0});var n=o.store(se.store),r=e.map(function(t){return n.put(t)});return sy.waitFor(r)})})),s=s.next(function(){!function(t){t.createObjectStore(sh.store,{keyPath:sh.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(ss.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){var n;t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(so.store)).createIndex(so.readTimeIndex,so.readTimeIndexPath,{unique:!1}),n.createIndex(so.collectionReadTimeIndex,so.collectionReadTimeIndexPath,{unique:!1})})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){(function(t){t.createObjectStore(sf.store,{keyPath:sf.keyPath})})(t),function(t){t.createObjectStore(sd.store,{keyPath:sd.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(so.store).$t(function(t,n){e+=s0(n)}).next(function(){var n=new ss(e);return t.store(ss.store).put(ss.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(st.store),r=t.store(se.store);return n.Nt().next(function(n){return sy.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(se.userMutationsIndex,i).next(function(r){return sy.forEach(r,function(r){r.userId===n.userId||rA();var i=sU(e.R,r);return sJ(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(su.store),n=t.store(so.store);return t.store(sc.store).get(sc.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new rj(n),s=[0,o6(o)];r.push(e.get(s).next(function(n){return n?sy.resolve():e.put(new su(0,o6(o),t.highestListenSequenceNumber))}))}).next(function(){return sy.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(sl.store,{keyPath:sl.keyPath});var n=e.store(sl.store),r=new sZ,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:o6(i)})}};return e.store(so.store).$t({Ft:!0},function(t,e){return i(new rj(t).popLast())}).next(function(){return e.store(sn.store).$t({Ft:!0},function(t,e){t[0];var n=t[1];return t[2],i(o8(n).popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(sa.store);return n.$t(function(t,r){var i=sB(r),o=sq(e.R,i);return n.put(o)})},t}();function ag(t){t.createObjectStore(su.store,{keyPath:su.keyPath}).createIndex(su.documentTargetsIndex,su.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(sa.store,{keyPath:sa.keyPath}).createIndex(sa.queryTargetsIndexName,sa.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(sc.store)}var av="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ay=function(){function t(e,n,r,i,o,s,a,u,c,l){var h,f;if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new rw(rb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new as(this,i),this.Le=n+"main",this.R=new sR(u),this.Be=new sw(this.Le,11,new am(this.R)),this.qe=new s8(this.referenceDelegate,this.R),this.Ut=new s$,this.Ue=(h=this.R,f=this.Ut,new al(h,f)),this.Ke=new sK,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&rS("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new rw(rb.FAILED_PRECONDITION,av);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new ry(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return a(e,void 0,void 0,function(){return u(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return a(e,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return a(e,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return aw(e).put(new sh(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(sT(e))return rT("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return rT("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return ab(t).get(o7.key).next(function(t){return sy.resolve(e.tn(t))})},t.prototype.en=function(t){return aw(t).delete(this.clientId)},t.prototype.nn=function(){return a(this,void 0,void 0,function(){var t,e,n,r=this;return u(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=sN(t,sh.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return -1===n.indexOf(t)});return sy.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0;e<t.length;e++)n=t[e],this.Qe.removeItem(this.on(n.clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?sy.resolve(!0):ab(t).get(o7.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new rw(rb.FAILED_PRECONDITION,av);return!1}}return!(!e.networkEnabled||!e.inForeground)||aw(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&rT("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return a(this,void 0,void 0,function(){var t=this;return u(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[o7.store,sh.store],function(e){var n=new sk(e,ry.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return aw(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return s1.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return rT("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",sp,function(o){return r=new sk(o,i.Ne?i.Ne.next():ry.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw rS("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new rw(rb.FAILED_PRECONDITION,sm);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return ab(t).get(o7.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new rw(rb.FAILED_PRECONDITION,av)})},t.prototype.Ze=function(t){var e=new o7(this.clientId,this.allowTabSynchronization,Date.now());return ab(t).put(o7.key,e)},t.yt=function(){return sw.yt()},t.prototype.Xe=function(t){var e=this,n=ab(t);return n.get(o7.key).next(function(t){return e.tn(t)?(rT("IndexedDbPersistence","Releasing primary lease."),n.delete(o7.key)):sy.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(rS("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),!w()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return rT("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return rS("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){rS("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ab(t){return sN(t,o7.store)}function aw(t){return sN(t,sh.store)}function aE(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var aI=function(t,e){this.progress=t,this.wn=e},aT=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0;e<n.length;e++)n[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0;r<e.length;r++)e[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return rY.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length?this.Tn(t,e.path):iC(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new rY(e)).next(function(t){var e=ow;return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=ow;return this.Ut.getCollectionParents(t,i).next(function(s){return sy.forEach(s,function(s){var a,u=(a=s.child(i),new iS(a,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt));return r.An(t,u,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,i._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i.Rn(t,e,r).next(function(t){r=t;for(var n=0;n<e.length;n++)for(var i=e[n],o=0,s=i.mutations;o<s.length;o++){var a=s[o],u=a.key,c=r.get(u);null==c&&(c=ir.newInvalidDocument(u),r=r.insert(u,c)),i3(a,c,i.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){ij(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=oT(),i=0;i<e.length;i++)for(var o=0,s=e[i].mutations;o<s.length;o++){var a=s[o];a instanceof i8&&null===n.get(a.key)&&(r=r.add(a.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),aS=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=oT(),i=oT(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),a_=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())||n.isEqual(rP.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(ix(e)||iA(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(rI()<=ti.DEBUG&&rT("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),iM(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new ov(iV(t));return e.forEach(function(e,r){ij(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return rI()<=ti.DEBUG&&rT("QueryEngine","Using full collection scan to execute query:",iM(e)),this.Sn.getDocumentsMatchingQuery(t,e,rP.min())},t}(),ax=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new op(rN),this.Fn=new au(function(t){return is(t)},ia),this.$n=rP.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new aT(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function aA(t,e){return a(this,void 0,void 0,function(){var n,r,i,o;return u(this,function(s){switch(s.label){case 0:return r=(n=t)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new aT(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=oT(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0;d<e.length;d++){var p=e[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++){var v=g[m];s=s.add(v.key)}}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function ak(t){return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function aN(t,e,n,r,i){var o=oT();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=ob;return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(rP.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):rT("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function aC(t,e){var n=t;return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?(r=i,sy.resolve(r)):n.qe.allocateTargetId(t).next(function(i){return r=new sP(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function aD(t,e,n){return a(this,void 0,void 0,function(){var r,i,o,s;return u(this,function(a){switch(a.label){case 0:i=(r=t).kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!sT(s=a.sent()))throw s;return rT("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function aP(t,e,n){var r=rP.min(),i=oT();return t.persistence.runTransaction("Execute query","readonly",function(o){var s,a;return(s=iP(e),void 0!==(a=t.Fn.get(s))?sy.resolve(t.kn.get(a)):t.qe.getTargetData(o,s)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,t.qe.getMatchingKeysForTargetId(o,e.targetId).next(function(t){i=t})}).next(function(){return t.xn.getDocumentsMatchingQuery(o,e,n?r:rP.min(),n?i:oT())}).next(function(t){return{documents:t,Bn:i}})})}function aR(t,e){var n=t.qe,r=t.kn.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",function(t){return n.lt(t,e).next(function(t){return t?t.target:null})})}function aO(t){var e=t;return e.persistence.runTransaction("Get new document changes","readonly",function(t){var n,r,i,o,s,a;return n=e.On,r=e.$n,i=ob,o=sM(r),s=ad(t),a=IDBKeyRange.lowerBound(o,!0),s.$t({index:so.readTimeIndex,range:a},function(t,e){var r=sO(n.R,e);i=i.insert(r.key,r),o=e.readTime}).next(function(){return{wn:i,readTime:sj(o)}})}).then(function(t){var n=t.wn,r=t.readTime;return e.$n=r,n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aL=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return sy.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){return this.Qn.set(e.id,{id:e.id,version:e.version,createTime:oF(e.createTime)}),sy.resolve()},t.prototype.getNamedQuery=function(t,e){return sy.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:e.name,query:sz(e.bundledQuery),readTime:oF(e.readTime)}),sy.resolve()},t}(),aM=function(){function t(){this.Wn=new ov(aj.Gn),this.zn=new ov(aj.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new aj(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new aj(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new rY(new rj([])),r=new aj(n,t),i=new aj(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new rY(new rj([])),n=new aj(e,t),r=new aj(e,t+1),i=oT();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new aj(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),aj=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return rY.comparator(t.key,e.key)||rN(t.ns,e.ns)},t.Hn=function(t,e){return rN(t.ns,e.ns)||rY.comparator(t.key,e.key)},t}(),aV=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ov(aj.Gn)}return t.prototype.checkEmpty=function(t){return sy.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new sC(i,e,n,r);this._n.push(o);for(var s=0;s<r.length;s++){var a=r[s];this.rs=this.rs.add(new aj(a.key,i)),this.Ut.addToCollectionParentIndex(t,a.key.path.popLast())}return sy.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return sy.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return sy.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return sy.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return sy.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new aj(e,0),i=new aj(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),sy.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ov(rN);return e.forEach(function(t){var e=new aj(t,0),i=new aj(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),sy.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;rY.isDocumentKey(i)||(i=i.child(""));var o=new aj(new rY(i),0),s=new ov(rN);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),sy.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;0===this.hs(e.batchId,"removed")||rA(),this._n.shift();var r=this.rs;return sy.forEach(e.mutations,function(i){var o=new aj(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new aj(e,0),r=this.rs.firstAfterOrEqual(n);return sy.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,sy.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),aF=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new op(rY.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return sy.resolve(n?n.document.clone():ir.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=ob;return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ir.newInvalidDocument(t))}),sy.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=ob,i=new rY(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;0>=l.compareTo(n)||ij(e,c)&&(r=r.insert(c.key,c.clone()))}return sy.resolve(r)},t.prototype.fs=function(t,e){return sy.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new aU(this)},t.prototype.getSize=function(t){return sy.resolve(this.size)},t}(),aU=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return o(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),sy.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ac),aB=function(){function t(t){this.persistence=t,this.ds=new au(function(t){return is(t)},ia),this.lastRemoteSnapshotVersion=rP.min(),this.highestTargetId=0,this.ws=0,this._s=new aM,this.targetCount=0,this.ys=s6.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),sy.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return sy.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return sy.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),sy.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),sy.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new s6(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,sy.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),sy.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,sy.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),sy.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return sy.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return sy.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),sy.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),sy.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),sy.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return sy.resolve(n)},t.prototype.containsKey=function(t,e){return sy.resolve(this._s.containsKey(e))},t}(),aq=function(){function t(t,e){var n,r=this;this.gs={},this.Ne=new ry(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new aB(this),this.Ut=new sW,this.Ue=(n=this.Ut,new aF(n,function(t){return r.referenceDelegate.ps(t)})),this.R=new sR(e),this.Ke=new aL(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new aV(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;rT("MemoryPersistence","Starting transaction:",t);var i=new az(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return sy.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),az=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return o(e,t),e}(sg),aK=function(){function t(t){this.persistence=t,this.As=new aM,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw rA()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),sy.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),sy.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),sy.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sy.forEach(this.vs,function(r){var i=rY.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return sy.or([function(){return sy.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),aG=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(t,e){return"firestore_clients_"+t+"_"+e}function aW(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function aZ(t,e){return"firestore_targets_"+t+"_"+e}aG.UNAUTHENTICATED=new aG(null),aG.GOOGLE_CREDENTIALS=new aG("google-credentials-uid"),aG.FIRST_PARTY=new aG("first-party-uid"),aG.MOCK_USER=new aG("mock-user");var a$=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new rw(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(rS("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),aX=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new rw(i.error.code,i.error.message)),o?new t(e,i.state,r):(rS("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),aY=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=oS,s=0;i&&s<r.activeTargetIds.length;++s)i=rX(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(rS("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),aQ=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(rS("SharedClientState","Failed to parse online state: "+e),null)},t}(),aJ=function(){function t(){this.activeTargetIds=oS}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})},t}(),a0=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new op(rN),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=aH(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new aJ),this.Ls=RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return a(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,c,l,h=this;return u(this,function(u){switch(u.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=u.sent(),e=0;e<t.length;e++)(n=t[e])!==this.Ns&&(r=this.getItem(aH(this.persistenceKey,n)))&&(i=aY.Vs(n,r))&&(this.Fs=this.Fs.insert(i.clientId,i));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(s=this.js(o))&&this.Ws(s),a=0,c=this.$s;a<c.length;a++)l=c[a],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(aZ(this.persistenceKey,t));if(n){var r=aX.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(aZ(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return rT("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){rT("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){rT("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this;if(t.storageArea===this.storage){if(rT("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Os)return void rS("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return a(e,void 0,void 0,function(){var e,n,r,i,o,s;return u(this,function(a){if(this.started){if(null!==t.key){if(this.Ls.test(t.key)){if(null==t.newValue)return e=this.ti(t.key),[2,this.ei(e,null)];if(n=this.ni(t.key,t.newValue))return[2,this.ei(n.clientId,n)]}else if(this.Bs.test(t.key)){if(null!==t.newValue&&(r=this.si(t.key,t.newValue)))return[2,this.ii(r)]}else if(this.qs.test(t.key)){if(null!==t.newValue&&(i=this.ri(t.key,t.newValue)))return[2,this.oi(i)]}else if(t.key===this.Us){if(null!==t.newValue&&(o=this.js(t.newValue)))return[2,this.Ws(o)]}else if(t.key===this.Ms)(s=function(t){var e=ry.o;if(null!=t)try{var n=JSON.parse(t);"number"==typeof n||rA(),e=n}catch(t){rS("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==ry.o&&this.sequenceNumberHandler(s);else if(t.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(t);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new a$(this.currentUser,t,e,n),i=aW(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=aW(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=aZ(this.persistenceKey,t),i=new aX(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return aY.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return a$.Vs(new aG(i),r,e)},t.prototype.ri=function(t,e){var n=Number(this.qs.exec(t)[1]);return aX.Vs(n,e)},t.prototype.js=function(t){return aQ.Vs(t)},t.prototype.ii=function(t){return a(this,void 0,void 0,function(){return u(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(rT("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=oS;return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),a1=function(){function t(){this.li=new aJ,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new aJ,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),a2=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),a3=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){rT("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){rT("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),a4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},a5=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),a6=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return o(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var s=new nU;s.listenOnce(eL.COMPLETE,function(){try{switch(s.getLastErrorCode()){case eO.NO_ERROR:var e=s.getResponseJson();rT("Connection","XHR received:",JSON.stringify(e)),i(e);break;case eO.TIMEOUT:rT("Connection",'RPC "'+t+'" timed out'),o(new rw(rb.DEADLINE_EXCEEDED,"Request time out"));break;case eO.HTTP_ERROR:var n=s.getStatus();if(rT("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a,u=(a=r.status.toLowerCase().replace(/_/g,"-"),Object.values(rb).indexOf(a)>=0?a:rb.UNKNOWN);o(new rw(u,r.message))}else o(new rw(rb.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new rw(rb.UNAVAILABLE,"Connection failed."));break;default:rA()}}finally{rT("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n,r,i=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=new rh,s=eA(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new nR({})),this.ki(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())||"object"==typeof navigator&&"ReactNative"===navigator.product||b().indexOf("Electron/")>=0||(n=b()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0||b().indexOf("MSAppHost/")>=0||"object"==typeof(r="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==r.id||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");rT("Connection","Creating WebChannel: "+u,a);var c=o.createWebChannel(u,a),l=!1,h=!1,f=new a5({Ei:function(t){h?rT("Connection","Not sending because WebChannel is closed:",t):(l||(rT("Connection","Opening WebChannel transport."),c.open(),l=!0),rT("Connection","WebChannel sending:",t),c.send(t))},Ti:function(){return c.close()}}),d=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return d(c,eV.EventType.OPEN,function(){h||rT("Connection","WebChannel transport opened.")}),d(c,eV.EventType.CLOSE,function(){h||(h=!0,rT("Connection","WebChannel transport closed"),f.Vi())}),d(c,eV.EventType.ERROR,function(t){h||(h=!0,r_("Connection","WebChannel transport errored:",t),f.Vi(new rw(rb.UNAVAILABLE,"The operation could not be completed")))}),d(c,eV.EventType.MESSAGE,function(t){var e;if(!h){var n=t.data[0];n||rA();var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){rT("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=oa[t];if(void 0!==e)return od(e)}(i),s=r.message;void 0===o&&(o=rb.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),h=!0,f.Vi(new rw(o,s)),c.close()}else rT("Connection","WebChannel received:",n),f.Si(n)}}),d(s,e_.STAT_EVENT,function(t){t.stat===rg.PROXY?rT("Connection","Detected buffering proxy"):t.stat===rg.NOPROXY&&rT("Connection","Detected no buffering proxy")}),setTimeout(function(){f.Pi()},0),f},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);rT("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then(function(t){return rT("RestConnection","Received: ",t),t},function(e){throw r_("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=a4[t];return this.Di+"/v1/"+e+":"+n},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(){return"undefined"!=typeof window?window:null}function a9(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t){return new oM(t,!0)}var ut=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&rT("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),ue=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ut(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return a(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return a(this,void 0,void 0,function(){return u(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return a(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===rb.RESOURCE_EXHAUSTED?(rS(e.toString()),rS("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===rb.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new rw(rb.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return a(t,void 0,void 0,function(){return u(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return rT("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(rT("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),un=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return o(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r,i,o,s,a="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:rA(),u=e.targetChange.targetIds||[],c=(i=e.targetChange.resumeToken,t.I?(void 0===i||"string"==typeof i||rA(),rB.fromBase64String(i||"")):(void 0===i||i instanceof Uint8Array||rA(),rB.fromUint8Array(i||new Uint8Array))),l=(h=e.targetChange.cause)&&(s=void 0===(o=h).code?rb.UNKNOWN:od(o.code),new rw(s,o.message||""));n=new oN(a,u,c,l||null)}else if("documentChange"in e){e.documentChange,(a=e.documentChange).document,a.document.name,a.document.updateTime,u=oz(t,a.document.name),c=oF(a.document.updateTime);var h=new ie({mapValue:{fields:a.document.fields}}),f=(l=ir.newFoundDocument(u,c,h),a.targetIds||[]),d=a.removedTargetIds||[];n=new oA(f,d,l.key,l)}else if("documentDelete"in e)e.documentDelete,(a=e.documentDelete).document,u=oz(t,a.document),c=a.readTime?oF(a.readTime):rP.min(),h=ir.newNoDocument(u,c),l=a.removedTargetIds||[],n=new oA([],l,h.key,h);else if("documentRemove"in e)e.documentRemove,(a=e.documentRemove).document,u=oz(t,a.document),c=a.removedTargetIds||[],n=new oA([],c,u,null);else{if(!("filter"in e))return rA();e.filter;var p=e.filter;p.targetId,a=p.count||0,u=new oh(a),c=p.targetId,n=new ok(c,u)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return rP.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?rP.min():e.readTime?oF(e.readTime):rP.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e,n,r,i,o={};o.database=oH(this.R),o.addTarget=(e=this.R,(n=iu(r=t.target)?{documents:oQ(e,r)}:{query:oJ(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=oV(e,t.resumeToken):t.snapshotVersion.compareTo(rP.min())>0&&(n.readTime=oj(e,t.snapshotVersion.toTimestamp())),n);var s=(this.R,null==(i=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rA()}}(0,t.purpose))?null:{"goog-listen-tags":i});s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var e={};e.database=oH(this.R),e.removeTarget=t,this.cr(e)},e}(ue),ur=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return o(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(t.streamToken||rA(),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e,n,r=(e=t.writeResults,n=t.commitTime,e&&e.length>0?(void 0!==n||rA(),e.map(function(t){var e;return(e=t.updateTime?oF(t.updateTime):oF(n)).isEqual(rP.min())&&(e=oF(n)),new iJ(e,t.transformResults||[])})):[]),i=oF(t.commitTime);return this.listener.Tr(i,r)}return t.writeResults&&0!==t.writeResults.length&&rA(),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=oH(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return oX(e.R,t)})};this.cr(n)},e}(ue),ui=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return o(e,t),e.prototype.br=function(){if(this.Rr)throw new rw(rb.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===rb.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new rw(rb.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===rb.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new rw(rb.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),uo=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(rS(e),this.Vr=!1):rT("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),us=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return a(o,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return um(this)?(rT("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return a(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return(e=t).Or.add(4),[4,uu(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,ua(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new uo(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){return a(this,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:if(!um(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function uu(t){return a(this,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function uc(t,e){t.$r.has(e.targetId)||(t.$r.set(e.targetId,e),up(t)?ud(t):uN(t).er()&&uh(t,e))}function ul(t,e){var n=uN(t);t.$r.delete(e),n.er()&&uf(t,e),0===t.$r.size&&(n.er()?n.ir():um(t)&&t.Br.set("Unknown"))}function uh(t,e){t.qr.U(e.targetId),uN(t).mr(e)}function uf(t,e){t.qr.U(e),uN(t).yr(e)}function ud(t){t.qr=new oD({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),uN(t).start(),t.Br.Sr()}function up(t){return um(t)&&!uN(t).tr()&&t.$r.size>0}function um(t){return 0===t.Or.size}function ug(t){return a(this,void 0,void 0,function(){return u(this,function(e){return t.$r.forEach(function(e,n){uh(t,e)}),[2]})})}function uv(t,e){return a(this,void 0,void 0,function(){return u(this,function(n){return t.qr=void 0,up(t)?(t.Br.Nr(e),ud(t)):t.Br.set("Unknown"),[2]})})}function uy(t,e,n){return a(this,void 0,void 0,function(){var r,i,o;return u(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof oN&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return a(this,void 0,void 0,function(){var n,r,i,o;return u(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:case 4:return s.sent(),[3,5];case 3:return r=s.sent(),rT("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ub(t,r)];case 5:return[3,13];case 6:if(e instanceof oA?t.qr.X(e):e instanceof ok?t.qr.rt(e):t.qr.et(e),n.isEqual(rP.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ak(t.localStore)];case 8:var c;return i=s.sent(),n.compareTo(i)>=0?[4,((c=t.qr.ut(n)).targetChanges.forEach(function(e,r){if(e.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(e.resumeToken,n))}}),c.targetMismatches.forEach(function(e){var n=t.$r.get(e);n&&(t.$r.set(e,n.withResumeToken(rB.EMPTY_BYTE_STRING,n.snapshotVersion)),uf(t,e),uh(t,new sP(n.target,e,1,n.sequenceNumber)))}),t.remoteSyncer.applyRemoteEvent(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return rT("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ub(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function ub(t,e,n){return a(this,void 0,void 0,function(){var r=this;return u(this,function(i){switch(i.label){case 0:if(!sT(e))throw e;return t.Or.add(1),[4,uu(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return ak(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return a(r,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return rT("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,ua(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function uw(t,e){return e().catch(function(n){return ub(t,n,e)})}function uE(t){return a(this,void 0,void 0,function(){var e,n,r,i;return u(this,function(o){var s,a,u;switch(o.label){case 0:n=uC(e=t),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,o.label=1;case 1:if(!(um(s=e)&&s.Fr.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=e.localStore,u=r,a.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===u&&(u=-1),a._n.getNextMutationBatchAfterBatchId(t,u)}))];case 3:return null===(i=o.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=uC(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return[4,ub(e,o.sent())];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return uI(e)&&uT(e),[2]}})})}function uI(t){return um(t)&&!uC(t).tr()&&t.Fr.length>0}function uT(t){uC(t).start()}function uS(t){return a(this,void 0,void 0,function(){return u(this,function(e){return uC(t).Ar(),[2]})})}function u_(t){return a(this,void 0,void 0,function(){var e,n,r,i;return u(this,function(o){for(e=uC(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}function ux(t,e,n){return a(this,void 0,void 0,function(){var r,i;return u(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=sD.from(r,e,n),[4,uw(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,uE(t)];case 2:return o.sent(),[2]}})})}function uA(t,e){return a(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return e&&uC(t).pr?[4,function(t,e){return a(this,void 0,void 0,function(){var n,r;return u(this,function(i){switch(i.label){case 0:return of(r=e.code)&&r!==rb.ABORTED?(n=t.Fr.shift(),uC(t).sr(),[4,uw(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,uE(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return uI(t)&&uT(t),[2]}})})}function uk(t,e){return a(this,void 0,void 0,function(){var n;return u(this,function(r){switch(r.label){case 0:return n=t,e?(n.Or.delete(2),[4,ua(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,uu(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function uN(t){var e,n,r,i=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:ug.bind(null,t),Ri:uv.bind(null,t),_r:uy.bind(null,t)},e.br(),new un(n,e.Hi,e.credentials,e.R,r)),t.Mr.push(function(e){return a(i,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return e?(t.Ur.sr(),up(t)?ud(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),t.qr=void 0,n.label=3;case 3:return[2]}})})})),t.Ur}function uC(t){var e,n,r,i=this;return t.Kr||(t.Kr=(e=t.datastore,n=t.asyncQueue,r={Ii:uS.bind(null,t),Ri:uA.bind(null,t),Ir:u_.bind(null,t),Tr:ux.bind(null,t)},e.br(),new ur(n,e.Hi,e.credentials,e.R,r)),t.Mr.push(function(e){return a(i,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return e?(t.Kr.sr(),[4,uE(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:n.sent(),t.Fr.length>0&&(rT("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),n.label=4;case 4:return[2]}})})})),t.Kr}var uD=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new sv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rw(rb.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function uP(t,e){if(rS("AsyncQueue",e+": "+t),sT(t))return new rw(rb.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uR=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||rY.comparator(e.key,n.key)}:function(t,e){return rY.comparator(t.key,e.key)},this.keyedMap=ow,this.sortedSet=new op(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),uO=function(){function t(){this.Qr=new op(rY.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):rA():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),uL=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,uR.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&iO(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),uM=function(){this.Wr=void 0,this.listeners=[]},uj=function(){this.queries=new au(function(t){return iL(t)},iO),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t,e){return a(this,void 0,void 0,function(){var n,r,i,o,s,a;return u(this,function(u){switch(u.label){case 0:if(n=t,r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new uM),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=u.sent(),[3,4];case 3:return a=uP(u.sent(),"Initialization of query '"+iM(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&uq(n),[2]}})})}function uF(t,e){return a(this,void 0,void 0,function(){var n,r,i,o;return u(this,function(s){return n=e.query,r=!1,(i=t.queries.get(n))&&(o=i.listeners.indexOf(e))>=0&&(i.listeners.splice(o,1),r=0===i.listeners.length),r?[2,(t.queries.delete(n),t.onUnlisten(n))]:[2]})})}function uU(t,e){for(var n=!1,r=0;r<e.length;r++){var i=e[r],o=i.query,s=t.queries.get(o);if(s){for(var a=0,u=s.listeners;a<u.length;a++)u[a].Hr(i)&&(n=!0);s.Wr=i}}n&&uq(t)}function uB(t,e,n){var r=t.queries.get(e);if(r)for(var i=0,o=r.listeners;i<o.length;i++)o[i].onError(n);t.queries.delete(e)}function uq(t){t.Gr.forEach(function(t){t.next()})}var uz=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new uL(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=uL.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),uK=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),uG=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return oz(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?o$(this.R,t.document,!1):ir.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return oF(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress={taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new uG(this.R),r=0;r<t.length;r++){var i=t[r];if(i.metadata.queries)for(var o=n.qn(i.metadata.name),s=0,a=i.metadata.queries;s<a.length;s++){var u=a[s],c=(e.get(u)||oT()).add(o);e.set(u,c)}}return e},t.prototype.complete=function(){return a(this,void 0,void 0,function(){var t,e,n,r,i;return u(this,function(o){switch(o.label){case 0:return[4,function(t,e,n,r){return a(this,void 0,void 0,function(){var i,o,s,a,c,l,h,f,d;return u(this,function(u){switch(u.label){case 0:for(i=t,o=oT(),s=ob,a=oE,c=0;c<n.length;c++)l=n[c],h=e.qn(l.metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,aC(i,iP(i_(rj.fromString("__bundle__/docs/"+r))))];case 1:return d=u.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return aN(t,f,s,rP.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}(this.localStore,new uG(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,function(t,e,n){return void 0===n&&(n=oT()),a(this,void 0,void 0,function(){var r,i;return u(this,function(o){switch(o.label){case 0:return[4,aC(t,iP(sz(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=t).persistence.runTransaction("Save named query","readwrite",function(t){var o=oF(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(rB.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new aI(Object.assign({},this.progress),t))]}})})}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uH=function(t){this.key=t},uW=function(t){this.key=t},uZ=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=oT(),this.mutatedKeys=oT(),this.lo=iV(t),this.fo=new uR(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new uO,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=ix(this.query)&&i.size===this.query.limit?i.last():null,c=iA(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=ij(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&0>n.lo(h,c))&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),ix(this.query)||iA(this.query))for(;s.size>this.query.limit;){var l=ix(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){var n,i,o;return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rA()}})(n)-o(i)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new uL(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new uO,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=oT(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new uW(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new uH(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=oT();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return uL.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),u$=function(t,e,n){this.query=t,this.targetId=e,this.view=n},uX=function(t){this.key=t,this.bo=!1},uY=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new au(function(t){return iL(t)},iO),this.Vo=new Map,this.So=new Set,this.Do=new op(rY.comparator),this.Co=new Map,this.No=new aM,this.xo={},this.ko=new Map,this.Fo=s6.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function uQ(t,e){return a(this,void 0,void 0,function(){var n,r,i,o,s,a;return u(this,function(u){switch(u.label){case 0:return(o=(n=cp(t)).Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,aC(n.localStore,iP(e))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,uJ(n,e,r=s.targetId,"current"===a)];case 3:i=u.sent(),n.isPrimaryClient&&uc(n.remoteStore,s),u.label=4;case 4:return[2,i]}})})}function uJ(t,e,n,r){return a(this,void 0,void 0,function(){var i,o,s,c,l,h;return u(this,function(f){switch(f.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return a(this,void 0,void 0,function(){var i,o,s;return u(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,aP(t.localStore,e.query,!1).then(function(t){var n=t.documents;return e.view._o(n,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(cn(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,aP(t.localStore,e,!0)];case 1:return i=f.sent(),s=(o=new uZ(e,i.Bn))._o(i.documents),c=ox.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),l=o.applyChanges(s,t.isPrimaryClient,c),cn(t,n,l.To),h=new u$(e,n,o),[2,(t.Po.set(e,h),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),l.snapshot)]}})})}function u0(t,e){return a(this,void 0,void 0,function(){var n,r,i;return u(this,function(o){switch(o.label){case 0:return r=(n=t).Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!iO(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,aD(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),ul(n.remoteStore,r.targetId),ct(n,r.targetId)}).catch(ae)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ct(n,r.targetId),[4,aD(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function u1(t,e,n){return a(this,void 0,void 0,function(){var r,i,o;return u(this,function(s){var a,u,c,l,h,f,d;switch(s.label){case 0:r=cm(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(a=r.localStore,c=rD.now(),l=e.reduce(function(t,e){return t.add(e.key)},oT()),a.persistence.runTransaction("Locally write mutations","readwrite",function(t){return a.Mn.pn(t,l).next(function(n){u=n;for(var r=[],i=0;i<e.length;i++){var o=e[i],s=function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=iz(o.transform,s||null);null!=a&&(null==n&&(n=ie.empty()),n.set(o.field,a))}return n||null}(o,u.get(o.key));null!=s&&r.push(new i8(o.key,s,function t(e){var n=[];return rO(e.fields,function(e,r){var i=new rF([e]);if(r7(r)){var o=t(r.mapValue).fields;if(0===o.length)n.push(i);else for(var s=0;s<o.length;s++){var a=o[s];n.push(i.child(a))}}else n.push(i)}),new rU(n)}(s.value.mapValue),i0.exists(!0)))}return a._n.addMutationBatch(t,c,r,e)})}).then(function(t){return t.applyToLocalDocumentSet(u),{batchId:t.batchId,changes:u}}))];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),h=r,f=i.batchId,(d=h.xo[h.currentUser.toKey()])||(d=new op(rN)),d=d.insert(f,n),h.xo[h.currentUser.toKey()]=d,[4,ci(r,i.changes)];case 3:return s.sent(),[4,uE(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=uP(s.sent(),"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function u2(t,e){return a(this,void 0,void 0,function(){var n,r;return u(this,function(i){var o,s,a;switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,(o=n.localStore,s=e.snapshotVersion,a=o.kn,o.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var n=o.On.newChangeBuffer({trackRemovals:!0});a=o.kn;var r=[];e.targetChanges.forEach(function(e,n){var i=a.get(n);if(i){r.push(o.qe.removeMatchingKeys(t,e.removedDocuments,n).next(function(){return o.qe.addMatchingKeys(t,e.addedDocuments,n)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=i.withResumeToken(u,s).withSequenceNumber(t.currentSequenceNumber);a=a.insert(n,c),c.resumeToken.approximateByteSize()>0||rA(),(0===i.resumeToken.approximateByteSize()||c.snapshotVersion.toMicroseconds()-i.snapshotVersion.toMicroseconds()>=3e8||e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size>0)&&r.push(o.qe.updateTargetData(t,c))}}});var i=ob;if(e.documentUpdates.forEach(function(n,i){e.resolvedLimboDocuments.has(n)&&r.push(o.persistence.referenceDelegate.updateLimboDocument(t,n))}),r.push(aN(t,n,e.documentUpdates,s,void 0).next(function(t){i=t})),!s.isEqual(rP.min())){var u=o.qe.getLastRemoteSnapshotVersion(t).next(function(e){return o.qe.setTargetsMetadata(t,t.currentSequenceNumber,s)});r.push(u)}return sy.waitFor(r).next(function(){return n.apply(t)}).next(function(){return o.Mn.En(t,i)}).next(function(){return i})}).then(function(t){return o.kn=a,t}))];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||rA(),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?r.bo||rA():t.removedDocuments.size>0&&(r.bo||rA(),r.bo=!1))}),[4,ci(n,r,e)];case 3:case 5:return i.sent(),[3,6];case 4:return[4,ae(i.sent())];case 6:return[2]}})})}function u3(t,e,n){var r=t;if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i,o,s=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&s.push(r.snapshot)}),(i=r.eventManager).onlineState=e,o=!1,i.queries.forEach(function(t,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].zr(e)&&(o=!0)}),o&&uq(i),s.length&&r.vo._r(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function u4(t,e,n){return a(this,void 0,void 0,function(){var r,i,o,s,a;return u(this,function(u){switch(u.label){case 0:return(r=t).sharedClientState.updateQueryState(e,"rejected",n),(o=(i=r.Co.get(e))&&i.key)?(s=(s=new op(rY.comparator)).insert(o,ir.newNoDocument(o,rP.min())),a=oT().add(o),[4,u2(r,new o_(rP.min(),new Map,new ov(rN),s,a))]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),cr(r),[3,4];case 2:return[4,aD(r.localStore,e,!1).then(function(){return ct(r,e,n)}).catch(ae)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function u5(t,e){return a(this,void 0,void 0,function(){var n,r,i;return u(this,function(o){var s;switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=n.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var n,r,i,o=e.batch.keys(),a=s.On.newChangeBuffer({trackRemovals:!0});return(r=(n=e.batch).keys(),i=sy.resolve(),r.forEach(function(r){i=i.next(function(){return a.getEntry(t,r)}).next(function(t){var i=e.docVersions.get(r);null!==i||rA(),0>t.version.compareTo(i)&&(n.applyToRemoteDocument(t,e),t.isValidDocument()&&a.addEntry(t,e.commitVersion))})}),i.next(function(){return s._n.removeMutationBatch(t,n)})).next(function(){return a.apply(t)}).next(function(){return s._n.performConsistencyCheck(t)}).next(function(){return s.Mn.pn(t,o)})})];case 2:return i=o.sent(),u7(n,r,null),u9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ci(n,i)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,ae(o.sent())];case 6:return[2]}})})}function u6(t,e,n){return a(this,void 0,void 0,function(){var r,i;return u(this,function(o){var s;switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.localStore).persistence.runTransaction("Reject batch","readwrite-primary",function(t){var n;return s._n.lookupMutationBatch(t,e).next(function(e){return null!==e||rA(),n=e.keys(),s._n.removeMutationBatch(t,e)}).next(function(){return s._n.performConsistencyCheck(t)}).next(function(){return s.Mn.pn(t,n)})})];case 2:return i=o.sent(),u7(r,e,n),u9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,ci(r,i)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,ae(o.sent())];case 6:return[2]}})})}function u8(t,e){return a(this,void 0,void 0,function(){var n,r,i,o;return u(this,function(s){var a;switch(s.label){case 0:um((n=t).remoteStore)||rT("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return a._n.getHighestUnacknowledgedBatchId(t)})];case 2:return -1===(r=s.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=uP(s.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function u9(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function u7(t,e,n){var r=t,i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function ct(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||ce(t,e)})}function ce(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(ul(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),cr(t))}function cn(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];i instanceof uH?(t.No.addReference(i.key,e),function(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(rT("SyncEngine","New document in limbo: "+n),t.So.add(r),cr(t))}(t,i)):i instanceof uW?(rT("SyncEngine","Document no longer in limbo: "+i.key),t.No.removeReference(i.key,e),t.No.containsKey(i.key)||ce(t,i.key)):rA()}}function cr(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new rY(rj.fromString(e)),r=t.Fo.next();t.Co.set(r,new uX(n)),t.Do=t.Do.insert(n,r),uc(t.remoteStore,new sP(iP(i_(n.path)),r,2,ry.o))}}function ci(t,e,n){return a(this,void 0,void 0,function(){var r,i,o,s;return u(this,function(c){switch(c.label){case 0:return i=[],o=[],s=[],(r=t).Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=aS.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return c.sent(),r.vo._r(i),[4,function(t,e){return a(this,void 0,void 0,function(){var n,r,i,o,s,a,c,l;return u(this,function(u){switch(u.label){case 0:n=t,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return sy.forEach(e,function(e){return sy.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return sy.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return u.sent(),[3,4];case 3:if(!sT(r=u.sent()))throw r;return rT("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0;i<e.length;i++)s=(o=e[i]).targetId,o.fromCache||(c=(a=n.kn.get(s)).snapshotVersion,l=a.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}})})}(r.localStore,o)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function co(t,e){return a(this,void 0,void 0,function(){var n,r;return u(this,function(i){var o;switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(rT("SyncEngine","User change. New user:",e.toKey()),[4,aA(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).ko.forEach(function(t){t.forEach(function(t){t.reject(new rw(rb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,ci(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function cs(t,e){var n=t.Co.get(e);if(n&&n.bo)return oT().add(n.key);var r=oT(),i=t.Vo.get(e);if(!i)return r;for(var o=0;o<i.length;o++){var s=i[o],a=t.Po.get(s);r=r.unionWith(a.view.wo)}return r}function ca(t){return a(this,void 0,void 0,function(){return u(this,function(e){return[2,aO(t.localStore).then(function(e){return ci(t,e)})]})})}function cu(t,e,n,r){return a(this,void 0,void 0,function(){var i,o;return u(this,function(s){switch(s.label){case 0:var a,u;return[4,(u=(a=(i=t).localStore)._n,a.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return u.jt(t,e).next(function(e){return e?a.Mn.pn(t,e):sy.resolve(null)})}))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,uE(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(u7(i,e,r||null),u9(i,e),function(t,e){t._n.Gt(e)}(i.localStore,e)):rA(),s.label=4;case 4:return[4,ci(i,o)];case 5:return s.sent(),[3,7];case 6:rT("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function cc(t,e,n){return a(this,void 0,void 0,function(){var n,r,i,o,s,c,l,h,f,d,p,m,g,v;return u(this,function(y){switch(y.label){case 0:n=t,r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(c=s[o],l=void 0,(h=n.Vo.get(c))&&0!==h.length?[4,aC(n.localStore,iP(h[0]))]:[3,7]):[3,13];case 2:l=y.sent(),f=0,d=h,y.label=3;case 3:return f<d.length?(p=d[f],m=n.Po.get(p),[4,function(t,e){return a(this,void 0,void 0,function(){var n,r,i;return u(this,function(o){switch(o.label){case 0:return[4,aP((n=t).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&cn(n,e.targetId,i.To),i)]}})})}(n,m)]):[3,6];case 4:(g=y.sent()).snapshot&&i.push(g.snapshot),y.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,aR(n.localStore,c)];case 8:return v=y.sent(),[4,aC(n.localStore,v)];case 9:return l=y.sent(),[4,uJ(n,cl(v),c,!1)];case 10:y.sent(),y.label=11;case 11:r.push(l),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function cl(t){var e,n,r,i,o,s,a;return e=t.path,n=t.collectionGroup,r=t.orderBy,i=t.filters,o=t.limit,s=t.startAt,a=t.endAt,new iS(e,n,r,i,o,"F",s,a)}function ch(t){return t.localStore.persistence.fn()}function cf(t,e,n,r){return a(this,void 0,void 0,function(){var i;return u(this,function(o){switch(o.label){case 0:return(i=t).$o?(rT("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,aO(i.localStore)];case 3:return[4,ci(i,o.sent(),o_.createSynthesizedRemoteEventForCurrentChange(e,"current"===n))];case 4:return o.sent(),[3,8];case 5:return[4,aD(i.localStore,e,!0)];case 6:return o.sent(),ct(i,e,r),[3,8];case 7:rA(),o.label=8;case 8:return[2]}})})}function cd(t,e,n){return a(this,void 0,void 0,function(){var r,i,o,s,a,c,l,h,f;return u(this,function(d){switch(d.label){case 0:if(!(r=cp(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(rT("SyncEngine","Adding an already active target "+s),[3,5]):[4,aR(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,aC(r.localStore,a)];case 3:return c=d.sent(),[4,uJ(r,cl(a),c.targetId,!1)];case 4:d.sent(),uc(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return u(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,aD(r.localStore,t,!1).then(function(){ul(r.remoteStore,t),ct(r,t)}).catch(ae)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function cp(t){var e=t;return e.remoteStore.remoteSyncer.applyRemoteEvent=u2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cs.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u4.bind(null,e),e.vo._r=uU.bind(null,e.eventManager),e.vo.Mo=uB.bind(null,e.eventManager),e}function cm(t){var e=t;return e.remoteStore.remoteSyncer.applySuccessfulWrite=u5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u6.bind(null,e),e}var cg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return a(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.R=a7(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){var e,n,r,i;return e=this.persistence,n=new a_,r=t.initialUser,i=this.R,new ax(e,n,r,i)},t.prototype.qo=function(t){return new aq(aK.bs,this.R)},t.prototype.Bo=function(t){return new a1},t.prototype.terminate=function(){return a(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),cv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return o(e,t),e.prototype.initialize=function(e){return a(this,void 0,void 0,function(){var n=this;return u(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,function(t){return a(this,void 0,void 0,function(){var e;return u(this,function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){var e,n;return e=ad(t),n=rP.min(),e.$t({index:so.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=sj(e.readTime)),r.done()}).next(function(){return n})}).then(function(t){e.$n=t})]})})}(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,cm(this.Qo.syncEngine)];case 4:return r.sent(),[4,uE(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){var e,n,r,i;return e=this.persistence,n=new a_,r=t.initialUser,i=this.R,new ax(e,n,r,i)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new ai(e,t.asyncQueue)},e.prototype.qo=function(t){var e=aE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sQ.withCacheSize(this.cacheSizeBytes):sQ.DEFAULT;return new ay(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,a8(),a9(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new a1},e}(cg),cy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return o(e,t),e.prototype.initialize=function(e){return a(this,void 0,void 0,function(){var n,r=this;return u(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof a0?(this.sharedClientState.syncEngine={ui:cu.bind(null,n),ai:cf.bind(null,n),hi:cd.bind(null,n),fn:ch.bind(null,n),ci:ca.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return a(r,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,function(t,e){return a(this,void 0,void 0,function(){var n,r,i,o,s,a,c,l;return u(this,function(u){var h;switch(u.label){case 0:return cp(n=t),cm(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,cc(n,r.toArray())]);case 1:return i=u.sent(),n.$o=!0,[4,uk(n.remoteStore,!0)];case 2:for(u.sent(),o=0,s=i;o<s.length;o++)a=s[o],uc(n.remoteStore,a);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then(function(){return ct(n,e),aD(n.localStore,e,!0)}),ul(n.remoteStore,e)}),[4,l]);case 4:return u.sent(),[4,cc(n,c)];case 5:return u.sent(),(h=n).Co.forEach(function(t,e){ul(h.remoteStore,e)}),h.No.ts(),h.Co=new Map,h.Do=new op(rY.comparator),n.$o=!1,[4,uk(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=a8();if(!a0.yt(e))throw new rw(rb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=aE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new a0(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(cv),cb=function(){function t(){}return t.prototype.initialize=function(t,e){return a(this,void 0,void 0,function(){var n=this;return u(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return u3(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=co.bind(null,this.syncEngine),[4,uk(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new uj},t.prototype.createDatastore=function(t){var e,n,r=a7(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new a6(n));return e=t.credentials,new ui(e,i,r)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=a3.yt()?new a3:new a2,new us(e,n,r,function(t){return u3(o.syncEngine,t,0)},i)},t.prototype.createSyncEngine=function(t,e){var n,r,i,o,s,a,u;return n=this.localStore,r=this.remoteStore,i=this.eventManager,o=this.sharedClientState,s=t.initialUser,a=t.maxConcurrentLimboResolutions,u=new uY(n,r,i,o,s,a),e&&(u.$o=!0),u},t.prototype.terminate=function(){return function(t){return a(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=t,rT("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,uu(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),cw=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),cE=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new sv,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return a(this,void 0,void 0,function(){return u(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return a(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return a(this,void 0,void 0,function(){var t,e,n,r;return u(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(isNaN(n=Number(e=this.zo.decode(t)))&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new uK(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return 123===t})},t.prototype.Jo=function(){return a(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return 0>this.Zo()?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return a(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return a(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return a(this,void 0,void 0,function(){var e,n=this;return u(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new rw(rb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return a(this,void 0,void 0,function(){var n,r,i,o,s,a;return u(this,function(u){switch(u.label){case 0:return r=oH((n=t).R)+"/documents",i={documents:e.map(function(t){return oq(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e,r,i,o,a,u,c=(e=n.R,"found"in t?(t.found||rA(),t.found.name,t.found.updateTime,r=oz(e,t.found.name),i=oF(t.found.updateTime),o=new ie({mapValue:{fields:t.found.fields}}),ir.newFoundDocument(r,i,o)):"missing"in t?(t.missing||rA(),t.readTime||rA(),a=oz(e,t.missing),u=oF(t.readTime),ir.newNoDocument(a,u)):rA());s.set(c.key.toString(),c)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());e||rA(),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new oc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return a(this,void 0,void 0,function(){var t,e=this;return u(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=rY.fromPath(n);e.mutations.push(new ol(r,e.precondition(r)))}),[4,function(t,e){return a(this,void 0,void 0,function(){var n,r;return u(this,function(i){switch(i.label){case 0:return n=oH(t.R)+"/documents",r={writes:e.map(function(e){return oX(t.R,e)})},[4,t.Ni("Commit",n,r)];case 1:return i.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw rA();e=rP.min()}var e,n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new rw(rb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?i0.updateTime(e):i0.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(rP.min()))throw new rw(rb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return i0.updateTime(e)}return i0.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),cI=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ut(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return a(t,void 0,void 0,function(){var t,e,n=this;return u(this,function(r){return t=new cE(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!rZ(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!of(e)}return!1},t}(),cT=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=aG.UNAUTHENTICATED,this.clientId=rk.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return a(r,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return rT("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return a(this,void 0,void 0,function(){return u(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new rw(rb.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new sv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return a(t,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=uP(n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,6];case 6:return[2]}})})}),e.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t,e){return a(this,void 0,void 0,function(){var n,r,i=this;return u(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),rT("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return a(i,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,aA(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function c_(t,e){return a(this,void 0,void 0,function(){var n,r;return u(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,cx(t)];case 1:return n=i.sent(),rT("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return a(this,void 0,void 0,function(){var n,r;return u(this,function(i){switch(i.label){case 0:return(n=t).asyncQueue.verifyOperationInProgress(),rT("RemoteStore","RemoteStore received new credentials"),r=um(n),n.Or.add(3),[4,uu(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,ua(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function cx(t){return a(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(rT("FirestoreClient","Using default OfflineComponentProvider"),[4,cS(t,new cg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function cA(t){return a(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(rT("FirestoreClient","Using default OnlineComponentProvider"),[4,c_(t,new cb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function ck(t){return cx(t).then(function(t){return t.persistence})}function cN(t){return cx(t).then(function(t){return t.localStore})}function cC(t){return cA(t).then(function(t){return t.remoteStore})}function cD(t){return cA(t).then(function(t){return t.syncEngine})}function cP(t){return a(this,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:return[4,cA(t)];case 1:return[2,((n=(e=r.sent()).eventManager).onListen=uQ.bind(null,e.syncEngine),n.onUnlisten=u0.bind(null,e.syncEngine),n)]}})})}function cR(t,e,n){var r=this;void 0===n&&(n={});var i=new sv;return t.asyncQueue.enqueueAndForget(function(){return a(r,void 0,void 0,function(){var r;return u(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new cw({next:function(o){e.enqueueAndForget(function(){return uF(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new rw(rb.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new rw(rb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new uz(i_(n.path),o,{includeMetadataChanges:!0,so:!0});return uV(t,s)},[4,cP(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function cO(t,e,n){var r=this;void 0===n&&(n={});var i=new sv;return t.asyncQueue.enqueueAndForget(function(){return a(r,void 0,void 0,function(){var r;return u(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new cw({next:function(n){e.enqueueAndForget(function(){return uF(t,s)}),n.fromCache&&"server"===r.source?i.reject(new rw(rb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new uz(n,o,{includeMetadataChanges:!0,so:!0});return uV(t,s)},[4,cP(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var cL=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},cM=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),cj=new Map,cV=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},cF=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(aG.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cU=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cB=function(){function t(t){var e=this;this.currentUser=aG.UNAUTHENTICATED,this.oc=new sv,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){rT("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(rT("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(rT("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?("string"==typeof n.accessToken||rA(),new cV(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return a(n,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return null===t||"string"==typeof t||rA(),new aG(t)},t}(),cq=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=aG.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),cz=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new cq(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(aG.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(t,e,n){if(!n)throw new rw(rb.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function cG(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rw(rb.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function cH(t,e,n,r){if(!0===e&&!0===r)throw new rw(rb.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function cW(t){if(!rY.isDocumentKey(t))throw new rw(rb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function cZ(t){if(rY.isDocumentKey(t))throw new rw(rb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function c$(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":rA()}function cX(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rw(rb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=c$(t);throw new rw(rb.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function cY(t,e){if(e<=0)throw new rw(rb.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cQ=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new rw(rb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new rw(rb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,cH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),cJ=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cQ({}),this._settingsFrozen=!1,t instanceof cM?(this._databaseId=t,this._credentials=new cF):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new rw(rb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cM(t.options.projectId)}(t),this._credentials=new cB(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new rw(rb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new rw(rb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cQ(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new cF;switch(t.type){case"gapi":var e=t.client;return"object"==typeof e&&null!==e&&e.auth&&e.auth.getAuthHeaderValueForFirstParty||rA(),new cz(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new rw(rb.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){var t;return(t=cj.get(this))&&(rT("ComponentProvider","Removing Datastore"),cj.delete(this),t.terminate()),Promise.resolve()},t}(),c0=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new c2(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),c1=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),c2=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,i_(r))||this)._path=r,i.type="collection",i}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new c0(this.firestore,null,new rY(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(c1);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=k(t),cK("collection","path",e),t instanceof cJ)return cZ(n=rj.fromString.apply(rj,h([e],r))),new c2(t,null,n);if(!(t instanceof c0||t instanceof c2))throw new rw(rb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cZ(n=rj.fromString.apply(rj,h([t.path],r)).child(rj.fromString(e))),new c2(t.firestore,null,n)}function c4(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=k(t),1==arguments.length&&(e=rk.u()),cK("doc","path",e),t instanceof cJ)return cW(n=rj.fromString.apply(rj,h([e],r))),new c0(t,null,new rY(n));if(!(t instanceof c0||t instanceof c2))throw new rw(rb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cW(n=t._path.child(rj.fromString.apply(rj,h([e],r)))),new c0(t.firestore,t instanceof c2?t.converter:null,new rY(n))}function c5(t,e){return t=k(t),e=k(e),(t instanceof c0||t instanceof c2)&&(e instanceof c0||e instanceof c2)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function c6(t,e){return t=k(t),e=k(e),t instanceof c1&&e instanceof c1&&t.firestore===e.firestore&&iO(t._query,e._query)&&t.converter===e.converter/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var c8=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ut(this,"async_queue_retry"),this.Ic=function(){var e=a9();e&&rT("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=a9();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=a9();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new sv;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return a(this,void 0,void 0,function(){var t,e=this;return u(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!sT(t=n.sent()))throw t;return rT("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){var n;throw e.yc=t,e.gc=!1,rS("INTERNAL UNHANDLED ERROR: ",(n=t.message||"",t.stack&&(n=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),n)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=uD.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&rA()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return a(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function c9(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new sv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var c7=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new c8,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return o(e,t),e.prototype._terminate=function(){return this._firestoreClient||le(this),this._firestoreClient.terminate()},e}(cJ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t._firestoreClient||le(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function le(t){var e,n,r,i,o=t._freezeSettings(),s=(e=t._databaseId,n=(null===(i=t._app)||void 0===i?void 0:i.options.appId)||"",r=t._persistenceKey,new cL(e,n,r,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));t._firestoreClient=new cT(t._credentials,t._queue,s)}function ln(t,e,n){var r=this,i=new sv;return t.asyncQueue.enqueue(function(){return a(r,void 0,void 0,function(){var r;return u(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cS(t,n)];case 1:return o.sent(),[4,c_(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:var s;if(!("FirebaseError"===(s=r=o.sent()).name?s.code===rb.FAILED_PRECONDITION||s.code===rb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function lr(t){if(t._initialized||t._terminated)throw new rw(rb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new rw(rb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rF(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),lo=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(rB.fromBase64String(e))}catch(t){throw new rw(rb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},t.fromUint8Array=function(e){return new t(rB.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ls=function(t){this._methodName=t},la=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new rw(rb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new rw(rb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return rN(this._lat,t._lat)||rN(this._long,t._long)},t}(),lu=/^__.*__$/,lc=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new i8(t,this.data,this.fieldMask,e,this.fieldTransforms):new i6(t,this.data,e,this.fieldTransforms)},t}(),ll=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new i8(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rA()}}var lf=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return lP(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(lh(this.Nc)&&lu.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),ld=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||a7(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new lf({Nc:t,methodName:e,qc:n,path:rF.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function lp(t){var e=t._freezeSettings(),n=a7(t._databaseId);return new ld(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lm(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);lk("Data must be an object, but it was:",s,r);var a,u,c=lx(r,s);if(o.merge)a=new rU(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=lN(e,f[h],n);if(!s.contains(d))throw new rw(rb.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");lR(l,d)||l.push(d)}a=new rU(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new lc(new ie(c),a,u)}var lg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ls);function lv(t,e,n){return new lf({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._toFieldTransform=function(t){return new iQ(t.path,new iK)},e.prototype.isEqual=function(t){return t instanceof e},e}(ls),lb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return o(e,t),e.prototype._toFieldTransform=function(t){var e=lv(this,t,!0),n=this.Kc.map(function(t){return l_(t,e)}),r=new iG(n);return new iQ(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ls),lw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return o(e,t),e.prototype._toFieldTransform=function(t){var e=lv(this,t,!0),n=this.Kc.map(function(t){return l_(t,e)}),r=new iW(n);return new iQ(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ls),lE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return o(e,t),e.prototype._toFieldTransform=function(t){var e=new i$(t.R,iB(t.R,this.Qc));return new iQ(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ls);function lI(t,e,n,r){var i=t.Uc(1,e,n);lk("Data must be an object, but it was:",i,r);var o=[],s=ie.empty();rO(r,function(t,r){var a=lD(e,t,n);r=k(r);var u=i.Oc(a);if(r instanceof lg)o.push(a);else{var c=l_(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new rU(o);return new ll(s,a,i.fieldTransforms)}function lT(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[lN(e,r,n)],u=[i];if(o.length%2!=0)throw new rw(rb.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(lN(e,o[c])),u.push(o[c+1]);for(var l=[],h=ie.empty(),f=a.length-1;f>=0;--f)if(!lR(l,a[f])){var d=a[f],p=u[f];p=k(p);var m=s.Oc(d);if(p instanceof lg)l.push(d);else{var g=l_(p,m);null!=g&&(l.push(d),h.set(d,g))}}var v=new rU(l);return new ll(h,v,s.fieldTransforms)}function lS(t,e,n,r){return void 0===r&&(r=!1),l_(n,t.Uc(r?4:3,e))}function l_(t,e){if(lA(t=k(t)))return lk("Unsupported field value:",e,t),lx(t,e);if(t instanceof ls)return function(t,e){if(!lh(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0;i<t.length;i++){var o=l_(t[i],e.Mc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=k(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return iB(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=rD.fromDate(t);return{timestampValue:oj(e.R,n)}}if(t instanceof rD)return n=new rD(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:oj(e.R,n)};if(t instanceof la)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lo)return{bytesValue:oV(e.R,t._byteString)};if(t instanceof c0){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:oU(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+c$(t))}(t,e)}function lx(t,e){var n={};return rL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rO(t,function(t,r){var i=l_(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function lA(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof rD||t instanceof la||t instanceof lo||t instanceof c0||t instanceof ls)}function lk(t,e,n){if(!lA(n)||!("object"==typeof n&&null!==n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n)))){var r=c$(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function lN(t,e,n){if((e=k(e))instanceof li)return e._internalPath;if("string"==typeof e)return lD(t,e);throw lP("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var lC=RegExp("[~\\*/\\[\\]]");function lD(t,e,n){if(e.search(lC)>=0)throw lP("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(li.bind.apply(li,h([void 0],e.split(".")))))._internalPath}catch(r){throw lP("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function lP(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new rw(rb.INVALID_ARGUMENT,(a+=". ")+t+u)}function lR(t,e){return t.some(function(t){return t.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lO=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new c0(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new lL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(lM("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),lL=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(lO);function lM(t,e){return"string"==typeof e?lD(t,e):e instanceof li?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lj=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),lV=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return o(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new lF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(lM("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(lO),lF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(lV),lU=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new lj(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new lF(n._firestore,n._userDataWriter,r.key,r,new lj(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rw(rb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new lF(t._firestore,t._userDataWriter,e.doc.key,e.doc,new lj(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new lF(t._firestore,t._userDataWriter,e.doc.key,e.doc,new lj(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rA()}}(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function lB(t,e){return t instanceof lV&&e instanceof lV?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof lU&&e instanceof lU&&t._firestore===e._firestore&&c6(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(t){if(iA(t)&&0===t.explicitOrderBy.length)throw new rw(rb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lz=function(){};function lK(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)t=e[r]._apply(t);return t}var lG=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return o(e,t),e.prototype._apply=function(t){var e,n,r=lp(t.firestore),i=function(t,e,n,r,i,o,s){if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new rw(rb.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){lQ(s,o);for(var a,u=[],c=0;c<s.length;c++){var l=s[c];u.push(lY(r,t,l))}a={arrayValue:{values:u}}}else a=lY(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||lQ(s,o),a=lS(n,"where",s,"in"===o||"not-in"===o);var h=ic.create(i,o,a);return function(t,e){if(e.g()){var n=iN(t);if(null!==n&&!n.isEqual(e.field))throw new rw(rb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ik(t);null!==r&&lJ(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new rw(rb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new rw(rb.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,r,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new c1(t.firestore,t.converter,(n=(e=t._query).filters.concat([i]),new iS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)))},e}(lz),lH=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return o(e,t),e.prototype._apply=function(t){var e,n,r=function(t,e,n){if(null!==t.startAt)throw new rw(rb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new rw(rb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new iE(e,n);return function(t,e){if(null===ik(t)){var n=iN(t);null!==n&&lJ(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new c1(t.firestore,t.converter,(n=(e=t._query).explicitOrderBy.concat([r]),new iS(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(lz),lW=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return o(e,t),e.prototype._apply=function(t){return new c1(t.firestore,t.converter,iR(t._query,this.Hc,this.Jc))},e}(lz),lZ=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return o(e,t),e.prototype._apply=function(t){var e,n=lX(t,this.type,this.Yc,this.Xc);return new c1(t.firestore,t.converter,(e=t._query,new iS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(lz),l$=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return o(e,t),e.prototype._apply=function(t){var e,n=lX(t,this.type,this.Yc,this.Xc);return new c1(t.firestore,t.converter,(e=t._query,new iS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(lz);function lX(t,e,n,r){if(n[0]=k(n[0]),n[0]instanceof lO)return function(t,e,n,r,i){if(!r)throw new rw(rb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=iD(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(r4(e,r.key));else{var c=r.data.field(u.field);if(rH(c))throw new rw(rb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new rw(rb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ib(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=lp(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new rw(rb.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new rw(rb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!iC(t)&&-1!==c.indexOf("/"))throw new rw(rb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(rj.fromString(c));if(!rY.isDocumentKey(l))throw new rw(rb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new rY(l);a.push(r4(e,h))}else{var f=lS(n,r,c);a.push(f)}}return new ib(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function lY(t,e,n){if("string"==typeof(n=k(n))){if(""===n)throw new rw(rb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!iC(e)&&-1!==n.indexOf("/"))throw new rw(rb.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(rj.fromString(n));if(!rY.isDocumentKey(r))throw new rw(rb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return r4(t,new rY(r))}if(n instanceof c0)return r4(t,n._key);throw new rw(rb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+c$(n)+".")}function lQ(t,e){if(!Array.isArray(t)||0===t.length)throw new rw(rb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new rw(rb.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function lJ(t,e,n){if(!n.isEqual(e))throw new rw(rb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l0=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),rQ(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rK(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rG(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw rA()}},t.prototype.convertObject=function(t,e){var n=this,r={};return rO(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new la(rK(t.latitude),rK(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return rH(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(rW(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=rz(t);return new rD(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=rj.fromString(t);o5(n)||rA();var r=new cM(n.get(1),n.get(3)),i=new rY(n.popFirst(5));return r.isEqual(e)||rS("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var l2=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new lo(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new c0(this.firestore,null,e)},e}(l0),l3=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=lp(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=l4(t,this._firestore),i=l1(r.converter,e,n),o=lm(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,i0.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=l4(t,this._firestore);return o="string"==typeof(e=k(e))||e instanceof li?lT(this._dataReader,"WriteBatch.update",s._key,e,n,r):lI(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,i0.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=l4(t,this._firestore);return this._mutations=this._mutations.concat(new oc(e._key,i0.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new rw(rb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t,e){if((t=k(t)).firestore!==e)throw new rw(rb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l5=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new lo(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new c0(this.firestore,null,e)},e}(l0);function l6(t,e,n){t=cX(t,c0);var r=cX(t.firestore,c7),i=l1(t.converter,e,n);return l7(r,[lm(lp(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,i0.none())])}function l8(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=cX(t,c0);var o=cX(t.firestore,c7),s=lp(o);return l7(o,[("string"==typeof(e=k(e))||e instanceof li?lT(s,"updateDoc",t._key,e,n,r):lI(s,"updateDoc",t._key,e)).toMutation(t._key,i0.exists(!0))])}function l9(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=k(t);var s={includeMetadataChanges:!1},c=0;"object"!=typeof i[0]||c9(i[c])||(s=i[c],c++);var l,h,f,d={includeMetadataChanges:s.includeMetadataChanges};if(c9(i[c])){var p=i[c];i[c]=null===(e=p.next)||void 0===e?void 0:e.bind(p),i[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),i[c+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(t instanceof c0)h=cX(t.firestore,c7),f=i_(t._key.path),l={next:function(e){i[c]&&i[c](ht(h,t,e))},error:i[c+1],complete:i[c+2]};else{var m=cX(t,c1);h=cX(m.firestore,c7),f=m._query;var g=new l5(h);l={next:function(t){i[c]&&i[c](new lU(h,g,m,t))},error:i[c+1],complete:i[c+2]},lq(t._query)}return function(t,e,n,r){var i=this,o=new cw(r),s=new uz(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return a(i,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=uV,[4,cP(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return a(i,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=uF,[4,cP(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(lt(h),f,d,l)}function l7(t,e){return function(t,e){var n=this,r=new sv;return t.asyncQueue.enqueueAndForget(function(){return a(n,void 0,void 0,function(){var n;return u(this,function(i){switch(i.label){case 0:return n=u1,[4,cD(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(lt(t),e)}function ht(t,e,n){var r=n.docs.get(e._key),i=new l5(t);return new lV(t,i,e._key,r,new lj(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return o(e,t),e.prototype.get=function(e){var n=this,r=l4(e,this._firestore),i=new l5(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new lV(n._firestore,i,r._key,t._document,new lj(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=lp(t)}return t.prototype.get=function(t){var e=this,n=l4(t,this._firestore),r=new l2(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return rA();var i=t[0];if(i.isFoundDocument())return new lO(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lO(e._firestore,r,n._key,null,n.converter);throw rA()})},t.prototype.set=function(t,e,n){var r=l4(t,this._firestore),i=l1(r.converter,e,n),o=lm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=l4(t,this._firestore);return o="string"==typeof(e=k(e))||e instanceof li?lT(this._dataReader,"Transaction.update",s._key,e,n,r):lI(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=l4(t,this._firestore);return this._transaction.delete(e._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){if("undefined"==typeof Uint8Array)throw new rw(rb.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hr(){if("undefined"==typeof atob)throw new rw(rb.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hi=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return hr(),new t(lo.fromBase64String(e))},t.fromUint8Array=function(e){return hn(),new t(lo.fromUint8Array(e))},t.prototype.toBase64=function(){return hr(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return hn(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),ho=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){var n,r,i,o,s;return n=t._delegate,r={forceOwnership:e},lr(n=cX(n,c7)),i=lt(n),o=n._freezeSettings(),ln(i,s=new cb,new cv(s,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))},t.prototype.enableMultiTabIndexedDbPersistence=function(t){var e,n,r,i;return lr(e=cX(e=t._delegate,c7)),n=lt(e),r=e._freezeSettings(),ln(n,i=new cb,new cy(i,r.cacheSizeBytes))},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new rw(rb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new sv;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return a(e,void 0,void 0,function(){var e;return u(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return a(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return sw.yt()?(e=t+"main",[4,sw.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(aE(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),hs=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof cM||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||r_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i,o,a,u=(t=cX(t,cJ))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&r_("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},u),{host:e+":"+n,ssl:!1})),r.mockUserToken){if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=aG.MOCK_USER;else{o=/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(t,e){if(t.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=s({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[g(JSON.stringify({alg:"none",type:"JWT"})),g(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new rw(rb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new aG(c)}t._credentials=new cU(new cV(o,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return a(e,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:return[4,ck(t)];case 1:return e=r.sent(),[4,cC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),n.Or.delete(0),ua(n))]}})})})}(lt(cX(this._delegate,c7)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return a(e,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:return[4,ck(t)];case 1:return e=r.sent(),[4,cC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return a(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return(e=t).Or.add(0),[4,uu(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(lt(cX(this._delegate,c7)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&cH("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new sv;return t.asyncQueue.enqueueAndForget(function(){return a(e,void 0,void 0,function(){var e;return u(this,function(r){switch(r.label){case 0:return e=u8,[4,cD(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(lt(cX(this._delegate,c7)))},t.prototype.onSnapshotsInSync=function(t){var e;return function(t,e){var n=this,r=new cw(e);return t.asyncQueue.enqueueAndForget(function(){return a(n,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.add(e),e.next()},[4,cP(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return a(n,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.delete(e)},[4,cP(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(lt(cX(this._delegate,c7)),c9(t)?t:{next:t})},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new rw(rb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new hw(this,c3(this._delegate,t))}catch(t){throw hf(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new hh(this,c4(this._delegate,t))}catch(t){throw hf(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new hv(this,function(t,e){if(t=cX(t,cJ),cK("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rw(rb.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new c1(t,null,new iS(rj.emptyPath(),e))}(this._delegate,t))}catch(t){throw hf(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new sv;return t.asyncQueue.enqueueAndForget(function(){return a(n,void 0,void 0,function(){var n;return u(this,function(i){switch(i.label){case 0:return[4,cA(t).then(function(t){return t.datastore})];case 1:return n=i.sent(),new cI(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(lt(e=this._delegate),function(r){var i;return i=new he(e,r),t(new hu(n,i))})},t.prototype.batch=function(){var t=this;return lt(this._delegate),new hc(new l3(this._delegate,function(e){return l7(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new rw(rb.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new rw(rb.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),ha=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new hi(new lo(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return hh.eu(e,this.firestore,null)},e}(l0),hu=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new ha(t)}return t.prototype.get=function(t){var e=this,n=cX(t,c0);return this._delegate.get(n).then(function(t){return new hm(e._firestore,new lV(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=cX(t,c0);return n?(cG("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=cX(t,c0);return 2==arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,h([s,e,n],i)),this},t.prototype.delete=function(t){var e=cX(t,c0);return this._delegate.delete(e),this},t}(),hc=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=cX(t,c0);return n?(cG("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=cX(t,c0);return 2==arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,h([s,e,n],i)),this},t.prototype.delete=function(t){var e=cX(t,c0);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),hl=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new lF(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new hg(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new ha(e),n),i.set(n,o)),o},t}();hl.su=new WeakMap;var hh=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ha(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new rw(rb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new c0(n._delegate,r,new rY(e)))},t.eu=function(e,n,r){return new t(n,new c0(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new hw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new hw(this.firestore,c3(this._delegate,t))}catch(t){throw hf(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=k(t))instanceof c0&&c5(this._delegate,t)},t.prototype.set=function(t,e){e=cG("DocumentReference.set",e);try{return e?l6(this._delegate,t,e):l6(this._delegate,t)}catch(t){throw hf(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1==arguments.length?l8(this._delegate,t):l8.apply(void 0,h([this._delegate,t,e],n))}catch(t){throw hf(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){var t;return l7(cX((t=this._delegate).firestore,c7),[new oc(t._key,i0.none())])},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hd(e),i=hp(e,function(e){return new hm(t.firestore,new lV(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return l9(this._delegate,r,i)},t.prototype.get=function(t){var e,n,r,i,o,s,c,l,h=this;return("cache"===(null==t?void 0:t.source)?(e=cX(e=this._delegate,c0),r=lt(n=cX(e.firestore,c7)),i=new l5(n),(function(t,e){var n=this,r=new sv;return t.asyncQueue.enqueueAndForget(function(){return a(n,void 0,void 0,function(){var n;return u(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return a(this,void 0,void 0,function(){var r;return u(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.persistence.runTransaction("read document","readonly",function(n){return t.Mn.mn(n,e)})];case 1:return(r=i.sent()).isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new rw(rb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=uP(i.sent(),"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,cN(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise})(r,e._key).then(function(t){return new lV(n,i,e._key,t,new lj(null!==t&&t.hasLocalMutations,!0),e.converter)})):"server"===(null==t?void 0:t.source)?(o=cX(o=this._delegate,c0),cR(lt(s=cX(o.firestore,c7)),o._key,{source:"server"}).then(function(t){return ht(s,o,t)})):(c=cX(c=this._delegate,c0),cR(lt(l=cX(c.firestore,c7)),c._key).then(function(t){return ht(l,c,t)}))).then(function(t){return new hm(h.firestore,new lV(h.firestore._delegate,h._userDataWriter,t._key,t._document,t.metadata,h._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hl.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function hf(t,e,n){return t.message=t.message.replace(e,n),t}function hd(t){for(var e=0;e<t.length;e++){var n=t[e];if("object"==typeof n&&!c9(n))return n}return{}}function hp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=c9(t[0])?t[0]:c9(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var hm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new hh(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return lB(this._delegate,t._delegate)},t}(),hg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(hm),hv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ha(t)}return t.prototype.where=function(e,n,r){try{var i;return new t(this.firestore,lK(this._delegate,(i=lM("where",e),new lG(i,n,r))))}catch(t){throw hf(t,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{var r,i,o;return new t(this.firestore,lK(this._delegate,(r=n,void 0===r&&(r="asc"),i=r,o=lM("orderBy",e),new lH(o,i))))}catch(t){throw hf(t,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,lK(this._delegate,(cY("limit",e),new lW("limit",e,"F"))))}catch(t){throw hf(t,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,lK(this._delegate,(cY("limitToLast",e),new lW("limitToLast",e,"L"))))}catch(t){throw hf(t,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lK(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lZ("startAt",t,!0)}).apply(void 0,e)))}catch(t){throw hf(t,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lK(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lZ("startAfter",t,!1)}).apply(void 0,e)))}catch(t){throw hf(t,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lK(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l$("endBefore",t,!0)}).apply(void 0,e)))}catch(t){throw hf(t,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lK(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new l$("endAt",t,!1)}).apply(void 0,e)))}catch(t){throw hf(t,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return c6(this._delegate,t._delegate)},t.prototype.get=function(t){var e,n,r,i,o,s,c,l,h,f,d,p,m=this;return("cache"===(null==t?void 0:t.source)?(e=cX(e=this._delegate,c1),r=lt(n=cX(e.firestore,c7)),i=new l5(n),(function(t,e){var n=this,r=new sv;return t.asyncQueue.enqueueAndForget(function(){return a(n,void 0,void 0,function(){var n;return u(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return a(this,void 0,void 0,function(){var r,i,o,s;return u(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,aP(t,e,!0)];case 1:return s=a.sent(),i=(r=new uZ(e,s.Bn))._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=uP(a.sent(),"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,cN(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise})(r,e._query).then(function(t){return new lU(n,i,e,t)})):"server"===(null==t?void 0:t.source)?(o=cX(o=this._delegate,c1),c=lt(s=cX(o.firestore,c7)),l=new l5(s),cO(c,o._query,{source:"server"}).then(function(t){return new lU(s,l,o,t)})):(h=cX(h=this._delegate,c1),d=lt(f=cX(h.firestore,c7)),p=new l5(f),lq(h._query),cO(d,h._query).then(function(t){return new lU(f,p,h,t)}))).then(function(t){return new hb(m.firestore,new lU(m.firestore._delegate,m._userDataWriter,m._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hd(e),i=hp(e,function(e){return new hb(t.firestore,new lU(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return l9(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hl.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),hy=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new hg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),hb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new hv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new hg(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new hy(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new hg(n._firestore,r))})},t.prototype.isEqual=function(t){return lB(this._delegate,t._delegate)},t}(),hw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new hh(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hh(this.firestore,void 0===t?c4(this._delegate):c4(this._delegate,t))}catch(t){throw hf(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o=this;return(n=cX((e=this._delegate).firestore,c7),r=c4(e),i=l1(e.converter,t),l7(n,[lm(lp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,i0.exists(!1))]).then(function(){return r})).then(function(t){return new hh(o.firestore,t)})},e.prototype.isEqual=function(t){return c5(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(hl.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(hv),hE={Firestore:hs,GeoPoint:la,Timestamp:rD,Blob:hi,Transaction:hu,WriteBatch:hc,DocumentReference:hh,DocumentSnapshot:hm,Query:hv,QueryDocumentSnapshot:hg,QuerySnapshot:hb,CollectionReference:hw,FieldPath:function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(li.bind.apply(li,h([void 0],t)))}return t.documentId=function(){return new t(rF.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=k(t))instanceof li&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),FieldValue:function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new ly("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new lg("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lb("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lw("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=new lE("increment",e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),setLogLevel:function(t){rE.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(t,e){t.INTERNAL.registerComponent(new N("firestore",function(t){return e(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},hE)))}(Q,function(t,e){return new hs(t,new c7(t,e),new ho)}),Q.registerVersion("@firebase/firestore","2.4.1"),(function(){var t,e,r,i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},o=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function s(t){var e,n="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return n?n.call(t):{next:(e=0,function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})}}!function(t,e){if(e){var n=o;t=t.split(".");for(var r=0;r<t.length-1;r++){var s=t[r];s in n||(n[s]={}),n=n[s]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&i(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var i=o.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){this.g(t);return}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Ra(e,n)})},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e(function(t,e){var o=[],s=0;do o.push(void 0),s++,r(i.value).Ra(function(e){return function(n){o[e]=n,0==--s&&t(o)}}(o.length-1),e),i=n.next();while(!i.done)})},e});var a=a||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function f(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function v(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function E(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function I(t,e,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:E).apply(null,arguments)}function T(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now;function _(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function x(t){return t}function A(t,e,n){this.code=N+t,this.message=e||C[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new A(e.substring(N.length),t.message,t.serverResponse):null}_(A,Error),A.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},A.prototype.toJSON=function(){return this.w()};var N="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in D)if(D[e].id===t)return{firebaseEndpoint:(t=D[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function O(t){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function V(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}oG=P("__EID__")?"__EID__":void 0,_(O,Error),O.prototype.name="CustomError",_(L,O),L.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new j(function(){return new B},function(t){t.reset()});function B(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return -1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},H=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=q(t,e)}function Z(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){var n=0;!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(r,i){e.call(void 0,r,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&n++})}function X(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,te=/</g,tn=/>/g,tr=/"/g,ti=/'/g,to=/\x00/g,ts=/[\x00&<>"']/;function ta(t,e){return -1!=t.indexOf(e)}function tu(t,e){return t<e?-1:t>e?1:0}t:{var tc=u.navigator;if(tc){var tl=tc.userAgent;if(tl){oH=tl;break t}}oH=""}function th(t){return ta(oH,t)}function tf(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function td(t){for(var e in t)return!1;return!0}function tp(t){var e,n={};for(e in t)n[e]=t[e];return n}var tm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tg(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<tm.length;o++)n=tm[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tv(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function ty(t,e){this.a=t===tE&&e||"",this.b=tw}function tb(t){return t instanceof ty&&t.constructor===ty&&t.b===tw?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}ty.prototype.ta=!0,ty.prototype.sa=function(){return this.a},ty.prototype.toString=function(){return"Const{"+this.a+"}"};var tw={},tE={};function tI(){if(void 0===oW){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:x,createScript:x,createScriptURL:x})}catch(t){u.console&&u.console.error(t.message)}oW=t}else oW=t}return oW}function tT(t,e){this.a=e===tk?t:""}function tS(t){return t instanceof tT&&t.constructor===tT?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function t_(t,e){var n,r,i=tb(t);if(!tA.test(i))throw Error("Invalid TrustedResourceUrl format: "+i);return n=t=i.replace(tx,function(t,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw Error('Found marker, "'+n+'", in format string, "'+i+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[n])instanceof ty?tb(t):encodeURIComponent(String(t))}),n=(r=tI())?r.createScriptURL(n):n,new tT(n,tk)}tT.prototype.ta=!0,tT.prototype.sa=function(){return this.a.toString()},tT.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var tx=/%{(\w+)}/g,tA=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,tk={};function tN(t,e){this.a=e===tM?t:""}function tC(t){return t instanceof tN&&t.constructor===tN?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}tN.prototype.ta=!0,tN.prototype.sa=function(){return this.a.toString()},tN.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var tD=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,tP=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,tR=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function tO(t){if(t instanceof tN)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),tR.test(t))t=new tN(t,tM);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(tP);t=e&&tD.test(e[1])?new tN(t,tM):null}return t}function tL(t){return t instanceof tN?t:(t="object"==typeof t&&t.ta?t.sa():String(t),tR.test(t)||(t="about:invalid#zClosurez"),new tN(t,tM))}var tM={},tj=new tN("about:invalid#zClosurez",tM);function tV(t,e,n){this.a=n===tF?t:""}tV.prototype.ta=!0,tV.prototype.sa=function(){return this.a.toString()},tV.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var tF={};function tU(t,e,n,r){return t=t instanceof tN?t:tL(t),e=e||u,n=n instanceof ty?tb(n):n||"",e.open(tC(t),n,r,void 0)}function tB(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function tq(t){return ts.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(te,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tn,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(tr,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ti,"&#39;")),-1!=t.indexOf("\x00")&&(t=t.replace(to,"&#0;"))),t}function tz(t){return tz[" "](t),t}tz[" "]=f;var tK=th("Opera"),tG=th("Trident")||th("MSIE"),tH=th("Edge"),tW=tH||tG,tZ=th("Gecko")&&!(ta(oH.toLowerCase(),"webkit")&&!th("Edge"))&&!(th("Trident")||th("MSIE"))&&!th("Edge"),t$=ta(oH.toLowerCase(),"webkit")&&!th("Edge");function tX(){var t=u.document;return t?t.documentMode:void 0}t:{var tY,tQ="",tJ=(tY=oH,tZ?/rv:([^\);]+)(\)|;)/.exec(tY):tH?/Edge\/([\d\.]+)/.exec(tY):tG?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tY):t$?/WebKit\/(\S+)/.exec(tY):tK?/(?:Version)[ \/]?(\S+)/.exec(tY):void 0);if(tJ&&(tQ=tJ?tJ[1]:""),tG){var t0=tX();if(null!=t0&&t0>parseFloat(tQ)){oZ=String(t0);break t}}oZ=tQ}var t1={};function t2(t){var e;return e=t1,Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=function(){for(var e=0,n=J(String(oZ)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=tu(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||tu(0==s[2].length,0==a[2].length)||tu(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}(t)}var t3=u.document&&tG&&(tX()||parseInt(oZ,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var t4=!tG||9<=Number(t3);function t5(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function t6(t,e){tf(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:t8.hasOwnProperty(n)?t.setAttribute(t8[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var t8={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function t9(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function t7(t){u.setTimeout(function(){throw t},0)}function et(t,e){oY||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);oY=function(){t.then(er)}}else oY=function(){!m(u.setImmediate)||u.Window&&u.Window.prototype&&!th("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(oX||(oX=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!th("Presto")&&(t=function(){var t=t9(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=I(function(t){("*"==r||t.origin==r)&&t.data==n&&this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!th("Trident")&&!th("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),oX(er)):u.setImmediate(er)}}(),ee||(oY(),ee=!0),en.add(t,e)}var ee=!1,en=new F;function er(){for(var t,e,n;e=null,(t=en).a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),n=e;){try{n.a.call(n.b)}catch(t){t7(t)}V(U,n)}ee=!1}function ei(t,e){if(this.a=eo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,function(t){ev(n,es,t)},function(t){if(!(t instanceof eS))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}ev(n,ea,t)})}catch(t){ev(this,ea,t)}}var eo=0,es=2,ea=3;function eu(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}eu.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ec=new j(function(){return new eu},function(t){t.reset()});function el(t,e,n){var r=ec.get();return r.g=t,r.b=e,r.f=n,r}function eh(t){if(t instanceof ei)return t;var e=new ei(f);return ev(e,es,t),e}function ef(t){return new ei(function(e,n){n(t)})}function ed(t,e,n){ey(t,e,n,null)||et(T(e,t))}function ep(t){return new ei(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ed(t[o],T(i,o,!0),T(i,o,!1));else e(r)})}function em(t,e){t.b||t.a!=es&&t.a!=ea||eb(t),t.f?t.f.next=e:t.b=e,t.f=e}function eg(t,e,n,r){var i=el(null,null,null);return i.a=new ei(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof eS?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,em(t,i),i.a}function ev(t,e,n){var r,i;t.a==eo&&(t===n&&(e=ea,n=TypeError("Promise cannot resolve to itself")),t.a=1,ey(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,eb(t),e!=ea||n instanceof eS||(r=t,i=n,r.g=!0,et(function(){r.g&&eT.call(null,i)}))))}function ey(t,e,n,r){if(t instanceof ei)return em(t,el(e||f,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(m(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function eb(t){t.h||(t.h=!0,et(t.gc,t))}function ew(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function eE(t,e,n,r){if(n==ea&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,eI(e,n,r);else try{e.c?e.g.call(e.f):eI(e,n,r)}catch(t){eT.call(null,t)}V(ec,e)}function eI(t,e,n){e==es?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ei.prototype.then=function(t,e,n){return eg(this,m(t)?t:null,m(e)?e:null,n)},ei.prototype.$goog_Thenable=!0,(r=ei.prototype).oa=function(t,e){return(t=el(t,t,e)).c=!0,em(this,t),this},r.o=function(t,e){return eg(this,null,t,e)},r.cancel=function(t){if(this.a==eo){var e=new eS(t);et(function(){(function t(e,n){if(e.a==eo){if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==eo&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):ew(r),eE(r,o,ea,n)))}e.c=null}else ev(e,ea,n)}})(this,e)},this)}},r.$c=function(t){this.a=eo,ev(this,es,t)},r.ad=function(t){this.a=eo,ev(this,ea,t)},r.gc=function(){for(var t;t=ew(this);)eE(this,t,this.a,this.i);this.h=!1};var eT=t7;function eS(t){O.call(this,t)}function e_(){0!=ex&&(eA[v(this)]=this),this.ya=this.ya,this.pa=this.pa}_(eS,O),eS.prototype.name="cancel";var ex=0,eA={};function ek(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=ex)){var e=v(t);if(0!=ex&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete eA[e]}}e_.prototype.ya=!1,e_.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var eN=Object.freeze||function(t){return t},eC=!tG||9<=Number(t3),eD=tG&&!t2("9"),eP=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(t){}return t}();function eR(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function eO(t,e){if(eR.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(tZ){t:{try{tz(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:eL[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}eR.prototype.preventDefault=function(){this.defaultPrevented=!0},_(eO,eR);var eL=eN({2:"touch",3:"pen",4:"mouse"});eO.prototype.preventDefault=function(){eO.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,eD)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},eO.prototype.g=function(){return this.a};var eM="closure_listenable_"+(1e6*Math.random()|0),ej=0;function eV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++ej,this.wa=this.Qa=!1}function eF(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function eU(t){this.src=t,this.a={},this.b=0}function eB(t,e){var n=e.type;n in t.a&&Z(t.a[n],e)&&(eF(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function eq(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&!!n==o.capture&&o.Wa==r)return i}return -1}eU.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=eq(t,e,r,i);return -1<s?(e=t[s],n||(e.Qa=!1)):((e=new eV(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var ez="closure_lm_"+(1e6*Math.random()|0),eK={},eG=0;function eH(t,e,n,r,i){if(r&&r.once)eZ(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)eH(t,e[o],n,r,i);else n=e3(n),t&&t[eM]?e5(t,e,n,g(r)?!!r.capture:!!r,i):eW(t,e,n,!1,r,i)}function eW(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s,a=g(i)?!!i.capture:!!i,u=e1(t);if(u||(t[ez]=u=new eU(t)),!(n=u.add(e,n,r,a,o)).proxy){if(r=s=eC?function(t){return e0.call(s.src,s.listener,t)}:function(t){if(!(t=e0.call(s.src,s.listener,t)))return t},n.proxy=r,r.src=t,r.listener=n,t.addEventListener)eP||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(eY(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");eG++}}function eZ(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)eZ(t,e[o],n,r,i);else n=e3(n),t&&t[eM]?e6(t,e,n,g(r)?!!r.capture:!!r,i):eW(t,e,n,!0,r,i)}function e$(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)e$(t,e[o],n,r,i);else(r=g(r)?!!r.capture:!!r,n=e3(n),t&&t[eM])?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=eq(o=t.a[e],n,r,i))&&(eF(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=e1(t))&&(e=t.a[e.toString()],t=-1,e&&(t=eq(e,n,r,i)),(n=-1<t?e[t]:null)&&eX(n))}function eX(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[eM])eB(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(eY(n),r):e.addListener&&e.removeListener&&e.removeListener(r),eG--,(n=e1(e))?(eB(n,t),0==n.b&&(n.src=null,e[ez]=null)):eF(t)}}}function eY(t){return t in eK?eK[t]:eK[t]="on"+t}function eQ(t,e,n,r){var i=!0;if((t=e1(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=eJ(o,r),i=i&&!1!==o)}return i}function eJ(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&eX(t),n.call(r,e)}function e0(t,e){if(t.wa)return!0;if(!eC){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new eO(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=eQ(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=eQ(r[i],t,!1,e),n=n&&o}return n}return eJ(t,new eO(e,this))}function e1(t){return(t=t[ez])instanceof eU?t:null}var e2="__closure_events_fn_"+(1e9*Math.random()>>>0);function e3(t){return m(t)?t:(t[e2]||(t[e2]=function(e){return t.handleEvent(e)}),t[e2])}function e4(){e_.call(this),this.v=new eU(this),this.bc=this,this.hb=null}function e5(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function e6(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function e8(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&eB(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function e9(t,e,n){if(m(t))n&&(t=I(t,n));else if(t&&"function"==typeof t.handleEvent)t=I(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function e7(t){var e=null;return new ei(function(n,r){-1==(e=e9(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw u.clearTimeout(e),t})}function nt(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function ne(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t){if(t instanceof nn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}}function nr(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ni(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ni(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ni(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(e4,e_),e4.prototype[eM]=!0,e4.prototype.addEventListener=function(t,e,n,r){eH(this,t,e,n,r)},e4.prototype.removeEventListener=function(t,e,n,r){e$(this,t,e,n,r)},e4.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new eR(t,n);else if(t instanceof eR)t.target=t.target||n;else{var i=t;tg(t=new eR(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=e8(s,r,!0,t)&&i}if(i=e8(s=t.b=n,r,!0,t)&&i,i=e8(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=e8(s=t.b=e[o],r,!1,t)&&i;return i},e4.prototype.Da=function(){if(e4.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)eF(n[r]);delete e.a[t],e.b--}}this.hb=null},(r=nn.prototype).X=function(){nr(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.Y=function(){return nr(this),this.a.concat()},r.clear=function(){this.b={},this.c=this.a.length=0},r.get=function(t,e){return ni(this.b,t)?this.b[t]:e},r.set=function(t,e){ni(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var no=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ns(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof ns?(this.i=void 0!==e?e:t.i,na(this,t.c),this.l=t.l,this.a=t.a,nu(this,t.g),this.f=t.f,nc(this,nk(t.b)),this.h=t.h):t&&(n=String(t).match(no))?(this.i=!!e,na(this,n[1]||"",!0),this.l=np(n[2]||""),this.a=np(n[3]||"",!0),nu(this,n[4]),this.f=np(n[5]||"",!0),nc(this,n[6]||"",!0),this.h=np(n[7]||"")):(this.i=!!e,this.b=new nI(null,this.i))}function na(t,e,n){t.c=n?np(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function nu(t,e){if(e){if(isNaN(e=Number(e))||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function nc(t,e,n){var r,i;e instanceof nI?(t.b=e,r=t.b,(i=t.i)&&!r.f&&(nT(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(n_(this,e),nA(this,n,t))},r)),r.f=i):(n||(e=nm(e,nw)),t.b=new nI(e,t.i))}function nl(t,e,n){t.b.set(e,n)}function nh(t,e){return t.b.get(e)}function nf(t){return t instanceof ns?new ns(t):new ns(t,void 0)}function nd(t,e,n,r){var i=new ns(null,void 0);return t&&na(i,t),e&&(i.a=e),n&&nu(i,n),r&&(i.f=r),i}function np(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nm(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ng),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ng(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ns.prototype.toString=function(){var t=[],e=this.c;e&&t.push(nm(e,nv,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(nm(e,nv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(nm(n,"/"==n.charAt(0)?nb:ny,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",nm(n,nE)),t.join("")},ns.prototype.resolve=function(t){var e=new ns(this),n=!!t.c;n?na(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)nu(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0)){if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}}if(".."==(i=r)||"."==i)r="";else if(ta(i,"./")||ta(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?nc(e,nk(t.b)):n=!!t.h,n&&(e.h=t.h),e};var nv=/[#\/\?@]/g,ny=/[#\?:]/g,nb=/[#\?]/g,nw=/[#\?@]/g,nE=/#/g;function nI(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function nT(t){t.a||(t.a=new nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function nS(t){var e=ne(t);if(void 0===e)throw Error("Keys are undefined");var n=new nI(null,void 0);t=nt(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nA(n,i,o):n.add(i,o)}return n}function n_(t,e){nT(t),e=nN(t,e),ni(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ni((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nr(t)))}function nx(t,e){return nT(t),e=nN(t,e),ni(t.a.b,e)}function nA(t,e,n){n_(t,e),0<n.length&&(t.c=null,t.a.set(nN(t,e),Y(n)),t.b+=n.length)}function nk(t){var e=new nI;return e.c=t.c,t.a&&(e.a=new nn(t.a),e.b=t.b),e}function nN(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nC(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";r.push("]");return}if(n instanceof String||n instanceof Number||n instanceof Boolean)n=n.valueOf();else{for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),nO(i,r),r.push(":"),t(e,s,r),o=",");r.push("}");return}}switch(typeof n){case"string":nO(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nD,t,e),e.join("")}function nD(){}(r=nI.prototype).add=function(t,e){nT(this),this.c=null,t=nN(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.clear=function(){this.a=this.c=null,this.b=0},r.forEach=function(t,e){nT(this),this.a.forEach(function(n,r){z(n,function(n){t.call(e,n,r,this)},this)},this)},r.Y=function(){nT(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.X=function(t){nT(this);var e=[];if("string"==typeof t)nx(this,t)&&(e=X(e,this.a.get(nN(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},r.set=function(t,e){return nT(this),this.c=null,nx(this,t=nN(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var nP={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},nR=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function nO(t,e){e.push('"',t.replace(nR,function(t){var e=nP[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),nP[t]=e),e}),'"')}function nL(){var t=n0();return tG&&!!t3&&11==t3||/Edge\/\d+/.test(t)}function nM(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function nj(t,e){e=e||u.window;var n="about:blank";t&&(n=tC(tO(t)||tj)),e.location.href=n}function nV(t){return!!((t=(t||n0()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function nF(t){t=t||u.window;try{t.close()}catch(t){}}function nU(t,e,n){var r,i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,s=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<o?o:0,left:0<s?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=n0().toLowerCase(),i&&(e.target=i,ta(n,"crios/")&&(e.target="_blank")),nY(n0())==n$&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof tN?n:tO(void 0!==n.href?n.href:String(n))||tj,n=t.target||n.target,o=[],t)switch(a){case"width":case"height":case"top":case"left":o.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(a+"="+(t[a]?1:0))}var a=o.join(",");if((th("iPhone")&&!th("iPod")&&!th("iPad")||th("iPad")||th("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(tv(a=t9(document,"A"),"HTMLAnchorElement"),e=e instanceof tN?e:tL(e),a.href=tC(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=tU("",i,n,a),t=tC(e),a&&(tW&&ta(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+tq(t)+'">',t=(i=tI())?i.createHTML(t):t,t=new tV(t,null,tF),i=a.document)&&(i.write((r=t)instanceof tV&&r.constructor===tV?r.a:(M("expected object of type SafeHtml, got '"+r+"' of type "+d(r)),"type_error:SafeHtml")),i.close())):(a=tU(e,i,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var nB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nq=/^[^@]+@[^@]+$/;function nz(){var t=null;return new ei(function(e){"complete"==u.document.readyState?e():(t=function(){e()},eZ(window,"load",t))}).o(function(e){throw e$(window,"load",t),e})}function nK(t){return t=t||n0(),!("file:"!==n5()&&"ionic:"!==n5()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function nG(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function nH(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function nW(){return Q.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Q.INTERNAL.hasOwnProperty("node")?"Node":nH()?"Worker":"Browser"}function nZ(){var t=nW();return"ReactNative"===t||"Node"===t}var n$="Firefox",nX="Chrome";function nY(t){var e=t.toLowerCase();return ta(e,"opera/")||ta(e,"opr/")||ta(e,"opios/")?"Opera":ta(e,"iemobile")?"IEMobile":ta(e,"msie")||ta(e,"trident/")?"IE":ta(e,"edge/")?"Edge":ta(e,"firefox/")?n$:ta(e,"silk/")?"Silk":ta(e,"blackberry")?"Blackberry":ta(e,"webos")?"Webos":!ta(e,"safari/")||ta(e,"chrome/")||ta(e,"crios/")||ta(e,"android")?!ta(e,"chrome/")&&!ta(e,"crios/")||ta(e,"edge/")?ta(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":nX:"Safari"}var nQ={md:"FirebaseCore-web",od:"FirebaseUI-web"};function nJ(t,e){e=e||[];var n,r=[],i={};for(n in nQ)i[nQ[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=nW())?r=nY(i=n0()):"Worker"===r&&(r=nY(i=n0())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function n0(){return u.navigator&&u.navigator.userAgent||""}function n1(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function n2(){try{var t=u.localStorage,e=rt();if(t)return t.setItem(e,"1"),t.removeItem(e),!nL()||!!u.indexedDB}catch(t){return nH()&&!!u.indexedDB}return!1}function n3(){return(n4()||"chrome-extension:"===n5()||nK())&&!nZ()&&n2()&&!nH()}function n4(){return"http:"===n5()||"https:"===n5()}function n5(){return u.location&&u.location.protocol||null}function n6(t){return!nV(t=t||n0())&&nY(t)!=n$}function n8(t){return void 0===t?null:nC(t)}function n9(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function n7(t){if(null!==t)return JSON.parse(t)}function rt(t){return t||Math.floor(1e9*Math.random()).toString()}function re(t){return!("Safari"==nY(t=t||n0())||t.toLowerCase().match(/iphone|ipad|ipod/))}function rn(){var t=u.___jsl;if(t&&t.H){for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}}function rr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=n0(),e=nW(),this.b=nV(t)||"ReactNative"===e}function ri(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function ro(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function rs(){return!(!n1("fireauth.oauthhelper",u)&&!n1("fireauth.iframe",u))}rr.prototype.get=function(){var t=u.navigator;return(t&&"boolean"==typeof t.onLine&&(n4()||"chrome-extension:"===n5()||void 0!==t.connection)?t.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var ra={};function ru(t){ra[t]||(ra[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var rc={};Object.defineProperty(rc,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(rc,"abcd",{configurable:!0,enumerable:!0,value:2}),oQ=2==rc.abcd}catch(t){oQ=!1}function rl(t,e,n){oQ?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function rh(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&rl(t,n,e[n])}function rf(t){var e={};return rh(e,t),e}function rd(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)rl(e,n,rd(t[n]));return e}function rp(t){var e=t&&(t[rb]?"phone":null);if(e&&t&&t[ry]){rl(this,"uid",t[ry]),rl(this,"displayName",t[rg]||null);var n=null;t[rv]&&(n=new Date(t[rv]).toUTCString()),rl(this,"enrollmentTime",n),rl(this,"factorId",e)}else throw new A("internal-error","Internal assert: invalid MultiFactorInfo object")}function rm(t){try{var e=new rw(t)}catch(t){e=null}return e}rp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var rg="displayName",rv="enrolledAt",ry="mfaEnrollmentId",rb="phoneInfo";function rw(t){rp.call(this,t),rl(this,"phoneNumber",t[rb])}function rE(t){var e={},n=t[r_],r=t[rA],i=t[rk];if(t=rm(t[rx]),!i||i!=rT&&i!=rS&&!n||i==rS&&!r||i==rI&&!t)throw Error("Invalid checkActionCode response!");i==rS?(e[rC]=n||null,e[rP]=n||null,e[rN]=r):(e[rC]=r||null,e[rP]=r||null,e[rN]=n||null),e[rD]=t||null,rl(this,rO,i),rl(this,rR,rd(e))}_(rw,rp),rw.prototype.w=function(){var t=rw.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var rI="REVERT_SECOND_FACTOR_ADDITION",rT="EMAIL_SIGNIN",rS="VERIFY_AND_CHANGE_EMAIL",r_="email",rx="mfaInfo",rA="newEmail",rk="requestType",rN="email",rC="fromEmail",rD="multiFactorInfo",rP="previousEmail",rR="data",rO="operation";function rL(t){var e=nh(t=nf(t),rM)||null,n=nh(t,rj)||null,r=nh(t,rU)||null;if(r=r&&rq[r]||null,!e||!n||!r)throw new A("argument-error",rM+", "+rj+"and "+rU+" are required in a valid action code URL.");rh(this,{apiKey:e,operation:r,code:n,continueUrl:nh(t,rV)||null,languageCode:nh(t,rF)||null,tenantId:nh(t,rB)||null})}var rM="apiKey",rj="oobCode",rV="continueUrl",rF="languageCode",rU="mode",rB="tenantId",rq={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:rI,signIn:rT,verifyAndChangeEmail:rS,verifyEmail:"VERIFY_EMAIL"};function rz(t){try{return new rL(t)}catch(t){return null}}function rK(t){var e=t[r$];if(void 0===e)throw new A("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new A("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[rG];if(n&&"object"==typeof n){e=n[rQ];var r=n[rX];if(n=n[rY],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new A("argument-error",rX+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new A("argument-error",rY+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new A("argument-error",rQ+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new A("missing-android-pkg-name")}}else if(void 0!==n)throw new A("argument-error",rG+" property must be a non null object when specified.");if(this.f=null,(e=t[rZ])&&"object"==typeof e){if("string"==typeof(e=e[rJ])&&e.length)this.f=e;else if(void 0!==e)throw new A("argument-error",rJ+" property must be a non empty string when specified.")}else if(void 0!==e)throw new A("argument-error",rZ+" property must be a non null object when specified.");if(void 0!==(e=t[rW])&&"boolean"!=typeof e)throw new A("argument-error",rW+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[rH])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new A("argument-error",rH+" property must be a non empty string when specified.");this.i=t||null}var rG="android",rH="dynamicLinkDomain",rW="handleCodeInApp",rZ="iOS",r$="url",rX="installApp",rY="minimumVersion",rQ="packageName",rJ="bundleId";function r0(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var r1=null;function r2(t){var e=r4(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function r3(t){try{return new r2(t)}catch(t){return null}}function r4(t){if(!t||3!=(t=t.split(".")).length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{var r,i,o=(r=t,i=[],function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=r1[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}(function(){if(!r1){r1={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===r1[o]&&(r1[o]=i)}}})();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(r,function(t){i.push(t)}),i);for(t=[],n=e=0;e<o.length;){var s=o[e++];if(128>s)t[n++]=String.fromCharCode(s);else if(191<s&&224>s){var a=o[e++];t[n++]=String.fromCharCode((31&s)<<6|63&a)}else if(239<s&&365>s){a=o[e++];var u=o[e++],c=o[e++],l=((7&s)<<18|(63&a)<<12|(63&u)<<6|63&c)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(1023&l))}else a=o[e++],u=o[e++],t[n++]=String.fromCharCode((15&s)<<12|(63&a)<<6|63&u)}return JSON.parse(t.join(""))}catch(t){}return null}r2.prototype.T=function(){return this.f},r2.prototype.l=function(){return this.c},r2.prototype.toString=function(){return this.h};var r5="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),r6=["client_id","response_type","scope","redirect_uri","state"],r8={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:r6},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:r6},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:r6},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:r5},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function r9(t){for(var e in r8)if(r8[e].fa==t)return r8[e];return null}function r7(t){var e={};e["facebook.com"]=io,e["google.com"]=ia,e["github.com"]=is,e["twitter.com"]=iu;var n=t&&t[ie];try{if(n)return e[n]?new e[n](t):new ii(t);if(void 0!==t[it])return new ir(t)}catch(t){}return null}var it="idToken",ie="providerId";function ir(t){var e=t[ie];if(!e&&t[it]){var n=r3(t[it]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");("anonymous"==e||"custom"==e)&&(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),rl(this,"providerId",e),rl(this,"isNewUser",n)}function ii(t){ir.call(this,t),rl(this,"profile",rd((t=n7(t.rawUserInfo||"{}"))||{}))}function io(t){if(ii.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function is(t){if(ii.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");rl(this,"username",this.profile&&this.profile.login||null)}function ia(t){if(ii.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function iu(t){if(ii.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");rl(this,"username",t.screenName||null)}function ic(t){var e=nf(t),n=nh(e,"link"),r=nh(nf(n),"link");return e=nh(e,"deep_link_id"),nh(nf(e),"link")||e||r||n||t}function il(t,e){if(!t&&!e)throw new A("internal-error","Internal assert: no raw session string available");if(t&&e)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ih:id}_(ii,ir),_(io,ii),_(is,ii),_(ia,ii),_(iu,ii);var ih="enroll",id="signin";function ip(){}function im(t,e){return t.then(function(t){if(t[o1]){var n=r3(t[o1]);if(!n||e!=n.i)throw new A("user-mismatch");return t}throw new A("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==N+"user-not-found"?new A("user-mismatch"):t})}function ig(t,e){if(e)this.a=e;else throw new A("internal-error","failed to construct a credential");rl(this,"providerId",t),rl(this,"signInMethod",t)}function iv(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function iy(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ig(t.providerId,t.pendingToken)}catch(t){}return null}function ib(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&rl(this,"idToken",e.idToken),e.accessToken&&rl(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&rl(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else if(e.oauthToken&&e.oauthTokenSecret)rl(this,"accessToken",e.oauthToken),rl(this,"secret",e.oauthTokenSecret);else throw new A("internal-error","failed to construct a credential");rl(this,"providerId",t),rl(this,"signInMethod",n)}function iw(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:nS(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function iE(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ib(t.providerId,e,t.signInMethod)}catch(t){}}return null}function iI(t,e){this.Qc=e||[],rh(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(r9(t)||{}).Ja||null,this.pb=null}function iT(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');iI.call(this,t,[])}function iS(t){iI.call(this,t,r6),this.a=[]}function i_(){iS.call(this,"facebook.com")}function ix(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new i_).credential({accessToken:e})}function iA(){iS.call(this,"github.com")}function ik(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new iA).credential({accessToken:e})}function iN(){iS.call(this,"google.com"),this.Ca("profile")}function iC(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new iN).credential({idToken:n,accessToken:e})}function iD(){iI.call(this,"twitter.com",r5)}function iP(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ib("twitter.com",n,"twitter.com")}function iR(t,e,n){this.a=t,this.f=e,rl(this,"providerId","password"),rl(this,"signInMethod",n===iL.EMAIL_LINK_SIGN_IN_METHOD?iL.EMAIL_LINK_SIGN_IN_METHOD:iL.EMAIL_PASSWORD_SIGN_IN_METHOD)}function iO(t){return t&&t.email&&t.password?new iR(t.email,t.password,t.signInMethod):null}function iL(){rh(this,{providerId:"password",isOAuthProvider:!1})}function iM(t,e){if(!(e=ij(e)))throw new A("argument-error","Invalid email link!");return new iR(t,e.code,iL.EMAIL_LINK_SIGN_IN_METHOD)}function ij(t){return(t=rz(t=ic(t)))&&t.operation===rT?t:null}function iV(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new A("internal-error");this.a=t,rl(this,"providerId","phone"),this.fa="phone",rl(this,"signInMethod","phone")}function iF(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new iV(e)}return null}function iU(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function iB(t){try{this.a=t||Q.auth()}catch(t){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}rh(this,{providerId:"phone",isOAuthProvider:!1})}function iq(t,e){if(!t)throw new A("missing-verification-id");if(!e)throw new A("missing-verification-code");return new iV({fb:t,eb:e})}function iz(t){if(t.temporaryProof&&t.phoneNumber)return new iV({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return iC(o,n);case"facebook.com":return ix(n);case"github.com":return ik(n);case"twitter.com":return iP(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ig(e,s):new ib(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new iS(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function iK(t){if(!t.isOAuthProvider)throw new A("invalid-oauth-provider")}function iG(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,this.g||this.a){if(this.g&&this.a||this.g&&!this.f)throw new A("invalid-auth-event")}else throw new A("invalid-auth-event")}function iH(t){return(t=t||{}).type?new iG(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function iW(){this.b=null,this.a=[]}il.prototype.Ha=function(){return this.a?eh(this.a):eh(this.b)},il.prototype.w=function(){return this.type==ih?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ip.prototype.ka=function(){},ip.prototype.b=function(){},ip.prototype.c=function(){},ip.prototype.w=function(){},ig.prototype.ka=function(t){return sd(t,iv(this))},ig.prototype.b=function(t,e){var n=iv(this);return n.idToken=e,sp(t,n)},ig.prototype.c=function(t,e){return im(sm(t,iv(this)),e)},ig.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ib.prototype.ka=function(t){return sd(t,iw(this))},ib.prototype.b=function(t,e){var n=iw(this);return n.idToken=e,sp(t,n)},ib.prototype.c=function(t,e){return im(sm(t,iw(this)),e)},ib.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},iI.prototype.Ka=function(t){return this.Jb=tp(t),this},_(iT,iI),_(iS,iI),iS.prototype.Ca=function(t){return W(this.a,t)||this.a.push(t),this},iS.prototype.Rb=function(){return Y(this.a)},iS.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new ib(this.providerId,n,this.providerId)},_(i_,iS),rl(i_,"PROVIDER_ID","facebook.com"),rl(i_,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(iA,iS),rl(iA,"PROVIDER_ID","github.com"),rl(iA,"GITHUB_SIGN_IN_METHOD","github.com"),_(iN,iS),rl(iN,"PROVIDER_ID","google.com"),rl(iN,"GOOGLE_SIGN_IN_METHOD","google.com"),_(iD,iI),rl(iD,"PROVIDER_ID","twitter.com"),rl(iD,"TWITTER_SIGN_IN_METHOD","twitter.com"),iR.prototype.ka=function(t){return this.signInMethod==iL.EMAIL_LINK_SIGN_IN_METHOD?sX(t,sT,{email:this.a,oobCode:this.f}):sX(t,sG,{email:this.a,password:this.f})},iR.prototype.b=function(t,e){return this.signInMethod==iL.EMAIL_LINK_SIGN_IN_METHOD?sX(t,sS,{idToken:e,email:this.a,oobCode:this.f}):sX(t,sj,{idToken:e,email:this.a,password:this.f})},iR.prototype.c=function(t,e){return im(this.ka(t),e)},iR.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},rh(iL,{PROVIDER_ID:"password"}),rh(iL,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),rh(iL,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),iV.prototype.ka=function(t){return t.gb(iU(this))},iV.prototype.b=function(t,e){var n=iU(this);return n.idToken=e,sX(t,sW,n)},iV.prototype.c=function(t,e){var n=iU(this);return n.operation="REAUTH",im(t=sX(t,sZ,n),e)},iV.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},iB.prototype.gb=function(t,e){var n=this.a.a;return eh(e.verify()).then(function(r){if("string"!=typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===e.type){var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==ih?i.Ha().then(function(t){return sX(n,sF,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):i&&i.type==id?i.Ha().then(function(e){return sX(n,sU,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}}).then(function(t){return t.phoneResponseInfo.sessionInfo})}):sX(n,sL,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t})}throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},rh(iB,{PROVIDER_ID:"phone"}),rh(iB,{PHONE_SIGN_IN_METHOD:"phone"}),iG.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},iG.prototype.T=function(){return this.h},iG.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var iZ=null;function i$(t){var e="unauthorized-domain",n=void 0,r=nf(t);t=r.a,"chrome-extension"==(r=r.c)?n=tB("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=tB("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",A.call(this,e,n)}function iX(t,e,n){A.call(this,t,n),(t=e||{}).Kb&&rl(this,"email",t.Kb),t.ea&&rl(this,"phoneNumber",t.ea),t.credential&&rl(this,"credential",t.credential),t.$b&&rl(this,"tenantId",t.$b)}function iY(t){if(t.code){var e=t.code||"";0==e.indexOf(N)&&(e=e.substring(N.length));var n={credential:iz(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new A(e,t.message||void 0);return new iX(e,n,t.message)}return null}function iQ(){}function iJ(t){return t.c||(t.c=t.b())}function i0(){}function i1(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function i2(){}function i3(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.qc,this),this.a.onerror=I(this.Tb,this),this.a.onprogress=I(this.rc,this),this.a.ontimeout=I(this.vc,this)}function i4(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function i5(t,e,n){this.reset(t,e,n,void 0,void 0)}_(i$,A),_(iX,A),iX.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&tg(t,e),t},iX.prototype.toJSON=function(){return this.w()},iQ.prototype.c=null,_(i0,iQ),i0.prototype.a=function(){var t=i1(this);return t?new ActiveXObject(t):new XMLHttpRequest},i0.prototype.b=function(){var t={};return i1(this)&&(t[0]=!0,t[1]=!0),t},oJ=new i0,_(i2,iQ),i2.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new i3;throw Error("Unsupported browser")},i2.prototype.b=function(){return{}},(r=i3.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},r.send=function(t){if(t){if("string"==typeof t)this.a.send(t);else throw Error("Only string data is supported")}else this.a.send()},r.abort=function(){this.a.abort()},r.setRequestHeader=function(){},r.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},r.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,i4(this,4)},r.Tb=function(){this.status=500,this.response=this.responseText="",i4(this,4)},r.vc=function(){this.Tb()},r.rc=function(){this.status=200,i4(this,1)},r.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},i5.prototype.a=null;var i6=0;function i8(t){this.f=t,this.b=this.c=this.a=null}function i9(t,e){this.name=t,this.value=e}i5.prototype.reset=function(t,e,n,r,i){"number"==typeof i||i6++,r||S(),delete this.a},i9.prototype.toString=function(){return this.name};var i7=new i9("SEVERE",1e3),ot=new i9("WARNING",900),oe=new i9("CONFIG",700),on=new i9("FINE",500);i8.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(M("Root logger has no level set."),null)}(this).value)for(m(e)&&(e=e()),t=new i5(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var or={},oi=null;function oo(t){if(oi||(oi=new i8(""),or[""]=oi,oi.c=oe),!(e=or[t])){e=new i8(t);var e,n=t.lastIndexOf("."),r=t.substr(n+1);(n=oo(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,or[t]=e}return e}function os(t,e){t&&t.log(on,e,void 0)}function oa(t){this.f=t}function ou(t){e4.call(this),this.u=t,this.h=void 0,this.readyState=oc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=oo("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(oa,iQ),oa.prototype.a=function(){return new ou(this.f)},oa.prototype.b=(oK={},function(){return oK}),_(ou,e4);var oc=0;function ol(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function oh(t){t.readyState=4,t.g=null,t.c=null,t.m=null,of(t)}function of(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function od(t){e4.call(this),this.headers=new nn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=op,this.u=this.S=!1}(r=ou.prototype).open=function(t,e){if(this.readyState!=oc)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,of(this)},r.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},r.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,oh(this)),this.readyState=oc},r.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,of(this)),this.a&&(this.readyState=3,of(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ol(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},r.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?oh(this):of(this),3==this.readyState&&ol(this)}},r.tc=function(t){this.a&&(this.response=this.responseText=t,oh(this))},r.sc=function(t){this.a&&(this.response=t,oh(this))},r.Va=function(t){var e=this.i;e&&e.log(ot,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&oh(this)},r.setRequestHeader=function(t,e){this.l.append(t,e)},r.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ot,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},r.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ot,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),_(od,e4);var op="";od.prototype.b=oo("goog.net.XhrIo");var om=/^https?$/i,og=["POST","PUT"];function ov(t){return"content-type"==t.toLowerCase()}function oy(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ob(t),oE(t)}function ob(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ow(t){if(t.c&&void 0!==a){if(t.C[1]&&4==oT(t)&&2==oS(t))os(t.b,o_(t,"Local request error detected and ignored"));else if(t.i&&4==oT(t))e9(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==oT(t)){os(t.b,o_(t,"Request complete")),t.c=!1;try{var e,n,r=oS(t);t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){if(n=0===r){var o=String(t.l).match(no)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}n=!om.test(o?o.toLowerCase():"")}e=n}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<oT(t)?t.a.statusText:""}catch(e){os(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+oS(t)+"]",ob(t)}}finally{oE(t)}}}}function oE(t,e){if(t.a){oI(t);var n=t.a,r=t.C[0]?f:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(i7,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function oI(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function oT(t){return t.a?t.a.readyState:0}function oS(t){try{return 2<oT(t)?t.a.status:-1}catch(t){return -1}}function o_(t,e){return e+" ["+t.P+" "+t.l+" "+oS(t)+"]"}function ox(t){this.g=[],this.u=oj,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function oA(t,e,n){t.a=!0,t.c=n,t.f=!e,oD(t)}function ok(t){if(t.a){if(!t.v)throw new oP(t);t.v=!1}}function oN(t,e,n,r){t.g.push([e,n,r]),t.a&&oD(t)}function oC(t){return H(t.g,function(t){return m(t[1])})}function oD(t){if(t.h&&t.a&&oC(t)){var e=t.h,n=oL[e];n&&(u.clearTimeout(n.a),delete oL[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(R(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,oC(t)||(n=!0)}}t.c=e,r&&(a=I(t.m,t,!0),r=I(t.m,t,!1),e instanceof ox?(oN(e,a,r),e.C=!0):e.then(a,r)),n&&(oL[(e=new oO(e)).a]=e,t.h=e.a)}function oP(){O.call(this)}function oR(){O.call(this)}function oO(t){this.a=u.setTimeout(I(this.c,this),0),this.b=t}(r=od.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",os(this.b,o_(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(){this.a&&this.c&&(os(this.b,o_(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oE(this))},r.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),oE(this,!0)),od.bb.Da.call(this)},r.Wb=function(){this.ya||(this.N||this.i||this.f?ow(this):this.Jc())},r.Jc=function(){ow(this)},r.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case op:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(i7,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return os(this.b,"Can not get response: "+t.message),null}},ox.prototype.cancel=function(t){if(this.a)this.c instanceof ox&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new oR(this),ok(this),oA(this,!1,t))}},ox.prototype.m=function(t,e){this.i=!1,oA(this,t,e)},ox.prototype.then=function(t,e,n){var r,i,o=new ei(function(t,e){r=t,i=e});return oN(this,r,function(t){t instanceof oR?o.cancel():i(t)}),o.then(t,e,n)},ox.prototype.$goog_Thenable=!0,_(oP,O),oP.prototype.message="Deferred has already fired",oP.prototype.name="AlreadyCalledError",_(oR,O),oR.prototype.message="Deferred was canceled",oR.prototype.name="CanceledError",oO.prototype.c=function(){throw delete oL[this.a],this.b};var oL={};function oM(t){var e,n,r,i={},o=i.document||document,s=tS(t).toString(),a=t9(document,"SCRIPT"),c={Xb:a,Ma:void 0},f=new ox(c),d=null,p=null!=i.timeout?i.timeout:5e3;return 0<p&&(d=window.setTimeout(function(){oV(a,!0);var t=new oB(oU,"Timeout reached for loading script "+s);ok(f),oA(f,!1,t)},p),c.Ma=d),a.onload=a.onreadystatechange=function(){a.readyState&&"loaded"!=a.readyState&&"complete"!=a.readyState||(oV(a,i.xd||!1,d),ok(f),oA(f,!0,null))},a.onerror=function(){oV(a,!0,d);var t=new oB(oF,"Error while loading script "+s);ok(f),oA(f,!1,t)},tg(c=i.attributes||{},{type:"text/javascript",charset:"UTF-8"}),t6(a,c),n=a,r=t,tv(n,"HTMLScriptElement"),n.src=tS(r),(r=n.ownerDocument&&n.ownerDocument.defaultView)&&r!=u?r=h(r.document):(null===l&&(l=h(u.document)),r=l),r&&n.setAttribute("nonce",r),((e=(o||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:o.documentElement).appendChild(a),f}function oj(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&oV(t,!0,this.Ma)}}function oV(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var oF=0,oU=1;function oB(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function oq(t){this.f=t}function oz(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||o2,this.g=tp(t.secureTokenHeaders||o3),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||o4,this.a=tp(t.firebaseHeaders||o5),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==nW(),!(n=u.XMLHttpRequest||n&&Q.INTERNAL.node&&Q.INTERNAL.node.XMLHttpRequest)&&!nH())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,nH()?this.f=new oa(self):nZ()?this.f=new oq(n):this.f=new i2,this.b=null}_(oB,O),_(oq,iQ),oq.prototype.a=function(){return new this.f},oq.prototype.b=function(){return{}};var oK,oG,oH,oW,oZ,o$,oX,oY,oQ,oJ,o0,o1="idToken",o2=new rr(3e4,6e4),o3={"Content-Type":"application/x-www-form-urlencoded"},o4=new rr(3e4,6e4),o5={"Content-Type":"application/json"};function o6(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function o8(t,e){e&&(t.l=o9("https://securetoken.googleapis.com/v1/token",e),t.h=o9("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=o9("https://identitytoolkit.googleapis.com/v2/",e))}function o9(t,e){return t=nf(t),e=nf(e.url),t.f=t.a+t.f,na(t,e.c),t.a=e.a,nu(t,e.g),t.toString()}function o7(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function st(t,e,n,r,i,o,s){var a;(!(a=nY(a=n0())!=nX?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)||!(30>a))&&(!tG||!t3||9<t3)||nH()?t=I(t.u,t):(o0||(o0=new ei(function(t,e){var n,r;n=t,r=e,((window.gapi||{}).client||{}).request?n():(u[sn]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},oN(oM(t_(se,{onload:sn})),null,function(){r(Error("CORS_UNSUPPORTED"))},void 0))})),t=I(t.s,t)),t(e,n,r,i,o,s)}oz.prototype.T=function(){return this.b},oz.prototype.u=function(t,e,n,r,i,o){if(nH()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new od(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout(function(){s.dispatchEvent("timeout")},o)}e5(s,"complete",function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return os(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),e6(s,"ready",function(){a&&clearTimeout(a),ek(this)}),e6(s,"timeout",function(){a&&clearTimeout(a),ek(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():oJ.a(),t.C=t.D?iJ(t.D):iJ(oJ),t.a.onreadystatechange=I(t.Wb,t);try{os(t.b,o_(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){os(t.b,o_(t,"Error opening Xhr: "+e.message)),oy(t,e);return}e=r||"";var o,s=new nn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)z(t,e,void 0);else for(var n=ne(t),r=nt(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){s.set(e,t)}),i=function(t){t:{for(var e=ov,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(s.Y()),r=u.FormData&&e instanceof u.FormData,!W(og,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{oI(t),0<t.g&&(t.u=(o=t.a,tG&&t2(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),os(t.b,o_(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=I(t.Ma,t)):t.s=e9(t.Ma,t.g,t)),os(t.b,o_(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){os(t.b,o_(t,"Send error: "+e.message)),oy(t,e)}}(s,t,n,r,i)};var se=new ty(tE,"https://apis.google.com/js/client.js?onload=%{onload}"),sn="__fcb"+Math.floor(1e6*Math.random()).toString();function sr(t,e,n,r,i,o,s){var a=nf(e+n);nl(a,"key",t.c),s&&nl(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&nl(a,c,i[c]);return new ei(function(e,n){st(t,a.toString(),function(t){t?t.error?n(sQ(t,o||{})):e(t):n(new A("network-request-failed"))},r,u?void 0:nC(n9(i)),t.a,t.v.get())})}function si(t){if("string"!=typeof(t=t.email)||!nq.test(t))throw new A("invalid-email")}function so(t){"email"in t&&si(t)}function ss(t){if(!t[o1]){if(t.mfaPendingCredential)throw new A("multi-factor-auth-required",null,tp(t));throw new A("internal-error")}}function sa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new A("internal-error")}else{if(!t.sessionInfo)throw new A("missing-verification-id");if(!t.code)throw new A("missing-verification-code")}}oz.prototype.s=function(t,e,n,r,i){var o=this;o0.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},oz.prototype.Ab=function(){return sX(this,sV,{})},oz.prototype.Cb=function(t,e){return sX(this,sM,{idToken:t,email:e})},oz.prototype.Db=function(t,e){return sX(this,sj,{idToken:t,password:e})};var su={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function sc(t){if(!t.phoneVerificationInfo)throw new A("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new A("missing-verification-code")}function sl(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new A("internal-error")}function sh(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&nx(t=new nI(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function sf(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=iY(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=iY(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=iY(t)):t.errorMessage&&(e=sY(t.errorMessage)),e)throw e;ss(t)}function sd(t,e){return e.returnIdpCredential=!0,sX(t,sB,e)}function sp(t,e){return e.returnIdpCredential=!0,sX(t,sz,e)}function sm(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,sX(t,sq,e)}function sg(t){if(!t.oobCode)throw new A("invalid-action-code")}(r=oz.prototype).Eb=function(t,e){var n={idToken:t},r=[];return tf(su,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),sX(this,sM,n)},r.wb=function(t,e){return tg(t={requestType:"PASSWORD_RESET",email:t},e),sX(this,sD,t)},r.xb=function(t,e){return tg(t={requestType:"EMAIL_SIGNIN",email:t},e),sX(this,sk,t)},r.vb=function(t,e){return tg(t={requestType:"VERIFY_EMAIL",idToken:t},e),sX(this,sN,t)},r.Fb=function(t,e,n){return tg(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),sX(this,sC,t)},r.gb=function(t){return sX(this,sH,t)},r.ob=function(t,e){return sX(this,sO,{oobCode:t,newPassword:e})},r.Sa=function(t){return sX(this,sy,{oobCode:t})},r.kb=function(t){return sX(this,sv,{oobCode:t})};var sv={endpoint:"setAccountInfo",A:sg,Z:"email",B:!0},sy={endpoint:"resetPassword",A:sg,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new A("internal-error")},B:!0},sb={endpoint:"signupNewUser",A:function(t){if(si(t),!t.password)throw new A("weak-password")},G:ss,V:!0,B:!0},sw={endpoint:"createAuthUri",B:!0},sE={endpoint:"deleteAccount",O:["idToken"]},sI={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new A("internal-error")}},sT={endpoint:"emailLinkSignin",O:["email","oobCode"],A:si,G:ss,V:!0,B:!0},sS={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:si,G:ss,V:!0},s_={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:sc,G:ss,B:!0,Na:!0},sx={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:sc,G:ss,B:!0,Na:!0},sA={endpoint:"getAccountInfo"},sk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new A("internal-error");si(t)},Z:"email",B:!0},sN={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},sC={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},sD={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new A("internal-error");si(t)},Z:"email",B:!0},sP={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},sR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new A("internal-error")}},sO={endpoint:"resetPassword",A:sg,Z:"email",B:!0},sL={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},sM={endpoint:"setAccountInfo",O:["idToken"],A:so,V:!0},sj={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(so(t),!t.password)throw new A("weak-password")},G:ss,V:!0},sV={endpoint:"signupNewUser",G:ss,V:!0,B:!0},sF={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new A("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},sU={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},sB={endpoint:"verifyAssertion",A:sl,Za:sh,G:sf,V:!0,B:!0},sq={endpoint:"verifyAssertion",A:sl,Za:sh,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new A("user-not-found");if(t.errorMessage)throw sY(t.errorMessage);ss(t)},V:!0,B:!0},sz={endpoint:"verifyAssertion",A:function(t){if(sl(t),!t.idToken)throw new A("internal-error")},Za:sh,G:sf,V:!0},sK={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new A("invalid-custom-token")},G:ss,V:!0,B:!0},sG={endpoint:"verifyPassword",A:function(t){if(si(t),!t.password)throw new A("wrong-password")},G:ss,V:!0,B:!0},sH={endpoint:"verifyPhoneNumber",A:sa,G:ss,B:!0},sW={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new A("internal-error");sa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",iY(t);ss(t)}},sZ={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:sa,G:ss,B:!0},s$={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[o1]^!!t.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function sX(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return ef(new A("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return eh(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),i?sr(t,t.i,e.endpoint,o,n,e.Ib,e.mb||!1):sr(t,t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return r=t,e.Za?e.Za(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new A("internal-error");return r[e.Z]})}function sY(t){return sQ({error:{errors:[{message:t}],code:400,message:t}})}function sQ(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",tg(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],e);return!e&&t&&(e=n8(t)),new A("internal-error",e)}function sJ(t){var e;this.b=t,this.a=null,this.sb=(e=this,(s3||(s3=new ei(function(t,e){function n(){rn(),n1("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){rn(),e(Error("Network Error"))},timeout:s1.get()})}if(n1("gapi.iframes.Iframe"))t();else if(n1("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){n1("gapi.load")?n():e(Error("Network Error"))},eh(oM(r=t_(s0,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw s3=null,t}))).then(function(){return new ei(function(t,n){n1("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:n1("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},s2.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})}))}var s0=new ty(tE,"https://apis.google.com/js/api.js?onload=%{onload}"),s1=new rr(3e4,6e4),s2=new rr(5e3,15e3),s3=null;function s4(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?nd((t=nf(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):nd("https",this.l,null,"/__/auth/iframe"),this.a=t,nl(this.a,"apiKey",this.h),nl(this.a,"appName",this.i),this.b=null,this.c=[]}function s5(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function s6(t){try{return Q.app(t).auth().Ga()}catch(t){return[]}}function s8(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function s9(t){var e=nM();return sX(t,sP,{}).then(function(t){return t.authorizedDomains||[]}).then(function(t){t:{var n=nf(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n;if(s=0==o.indexOf("chrome-extension://")?nf(o).a==s&&"chrome-extension"==r:("http"==r||"https"==r)&&(nB.test(o)?s==o:RegExp("^(.+\\."+(o=o.split(".").join("\\."))+"|"+o+")$","i").test(s))){t=!0;break t}}t=!1}if(!t)throw new i$(nM())})}function s7(t){return t.m||(t.m=nz().then(function(){if(!t.u){var e=t.c,n=t.i,r=s6(t.b),i=new s4(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Y(r||[]),t.u=i.toString()}t.v=new sJ(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,n1("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(n=0,e=iH(e.authEvent);n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",eh(n)}return n.status="ERROR",eh(n)})}(t)})),t.m}function at(t){return t.l||(t.C=t.c?nJ(t.c,s6(t.b)):null,t.l=new oz(t.g,P(t.i),t.C),t.f&&o8(t.l,t.f)),t.l}function ae(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new s5(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=tp(u||null),t.f=c,t.zb(l).toString()}function an(t){if(this.a=t||Q.INTERNAL.reactNative&&Q.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ar(t){this.b=t,this.a={},this.f=I(this.c,this)}s4.prototype.toString=function(){return this.f?nl(this.a,"v",this.f):n_(this.a.b,"v"),this.b?nl(this.a,"eid",this.b):n_(this.a.b,"eid"),this.c.length?nl(this.a,"fw",this.c.join(",")):n_(this.a.b,"fw"),this.a.toString()},s5.prototype.zb=function(t){return this.h=t,this},s5.prototype.toString=function(){if(this.v){var t=nf(this.v.url);t=nd(t.c,t.a,t.g,"/emulator/auth/handler")}else t=nd("https",this.u,null,"/__/auth/handler");if(nl(t,"apiKey",this.s),nl(t,"appName",this.c),nl(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Q.app(this.c).auth().la()}catch(t){n=null}for(var r in e.pb=n,nl(t,"providerId",this.a.providerId),e=n9((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=tp(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),td(e)||nl(t,"customParameters",n8(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&nl(t,"scopes",n.join(",")),this.l?nl(t,"redirectUrl",this.l):n_(t.b,"redirectUrl"),this.g?nl(t,"eventId",this.g):n_(t.b,"eventId"),this.i?nl(t,"v",this.i):n_(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!nh(t,s)&&nl(t,s,this.b[s]);return this.h?nl(t,"tid",this.h):n_(t.b,"tid"),this.f?nl(t,"eid",this.f):n_(t.b,"eid"),(s=s6(this.c)).length&&nl(t,"fw",s.join(",")),t.toString()},(r=s8.prototype).Pb=function(t,e,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){var n;(n={type:"webStorageSupport"},s7(o).then(function(){var t;return(t=o.v).sb.then(function(){return new ei(function(e){t.a.send(n.type,n,e,n1("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})).then(function(n){n||(t&&nF(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return new ei(function(e){return function n(){e7(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}).then(function(){if(!s)return e7(n).then(function(){e(r)})})},r.Yb=function(){var t=n0();return!n6(t)&&!re(t)},r.Ub=function(){return!1},r.Nb=function(t,e,n,r,i,o,s,a){if(!t)return ef(new A("popup-blocked"));if(s&&!n6())return this.ma().o(function(e){nF(t),i(e)}),r(),eh();this.a||(this.a=s9(at(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw nF(t),i(e),e});return r(),e}).then(function(){iK(n),s||nj(ae(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},r.Ob=function(t,e,n,r){this.a||(this.a=s9(at(this)));var i=this;return this.a.then(function(){iK(e),nj(ae(i.s,i.g,i.b,t,e,nM(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},r.ma=function(){var t=this;return s7(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new A("network-request-failed")})},r.ac=function(){return!0},r.Ea=function(t){this.h.push(t)},r.Ta=function(t){$(this.h,function(e){return e==t})},(r=an.prototype).get=function(t){return eh(this.a.getItem(t)).then(function(t){return t&&n7(t)})},r.set=function(t,e){return eh(this.a.setItem(t,n8(e)))},r.U=function(t){return eh(this.a.removeItem(t))},r.ca=function(){},r.ia=function(){};var ai=[];function ao(t,e,n){td(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function as(t){this.a=t}function aa(t){this.c=t,this.b=!1,this.a=[]}function au(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return ef(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ei(function(n,r){h?(i=Math.floor(1e20*Math.random()).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return ac(t,c),e}).o(function(e){throw ac(t,c),e})}function ac(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(t.a,function(t){return t==e})}}function al(){if(!ad())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t,e=this;nH()&&self?(this.v=function(){var t=nH()?self:null;if(z(ai,function(n){n.b==t&&(e=n)}),!e){var e=new ar(t);ai.push(e)}return e}(),ao(this.v,"keyChanged",function(t,n){return ay(e).then(function(t){return 0<t.length&&z(e.a,function(e){e(t)}),{keyProcessed:W(t,n.key)}})}),ao(this.v,"ping",function(){return eh(["keyChanged"])})):((t=u.navigator)&&t.serviceWorker?eh().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):eh(null)).then(function(t){(e.h=t)&&(e.g=new aa(new as(t)),au(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&W(t[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function ah(t){return t.i||(t.i=function t(e){return new ei(function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(t){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):new ei(function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(t){n(Error(t.target.error))}}).then(function(){return t(e)}).then(function(t){n(t)}).o(function(t){r(t)})}})}(t)),t.i}function af(t,e){var n=0;return new ei(function r(i,o){ah(t).then(e).then(i).o(function(e){if(!(3<++n))return ah(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function ad(){try{return!!u.indexedDB}catch(t){return!1}}function ap(t){return t.objectStore("firebaseLocalStorage")}function am(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ag(t){return new ei(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function av(t,e){var n;return t.g&&t.h&&((n=u.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?au(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):eh()}function ay(t){return ah(t).then(function(t){var e=ap(am(t,!1));return e.getAll?ag(e.getAll()):new ei(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function ab(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function aw(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=eh().then(function(){if(ad()){var t=rt(),r="__sak"+t;return ak||(ak=new al),(n=ak).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){z(e.a,function(e){e(t)})}),t})}function aE(){this.a={},this.type="inMemory"}function aI(){if(!function(){var t="Node"==nW();if(!(t=aT()||t&&Q.INTERNAL.node&&Q.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==nW())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=aT()||Q.INTERNAL.node.localStorage,this.type="localStorage"}function aT(){try{var t=u.localStorage,e=rt();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function aS(){this.type="nullStorage"}function a_(){if(!function(){var t="Node"==nW();if(!(t=ax()||t&&Q.INTERNAL.node&&Q.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==nW())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=ax()||Q.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ax(){try{var t=u.sessionStorage,e=rt();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function aA(){var t={};t.Browser=aC,t.Node=aD,t.ReactNative=aP,t.Worker=aR,this.a=t[nW()]}ar.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,function(e){i.push(eh().then(function(){return e(t.origin,t.data.data)}))}),ep(i).then(function(r){var i=[];z(r,function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),z(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},as.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},aa.prototype.close=function(){for(;0<this.a.length;)ac(this,this.a[0]);this.b=!0},(r=al.prototype).set=function(t,e){var n=this,r=!1;return af(this,function(e){return ag((e=ap(am(e,!0))).get(t))}).then(function(i){return af(n,function(o){if(o=ap(am(o,!0)),i)return i.value=e,ag(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,ag(o.add(s))})}).then(function(){return n.c[t]=e,av(n,t)}).oa(function(){r&&n.b--})},r.get=function(t){return af(this,function(e){return ag(ap(am(e,!1)).get(t))}).then(function(t){return t&&t.value})},r.U=function(t){var e=this,n=!1;return af(this,function(r){return n=!0,e.b++,ag(ap(am(r,!0)).delete(t))}).then(function(){return delete e.c[t],av(e,t)}).oa(function(){n&&e.b--})},r.ca=function(t){var e;0==this.a.length&&(e=this,ab(e),function t(){e.f=setTimeout(function(){e.l=ay(e).then(function(t){0<t.length&&z(e.a,function(e){e(t)})}).then(function(){t()}).o(function(e){"STOP_EVENT"!=e.message&&t()})},800)}()),this.a.push(t)},r.ia=function(t){$(this.a,function(e){return e==t}),0==this.a.length&&ab(this)},(r=aw.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},r.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},r.U=function(t){return this.b.then(function(e){return e.U(t)})},r.ca=function(t){this.a.push(t)},r.ia=function(t){$(this.a,function(e){return e==t})},(r=aE.prototype).get=function(t){return eh(this.a[t])},r.set=function(t,e){return this.a[t]=e,eh()},r.U=function(t){return delete this.a[t],eh()},r.ca=function(){},r.ia=function(){},(r=aI.prototype).get=function(t){var e=this;return eh().then(function(){return n7(e.a.getItem(t))})},r.set=function(t,e){var n=this;return eh().then(function(){var r=n8(e);null===r?n.U(t):n.a.setItem(t,r)})},r.U=function(t){var e=this;return eh().then(function(){e.a.removeItem(t)})},r.ca=function(t){u.window&&eH(u.window,"storage",t)},r.ia=function(t){u.window&&e$(u.window,"storage",t)},(r=aS.prototype).get=function(){return eh(null)},r.set=function(){return eh()},r.U=function(){return eh()},r.ca=function(){},r.ia=function(){},(r=a_.prototype).get=function(t){var e=this;return eh().then(function(){return n7(e.a.getItem(t))})},r.set=function(t,e){var n=this;return eh().then(function(){var r=n8(e);null===r?n.U(t):n.a.setItem(t,r)})},r.U=function(t){var e=this;return eh().then(function(){e.a.removeItem(t)})},r.ca=function(){},r.ia=function(){};var ak,aN,aC={F:aI,cb:a_},aD={F:aI,cb:a_},aP={F:an,cb:aS},aR={F:aI,cb:aS},aO={rd:"local",NONE:"none",td:"session"};function aL(){var t=!!(!re(n0())&&nG()),e=n6(),n=n2();this.m=t,this.h=e,this.l=n,this.a={},aN||(aN=new aA),t=aN;try{this.g=!nL()&&rs()||!u.indexedDB?new t.a.F:new aw(nH()?new aE:new t.a.F)}catch(t){this.g=new aE,this.h=!0}try{this.i=new t.a.cb}catch(t){this.i=new aE}this.v=new aE,this.f=I(this.Zb,this),this.b={}}function aM(){return t||(t=new aL),t}function aj(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function aV(t,e){return"firebase:"+t.name+(e?":"+e:"")}function aF(t,e,n){return n=aV(e,n),"local"==e.F&&(t.b[n]=null),aj(t,e.F).U(n)}function aU(t){t.c&&(clearInterval(t.c),t.c=null)}function aB(t){this.a=t,this.b=aM()}(r=aL.prototype).get=function(t,e){return aj(this,t.F).get(aV(t,e))},r.set=function(t,e,n){var r=aV(t,n),i=this,o=aj(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},r.addListener=function(t,e,n){var r;t=aV(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),td(this.a)&&(aj(this,"local").ca(this.f),this.h||(nL()||!rs())&&u.indexedDB||!this.l||(r=this,aU(r),r.c=setInterval(function(){for(var t in r.a){var e=u.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new eO({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Zb(e))}},1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},r.removeListener=function(t,e,n){t=aV(t,e),this.a[t]&&($(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),td(this.a)&&(aj(this,"local").ia(this.f),aU(this))},r.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?aj(this,"local").ia(this.f):aU(this),this.m){if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return}var o=this;n=function(){(void 0!==t.a.a||o.b[e]!==u.localStorage.getItem(e))&&(o.b[e]=u.localStorage.getItem(e),o.nb(e))},tG&&t3&&10==t3&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,I(this.nb,this))},r.nb=function(t){this.a[t]&&z(this.a[t],function(t){t()})};var aq={name:"authEvent",F:"local"};function az(){this.a=aM()}function aK(t,n){this.b=aG,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=n,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===e&&(e=u.Int32Array?new Int32Array(aQ):aQ),this.reset()}_(aK,function(){this.b=-1});for(var aG=64,aH=aG-1,aW=[],aZ=0;aZ<aH;aZ++)aW[aZ]=0;var a$=X(128,aW);function aX(t){for(var n=t.f,r=t.l,i=0,o=0;o<n.length;)r[i++]=n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3],o=4*i;for(n=16;64>n;n++){o=0|r[n-15],i=0|r[n-2];var s=(0|r[n-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,a=(0|r[n-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;r[n]=s+a|0}i=0|t.a[0],o=0|t.a[1];var u=0|t.a[2],c=0|t.a[3],l=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(n=0,s=0|t.a[7];64>n;n++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&u^o&u)|0;a=l&h^~l&f,a=(s=s+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=a+(0|e[n])|0)+(0|r[n])|0)|0,s=f,f=h,h=l,l=c+a|0,c=u,u=o,o=i,i=a+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+o|0,t.a[2]=t.a[2]+u|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+s|0}function aY(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(aX(t),i=0);else if(p(e))for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(aX(t),i=0)}else throw Error("message must be string or array");t.c=i,t.g+=n}aK.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Y(this.h)};var aQ=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function aJ(){aK.call(this,8,a0)}_(aJ,aK);var a0=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function a1(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new az,this.g=new aB(this.h),this.f=null,this.b=[],this.a=this.c=null}function a2(t){return new A("invalid-cordova-configuration",t)}function a3(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function a4(t){return t.f||(t.f=t.ma().then(function(){return new ei(function(e){t.Ea(function n(r){return e(r),t.Ta(n),!1}),function(t){function e(e){o=!0,s&&s.cancel(),a5(t).then(function(n){var r=i;if(n&&e&&e.url){var o=null;-1!=(r=ic(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=n7(nh(o=nf(r),"firebaseError")||null))?k(o):null)?new iG(n.c,n.b,null,null,o,null,n.T()):new iG(n.c,n.b,r,n.f,null,null,n.T())),r=o||i}a3(t,r)})}var n,r,i=new iG("unknown",null,null,null,new A("no-auth-event")),o=!1,s=e7(500).then(function(){return a5(t).then(function(){o||a3(t,i)})}),a=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(n1("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},iZ||(iZ=new iW),n=e,(r=iZ).a.push(n),r.b||(r.b=function(t){for(var e=0;e<r.a.length;e++)r.a[e](t)},"function"==typeof(n=n1("universalLinks.subscribe",u))&&n(null,r.b))}(t)})})),t.f}function a5(t){var e,n=null;return(e=t.g).b.get(aq,e.a).then(function(t){return iH(t)}).then(function(e){return n=e,aF((e=t.g).b,aq,e.a)}).then(function(){return n})}function a6(t){this.a=t,this.b=aM()}(r=a1.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(nK(void 0)?nz().then(function(){return new ei(function(t,e){var n=u.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):ef(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof n1("universalLinks.subscribe",u))throw a2("cordova-universal-links-plugin-fix is not installed");if(void 0===n1("BuildInfo.packageName",u))throw a2("cordova-plugin-buildinfo is not installed");if("function"!=typeof n1("cordova.plugins.browsertab.openUrl",u))throw a2("cordova-plugin-browsertab is not installed");if("function"!=typeof n1("cordova.InAppBrowser.open",u))throw a2("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})},r.Pb=function(t,e){return e(new A("operation-not-supported-in-this-environment")),eh()},r.Nb=function(){return ef(new A("operation-not-supported-in-this-environment"))},r.ac=function(){return!1},r.Yb=function(){return!0},r.Ub=function(){return!0},r.Ob=function(t,e,n,r){if(this.c)return ef(new A("redirect-operation-pending"));var i=this,o=u.document,s=null,a=null,c=null,l=null;return this.c=eh().then(function(){return iK(e),a4(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new iG(e,r,null,o,new A("no-auth-event"),null,i),a=n1("BuildInfo.packageName",u);if("string"!=typeof a)throw new A("invalid-cordova-configuration");var c=n1("BuildInfo.displayName",u),l={};if(n0().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=a;else{if(!n0().toLowerCase().match(/android/))return ef(new A("operation-not-supported-in-this-environment"));l.apn=a}c&&(l.appDisplayName=c),o=function(t){var e=new aJ;aY(e,t),t=[];var n=8*e.g;56>e.c?aY(e,a$,56-e.c):aY(e,a$,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(aX(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(o),l.sessionId=o;var h=ae(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(aq,s.w(),e)}).then(function(){var e=n1("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new A("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=n1("cordova.plugins.browsertab.openUrl",u)))throw new A("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=n1("cordova.InAppBrowser.open",u)))throw new A("invalid-cordova-configuration");e=n0(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new ei(function(t,e){a=function(){var e=n1("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),c=function(){s||(s=e7(2e3).then(function(){e(new A("redirect-cancelled-by-user"))}))},l=function(){ri()&&c()},o.addEventListener("resume",c,!1),n0().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return a5(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),a&&i.Ta(a),i.c=null})},r.Ea=function(t){this.b.push(t),a4(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&t(e=new iG("unknown",null,null,null,new A("no-auth-event")))})},r.Ta=function(t){$(this.b,function(e){return e==t})};var a8={name:"pendingRedirect",F:"session"};function a9(t){return aF(t.b,a8,t.a)}function a7(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=I(this.s,this),this.b=new up,this.C=new ub,this.g=new a6(uf(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=ut(this.D,this.v,this.m,oG,this.J)}function ut(t,e,n,r,i){var o=Q.SDK_VERSION||null;return nK()?new a1(t,e,n,o,r,i):new s8(t,e,n,o,r,i)}function ue(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function un(t){t.a.Yb()&&ue(t).o(function(e){var n=new iG("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));uu(e)&&t.s(n)}),t.a.Ub()||um(t.b)}function ur(t,e){var n;W(t.h,e)||t.h.push(e),t.f||(n=t.g).b.get(a8,n.a).then(function(t){return"pending"==t}).then(function(e){e?a9(t.g).then(function(){ue(t).o(function(e){var n=new iG("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));uu(e)&&t.s(n)})}):un(t)}).o(function(){un(t)})}function ui(t,e){$(t.h,function(t){return t==e})}a7.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=ut(this.D,this.v,this.m,null,this.J),this.i={}},a7.prototype.s=function(t){if(!t)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return um(this.b),e};var uo=new rr(2e3,1e4),us=new rr(3e4,6e4);function ua(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function uu(t){return!!t&&"auth/cordova-not-ready"==t.code}function uc(t,e,n,r,i){var o;return(o=t.g).b.set(a8,"pending",o.a).then(function(){return t.a.Ob(e,n,r,i).o(function(e){if(uu(e))throw new A("operation-not-supported-in-this-environment");return a9(t.g).then(function(){throw e})}).then(function(){return t.a.ac()?new ei(function(){}):a9(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function ul(t,e,n,r,i){return t.a.Pb(r,function(t){e.na(n,null,t,i)},uo.get())}a7.prototype.ra=function(){return this.b.ra()};var uh={};function uf(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function ud(t,e,n,r){var i=uf(e,n,r);return uh[i]||(uh[i]=new a7(t,e,n,r)),uh[i]}function up(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function um(t){t.g||(t.g=!0,uy(t,!1,null,null))}function ug(t){t.g&&!t.i&&uy(t,!1,null,null)}function uv(t,e){if(t.b=function(){return eh(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function uy(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ef(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):uv(t,n):uv(t,{user:null}),t.f=[],t.c=[]}function ub(){}function uw(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function uE(t,e){this.a=e,rl(this,"verificationId",t)}function uI(t,e,n,r){return new iB(t).gb(e,n).then(function(t){return new uE(t,r)})}function uT(t){var e=r4(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");rh(this,{token:t,expirationTime:ro(1e3*e.exp),authTime:ro(1e3*e.auth_time),issuedAtTime:ro(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function uS(t,e,n){var r=e&&e[ux];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=tp(e),this.g=n,this.c=new il(null,r),this.b=[];var i=this;z(e[u_]||[],function(t){(t=rm(t))&&i.b.push(t)}),rl(this,"auth",this.a),rl(this,"session",this.c),rl(this,"hints",this.b)}up.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},up.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(uy(this,!0,null,t.a),eh()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){uy(t,a,e,null)}).o(function(e){uy(t,a,null,e)})}(this,t,e):ef(new A("invalid-auth-event")):(uy(this,!1,null,null),eh())}else ef(new A("invalid-auth-event"))},up.prototype.ra=function(){var t=this;return new ei(function(e,n){var r,i;t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),r=t,i=new A("timeout"),r.a&&r.a.cancel(),r.a=e7(us.get()).then(function(){r.b||(r.g=!0,uy(r,!0,null,i))}))})},ub.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),eh()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):ef(new A("invalid-auth-event"))}else ef(new A("invalid-auth-event"))},uE.prototype.confirm=function(t){return t=iq(this.verificationId,t),this.a(t)};var u_="mfaInfo",ux="mfaPendingCredential";function uA(t,e,n,r){A.call(this,"multi-factor-auth-required",r,e),this.b=new uS(t,e,n),rl(this,"resolver",this.b)}function uk(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new uA(e,t.serverResponse,n,t.message)}catch(t){}return null}function uN(){}function uC(t){rl(this,"factorId",t.fa),this.a=t}function uD(t){if(uC.call(this,t),this.a.fa!=iB.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uP(t,e){for(var n in eR.call(this,t),e)this[n]=e[n]}function uR(t,e){this.a=t,this.b=[],this.c=I(this.yc,this),eH(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ry]=t.uid),t.displayName&&(r[rg]=t.displayName),t.enrollmentTime&&(r[rv]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[rb]=t.phoneNumber);try{e=new rw(r)}catch(t){}t=e}else t=null;t&&n.push(t)}),uO(this,n)}function uO(t,e){t.b=e,rl(t,"enrolledFactors",e)}function uL(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function uM(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function uj(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function uV(t,e){t.b=r3(e[o1]||""),t.a=e.refreshToken,uj(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function uF(t,e){this.a=t||null,this.b=e||null,rh(this,{lastSignInTime:ro(e||null),creationTime:ro(t||null)})}function uU(t,e,n,r,i,o){rh(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function uB(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r,i=Q.SDK_VERSION?nJ(Q.SDK_VERSION):null;this.a=new oz(this.l,P(oG),i),(this.u=t.emulatorConfig||null)&&o8(this.a,this.u),this.h=new uM(this.a),uX(this,e[o1]),uV(this.h,e),rl(this,"refreshToken",this.h.a),uJ(this,n||{}),e4.call(this),this.P=!1,this.s&&n3()&&(this.b=ud(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=(r=this,new uL(function(){return r.I(!0)},function(t){return!!t&&"auth/network-request-failed"==t.code},function(){var t=r.h.c-Date.now()-3e5;return 0<t?t:0})),this.ba=I(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){uq(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){uG(o,t.f)},this.ja=null,this.S=new uR(this,n),rl(this,"multiFactor",this.S)}function uq(t,e){t.u=e,o8(t.a,e),t.b&&(e=t.b,t.b=ud(t.s,t.l,t.m,t.u),t.P&&(ui(e,t),ur(t.b,t)))}function uz(t,e){t.qa&&e$(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&eH(e,"languageCodeChanged",t.Pa)}function uK(t,e){t.$&&e$(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&eH(e,"emulatorConfigChanged",t.Ba)}function uG(t,e){t.aa=e,o7(t.a,Q.SDK_VERSION?nJ(Q.SDK_VERSION,t.aa):null)}function uH(t,e){t.ja&&e$(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&eH(e,"frameworkChanged",t.Oa)}function uW(t){try{return Q.app(t.m).auth()}catch(e){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function uZ(t){t.J||t.D.b||(t.D.start(),e$(t,"tokenChanged",t.ba),eH(t,"tokenChanged",t.ba))}function u$(t){e$(t,"tokenChanged",t.ba),t.D.stop()}function uX(t,e){t.Aa=e,rl(t,"_lat",e)}function uY(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return ep(e).then(function(){return t})}function uQ(t){t.b&&!t.P&&(t.P=!0,ur(t.b,t))}function uJ(t,e){rh(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new uF(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function u0(){}function u1(t){return eh().then(function(){if(t.J)throw new A("app-deleted")})}function u2(t){return G(t.providerData,function(t){return t.providerId})}function u3(t,e){e&&(u4(t,e.providerId),t.providerData.push(e))}function u4(t,e){$(t.providerData,function(t){return t.providerId==e})}function u5(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&rl(t,e,n)}function u6(t,e){var n,r,i;t!=e&&(rh(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?rl(t,"metadata",(n=e.metadata,new uF(n.a,n.b))):rl(t,"metadata",new uF),z(e.providerData,function(e){u3(t,e)}),r=t.h,i=e.h,r.b=i.b,r.a=i.a,r.c=i.c,rl(t,"refreshToken",t.h.a),uO(t.S,e.S.b))}function u8(t){return t.I().then(function(e){var n=t.isAnonymous;return sX(t.a,sA,{idToken:e}).then(I(t.Kc,t)).then(function(){return n||u5(t,"isAnonymous",!1),e})})}function u9(t,e){e[o1]&&t.Aa!=e[o1]&&(uV(t.h,e),t.dispatchEvent(new uP("tokenChanged")),uX(t,e[o1]),u5(t,"refreshToken",t.h.a))}function u7(t,e){return u8(t).then(function(){if(W(u2(t),e))return uY(t).then(function(){throw new A("provider-already-linked")})})}function ct(t,e,n){return rf({user:t,credential:iz(e),additionalUserInfo:e=r7(e),operationType:n})}function ce(t,e){return u9(t,e),t.reload().then(function(){return t})}function cn(t,e,n,r,i){if(!n3())return ef(new A("operation-not-supported-in-this-environment"));if(t.i&&!i)return ef(t.i);var o=r9(n.providerId),s=rt(t.uid+":::"),a=null;(!n6()||nG())&&t.s&&n.isOAuthProvider&&(a=ae(t.s,t.l,t.m,e,n,null,s,Q.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=nU(a,o&&o.va,o&&o.ua);return r=r().then(function(){if(ci(t),!i)return t.I().then(function(){})}).then(function(){return ua(t.b,u,e,n,s,!!a,t.tenantId)}).then(function(){return new ei(function(n,r){t.na(e,null,new A("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=ul(t.b,t,e,u,s)})}).then(function(t){return u&&nF(u),t?rf(t):null}).o(function(t){throw u&&nF(u),t}),co(t,r,i)}function cr(t,e,n,r,i){if(!n3())return ef(new A("operation-not-supported-in-this-environment"));if(t.i&&!i)return ef(t.i);var o=null,s=rt(t.uid+":::");return r=r().then(function(){if(ci(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,uY(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(cu,t.w(),e.a)),e}).then(function(){return uc(t.b,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return cc(t.ha);throw o}).then(function(){if(o)throw o}),co(t,r,i)}function ci(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new A("internal-error");throw new A("auth-domain-config-required")}}function co(t,e,n){var r,i=(r=t).i&&!n?(e.cancel(),ef(r.i)):e.o(function(t){throw t&&("auth/user-disabled"==t.code||"auth/user-token-expired"==t.code)&&(r.i||r.dispatchEvent(new uP("userInvalidated")),r.i=t),t});return t.N.push(i),i.oa(function(){Z(t.N,i)}),i.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=uk(e.w(),uW(t),I(t.jc,t))),n||e})}function cs(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[o1]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new uB(e,n,t);return t.providerData&&z(t.providerData,function(t){t&&u3(i,rf(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function ca(t){this.a=t,this.b=aM()}uS.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=tp(e.f);return delete n[u_],delete n[ux],tg(n,t),e.g(n)})},_(uA,A),uN.prototype.tb=function(t,e,n){var r,i;return e.type==ih?(r=this,e.Ha().then(function(e){return e={idToken:e},void 0!==n&&(e.displayName=n),tg(e,{phoneVerificationInfo:iU(r.a)}),sX(t,s_,e)})):(i=this,e.Ha().then(function(e){return tg(e={mfaPendingCredential:e},{phoneVerificationInfo:iU(i.a)}),sX(t,sx,e)}))},_(uC,uN),_(uD,uC),_(uP,eR),(r=uR.prototype).yc=function(t){var e,n;uO(this,(e=t.hd,n=[],z(e.mfaInfo||[],function(t){(t=rm(t))&&n.push(t)}),n))},r.Sb=function(){return this.a.I().then(function(t){return new il(t,null)})},r.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then(function(n){return t.tb(r,n,e)}).then(function(t){return u9(n.a,t),n.a.reload()})},r.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return sX(r,s$,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=K(e.b,function(t){return t.uid!=n});return uO(e,r),u9(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},r.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},uL.prototype.start=function(){this.a=this.c,function t(e,n){var r,i;e.stop(),e.b=e7((r=e,(i=n)?(r.a=r.c,r.g()):(i=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),i))).then(function(){var t,e;return t=u.document,e=null,ri()||!t?eh():new ei(function(n){e=function(){ri()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}).then(function(){return e.h()}).then(function(){t(e,!0)}).o(function(n){e.i(n)&&t(e,!1)})}(this,!0)},uL.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},uM.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},uM.prototype.getToken=function(t){var e,n,r;return t=!!t,this.b&&!this.a?ef(new A("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?(e=this,n={grant_type:"refresh_token",refresh_token:this.a},(r=e.f,new ei(function(t,e){"refresh_token"==n.grant_type&&n.refresh_token||"authorization_code"==n.grant_type&&n.code?st(r,r.l+"?key="+encodeURIComponent(r.c),function(n){n?n.error?e(sQ(n)):n.access_token&&n.refresh_token?t(n):e(new A("internal-error")):e(new A("network-request-failed"))},"POST",nS(n).toString(),r.g,r.m.get()):e(new A("internal-error"))})).then(function(t){return e.b=r3(t.access_token),e.a=t.refresh_token,uj(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})):eh(null):eh({accessToken:this.b.toString(),refreshToken:this.a})},uF.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(uB,e4),uB.prototype.xa=function(t){this.za=t,o6(this.a,t)},uB.prototype.la=function(){return this.za},uB.prototype.Ga=function(){return Y(this.aa)},uB.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},rl(uB.prototype,"providerId","firebase"),(r=uB.prototype).reload=function(){var t=this;return co(this,u1(this).then(function(){return u8(t).then(function(){return uY(t)}).then(u0)}))},r.oc=function(t){return this.I(t).then(function(t){return new uT(t)})},r.I=function(t){var e=this;return co(this,u1(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new A("internal-error");return t.accessToken!=e.Aa&&(uX(e,t.accessToken),e.dispatchEvent(new uP("tokenChanged"))),u5(e,"refreshToken",t.refreshToken),t.accessToken}))},r.Kc=function(t){if(!(t=t.users)||!t.length)throw new A("internal-error");uJ(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?G(e,function(t){return new uU(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[],r=0;r<n.length;r++)u3(this,n[r]);u5(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new uP("userReloaded",{hd:t}))},r.Lc=function(t){return ru("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},r.ub=function(t){var e=this,n=null;return co(this,t.c(this.a,this.uid).then(function(t){return u9(e,t),n=ct(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},r.Cc=function(t){return ru("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},r.rb=function(t){var e=this,n=null;return co(this,u7(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=ct(e,t,"link"),ce(e,t)}).then(function(){return n}))},r.Dc=function(t,e){var n=this;return co(this,u7(this,"phone").then(function(){return uI(uW(n),t,e,I(n.rb,n))}))},r.Mc=function(t,e){var n=this;return co(this,eh().then(function(){return uI(uW(n),t,e,I(n.ub,n))}),!0)},r.Cb=function(t){var e=this;return co(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return u9(e,t),e.reload()}))},r.ed=function(t){var e=this;return co(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return u9(e,t),e.reload()}))},r.Db=function(t){var e=this;return co(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return u9(e,t),e.reload()}))},r.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return u1(this);var e=this;return co(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return u9(e,t),u5(e,"displayName",t.displayName||null),u5(e,"photoURL",t.photoUrl||null),z(e.providerData,function(t){"password"===t.providerId&&(rl(t,"displayName",e.displayName),rl(t,"photoURL",e.photoURL))}),uY(e)}).then(u0))},r.cd=function(t){var e=this;return co(this,u8(this).then(function(n){return W(u2(e),t)?sX(e.a,sI,{idToken:n,deleteProvider:[t]}).then(function(t){var n={};return z(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),z(u2(e),function(t){n[t]||u4(e,t)}),n[iB.PROVIDER_ID]||rl(e,"phoneNumber",null),uY(e)}):uY(e).then(function(){throw new A("no-such-provider")})}))},r.delete=function(){var t=this;return co(this,this.I().then(function(e){return sX(t.a,sE,{idToken:e})}).then(function(){t.dispatchEvent(new uP("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");uz(t,null),uK(t,null),uH(t,null),t.N=[],t.J=!0,u$(t),rl(t,"refreshToken",null),t.b&&ui(t.b,t)})},r.Gb=function(t,e){return"linkViaPopup"==t&&(this.g||null)==e&&!!this.f||"reauthViaPopup"==t&&(this.g||null)==e&&!!this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e},r.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},r.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?I(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?I(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?I(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?I(this.Mb,this):null},r.Ec=function(t){var e=this;return cn(this,"linkViaPopup",t,function(){return u7(e,t.providerId).then(function(){return uY(e)})},!1)},r.Nc=function(t){return cn(this,"reauthViaPopup",t,function(){return eh()},!0)},r.Fc=function(t){var e=this;return cr(this,"linkViaRedirect",t,function(){return u7(e,t.providerId)},!1)},r.Oc=function(t){return cr(this,"reauthViaRedirect",t,function(){return eh()},!0)},r.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return co(this,this.I().then(function(n){return sp(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=ct(i,t,"link"),ce(i,t)}).then(function(){return o}))},r.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return co(this,eh().then(function(){return im(sm(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=ct(i,t,"reauthenticate"),u9(i,t),i.i=null,i.reload()}).then(function(){return o}),!0)},r.vb=function(t){var e=this,n=null;return co(this,this.I().then(function(e){return n=e,void 0===t||td(t)?{}:r0(new rK(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},r.Fb=function(t,e){var n=this,r=null;return co(this,this.I().then(function(t){return r=t,void 0===e||td(e)?{}:r0(new rK(e))}).then(function(e){return n.a.Fb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},r.jc=function(t){var e=null,n=this;return co(this,t=im(eh(t),n.uid).then(function(t){return e=ct(n,t,"reauthenticate"),u9(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},r.toJSON=function(){return this.w()},r.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&tg(t,this.metadata.w()),z(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),tg(t,this.S.w()),t};var cu={name:"redirectUser",F:"session"};function cc(t){return aF(t.b,cu,t.a)}function cl(t){var e,n,r,i,o,s,a,c;this.a=t,this.b=aM(),this.c=null,this.f=(e=this,s=cd("local"),a=cd("session"),c=cd("none"),(n=e.b,i=aV(s,r=e.a),o=aj(n,s.F),n.get(s,r).then(function(t){var e=null;try{e=n7(u.localStorage.getItem(i))}catch(t){}if(e&&!t)return u.localStorage.removeItem(i),n.set(s,e,r);e&&t&&"localStorage"!=o.type&&u.localStorage.removeItem(i)})).then(function(){return e.b.get(a,e.a)}).then(function(t){return t?a:e.b.get(c,e.a).then(function(t){return t?c:e.b.get(s,e.a).then(function(t){return t?s:e.b.get(cf,e.a).then(function(t){return t?cd(t):s})})})}).then(function(t){return e.c=t,ch(e,t.F)}).o(function(){e.c||(e.c=s)})),this.b.addListener(cd("local"),this.a,I(this.g,this))}function ch(t,e){var n,r=[];for(n in aO)aO[n]!==e&&r.push(aF(t.b,cd(aO[n]),t.a));return r.push(aF(t.b,cf,t.a)),new ei(function(t,e){var n=r.length,i=[];if(n)for(var o=function(e,r){n--,i[e]=r,0==n&&t(i)},s=function(t){e(t)},a=0;a<r.length;a++)ed(r[a],T(o,a),s);else t(i)})}cl.prototype.g=function(){var t=this,e=cd("local");cv(this,function(){return eh().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return ch(t,"local").then(function(){t.c=e})})})};var cf={name:"persistence",F:"session"};function cd(t){return{name:"authUser",F:t}}function cp(t,e){return cv(t,function(){return t.b.set(t.c,e.w(),t.a)})}function cm(t){return cv(t,function(){return aF(t.b,t.c,t.a)})}function cg(t,e,n){return cv(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),cs(t||{})})})}function cv(t,e){return t.f=t.f.then(e,e),t.f}function cy(t){var e,n,r,i,o,s,a,u,c,l,h,f;if(this.l=!1,rl(this,"settings",new uw),rl(this,"app",t),cx(this).options&&cx(this).options.apiKey)t=Q.SDK_VERSION?nJ(Q.SDK_VERSION):null,this.a=new oz(cx(this).options&&cx(this).options.apiKey,P(oG),t);else throw new A("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Q.INTERNAL.createSubscribe(I(this.zc,this)),this.W=void 0,this.ib=Q.INTERNAL.createSubscribe(I(this.Ac,this)),cS(this,null),this.i=new cl(cx(this).options.apiKey+":"+cx(this).name),this.D=new ca(cx(this).options.apiKey+":"+cx(this).name),this.$=cC(this,(e=this,s=cx(e).options.authDomain,a=(o=(r=(n=e).D,i=cx(n).options.authDomain,r.b.get(cu,r.a).then(function(t){return t&&i&&(t.authDomain=i),cs(t||{})})).then(function(t){return(n.m=t)&&(t.ha=n.D),cc(n.D)}),cC(n,o)).then(function(){return cg(e.i,s,e.R)}).then(function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then(function(){return cp(e.i,t).then(function(){return t})}).o(function(n){return"auth/network-request-failed"==n.code?t:cm(e.i)})):null}).then(function(t){cS(e,t||null)}),cC(e,a))),this.h=cC(this,(u=this,u.$.then(function(){return cT(u)}).o(function(){}).then(function(){if(!u.l)return u.ja()}).o(function(){}).then(function(){if(!u.l){u.ba=!0;var t=u.i;t.b.addListener(cd("local"),t.a,u.ja)}}))),this.ba=!1,this.ja=I(this.Zc,this),this.Ba=I(this.da,this),this.qa=I(this.mc,this),this.za=I(this.wc,this),this.Aa=I(this.xc,this),this.b=null,c=this,l=cx(c).options.authDomain,h=cx(c).options.apiKey,l&&n3()&&(c.Oa=c.$.then(function(){if(!c.l){if(c.b=ud(l,h,cx(c).name,c.R),ur(c.b,c),cA(c)&&uQ(cA(c)),c.m){uQ(c.m);var t=c.m;t.xa(c.la()),uz(t,c),uG(t=c.m,c.J),uH(t,c),uq(t=c.m,c.R),uK(t,c),c.m=null}return c.b}})),this.INTERNAL={},this.INTERNAL.delete=I(this.delete,this),this.INTERNAL.logFramework=I(this.Gc,this),this.u=0,e4.call(this),f=this,Object.defineProperty(f,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),f.aa=null,Object.defineProperty(f,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),f.S=null,Object.defineProperty(f,"emulatorConfig",{get:function(){if(this.R){var t=nf(this.R.url);t=rf({protocol:t.c,host:t.a,port:t.g,options:rf({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1}),this.J=[],this.R=null}function cb(t){eR.call(this,"languageCodeChanged"),this.h=t}function cw(t){eR.call(this,"emulatorConfigChanged"),this.c=t}function cE(t){eR.call(this,"frameworkChanged"),this.f=t}function cI(t){return t.Oa||ef(new A("auth-domain-config-required"))}function cT(t){if(!n3())return ef(new A("operation-not-supported-in-this-environment"));var e=cI(t).then(function(){return t.b.ra()}).then(function(t){return t?rf(t):null});return cC(t,e)}function cS(t,e){var n,r;cA(t)&&(n=cA(t),r=t.Ba,$(n.W,function(t){return t==r}),e$(cA(t),"tokenChanged",t.qa),e$(cA(t),"userDeleted",t.za),e$(cA(t),"userInvalidated",t.Aa),u$(cA(t))),e&&(e.W.push(t.Ba),eH(e,"tokenChanged",t.qa),eH(e,"userDeleted",t.za),eH(e,"userInvalidated",t.Aa),0<t.u&&uZ(e)),rl(t,"currentUser",e),e&&(e.xa(t.la()),uz(e,t),uG(e,t.J),uH(e,t),uq(e,t.R),uK(e,t))}function c_(t,e){var n=null,r=null;return cC(t,e.then(function(e){var i;return n=iz(e),r=r7(e),(i={}).apiKey=cx(t).options.apiKey,i.authDomain=cx(t).options.authDomain,i.appName=cx(t).name,t.R&&(i.emulatorConfig=t.R),t.$.then(function(){var n,r,o;return n=t.D,r=t.Ga(),o=new uB(i,e),n&&(o.ha=n),r&&uG(o,r),o.reload().then(function(){return o})}).then(function(e){return cA(t)&&e.uid==cA(t).uid?(u6(cA(t),e),t.da(e)):(cS(t,e),uQ(e),t.da(e))}).then(function(){cN(t)})},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=uk(e.w(),t,I(t.kc,t))),n||e}).then(function(){return rf({user:cA(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function cx(t){return t.app}function cA(t){return t.currentUser}function ck(t){return cA(t)&&cA(t)._lat||null}function cN(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](ck(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](ck(t))}}function cC(t,e){return t.P.push(e),e.oa(function(){Z(t.P,e)}),e}function cD(){}function cP(){this.a={},this.b=1e12}cl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");t:{for(r in aO)if(aO[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(nW()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ad()&&"none"!==t)throw n;break;default:if(!n2()&&"none"!==t)throw n}}(t),cv(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,ch(n,t)}).then(function(){if(n.c=cd(t),e)return n.b.set(n.c,e,n.a)}):eh()})},_(cy,e4),_(cb,eR),_(cw,eR),_(cE,eR),(r=cy.prototype).yb=function(t){return cC(this,t=this.i.yb(t))},r.xa=function(t){this.aa===t||this.l||(this.aa=t,o6(this.a,this.aa),this.dispatchEvent(new cb(this.la())))},r.la=function(){return this.aa},r.fd=function(){var t=u.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},r.gd=function(t,e){if(!this.R){var n;if(!/^https?:\/\//.test(t))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");n=e=!!e&&!!e.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!n&&nz().then(function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}),this.R={url:t,ec:e},this.settings.jb=!0,o8(this.a,this.R),this.dispatchEvent(new cw(this.R))}},r.Gc=function(t){this.J.push(t),o7(this.a,Q.SDK_VERSION?nJ(Q.SDK_VERSION,this.J):null),this.dispatchEvent(new cE(this.J))},r.Ga=function(){return Y(this.J)},r.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},r.T=function(){return this.S},r.toJSON=function(){return{apiKey:cx(this).options.apiKey,authDomain:cx(this).options.authDomain,appName:cx(this).name,currentUser:cA(this)&&cA(this).w()}},r.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},r.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},r.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?I(this.ic,this):null},r.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return c_(i,sd(i.a,o))})},r.Xc=function(t){if(!n3())return ef(new A("operation-not-supported-in-this-environment"));var e=this,n=r9(t.providerId),r=rt(),i=null;(!n6()||nG())&&cx(this).options.authDomain&&t.isOAuthProvider&&(i=ae(cx(this).options.authDomain,cx(this).options.apiKey,cx(this).name,"signInViaPopup",t,null,r,Q.SDK_VERSION||null,null,null,this.T(),this.R));var o=nU(i,n&&n.va,n&&n.ua);return cC(this,n=cI(this).then(function(n){return ua(n,o,"signInViaPopup",t,r,!!i,e.T())}).then(function(){return new ei(function(t,n){e.na("signInViaPopup",null,new A("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=ul(e.b,e,"signInViaPopup",o,r)})}).then(function(t){return o&&nF(o),t?rf(t):null}).o(function(t){throw o&&nF(o),t}))},r.Yc=function(t){if(!n3())return ef(new A("operation-not-supported-in-this-environment"));var e=this;return cC(this,cI(this).then(function(){var t;return cv(t=e.i,function(){return t.b.set(cf,t.c.F,t.a)})}).then(function(){return uc(e.b,"signInViaRedirect",t,void 0,e.T())}))},r.ra=function(){var t=this;return cT(this).then(function(e){return t.b&&ug(t.b.b),e}).o(function(e){throw t.b&&ug(t.b.b),e})},r.dd=function(t){if(!t)return ef(new A("null-user"));if(this.S!=t.tenantId)return ef(new A("tenant-id-mismatch"));var e,n,r,i,o,s=this,a={};a.apiKey=cx(this).options.apiKey,a.authDomain=cx(this).options.authDomain,a.appName=cx(this).name;var u=(e=a,n=s.D,r=s.Ga(),i=t.h,(o={})[o1]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new uB(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&uG(e,r),u6(e,t),e);return cC(this,this.h.then(function(){if(cx(s).options.apiKey!=t.l)return u.reload()}).then(function(){return cA(s)&&t.uid==cA(s).uid?(u6(cA(s),t),s.da(t)):(cS(s,u),uQ(u),s.da(u))}).then(function(){cN(s)}))},r.Bb=function(){var t=this;return cC(this,this.h.then(function(){return(t.b&&ug(t.b.b),cA(t))?(cS(t,null),cm(t.i).then(function(){cN(t)})):eh()}))},r.Zc=function(){var t=this;return cg(this.i,cx(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=cA(t)&&e){n=cA(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return u6(cA(t),e),cA(t).I();(cA(t)||e)&&(cS(t,e),e&&(uQ(e),e.ha=t.D),t.b&&ur(t.b,t),cN(t))}})},r.da=function(t){return cp(this.i,t)},r.mc=function(){cN(this),this.da(cA(this))},r.wc=function(){this.Bb()},r.xc=function(){this.Bb()},r.kc=function(t){var e=this;return this.h.then(function(){return c_(e,eh(t))})},r.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(cA(e))})},r.Ac=function(t){var e,n,r=this;e=this,n=function(){t.next(cA(r))},e.N.push(n),cC(e,e.h.then(function(){!e.l&&W(e.N,n)&&e.W!==e.getUid()&&(e.W=e.getUid(),n(ck(e)))}))},r.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(cA(r)):"function"==typeof t.next&&t.next(cA(r))}),this.Pa(t,e,n)},r.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(cA(r)):"function"==typeof t.next&&t.next(cA(r))}),this.ib(t,e,n)},r.nc=function(t){var e=this;return cC(this,this.h.then(function(){return cA(e)?cA(e).I(t).then(function(t){return{accessToken:t}}):null}))},r.Tc=function(t){var e=this;return this.h.then(function(){return c_(e,sX(e.a,sK,{token:t}))}).then(function(t){var n=t.user;return u5(n,"isAnonymous",!1),e.da(n),t})},r.Uc=function(t,e){var n=this;return this.h.then(function(){return c_(n,sX(n.a,sG,{email:t,password:e}))})},r.dc=function(t,e){var n=this;return this.h.then(function(){return c_(n,sX(n.a,sb,{email:t,password:e}))})},r.ab=function(t){var e=this;return this.h.then(function(){return c_(e,t.ka(e.a))})},r.Sc=function(t){return ru("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},r.Ab=function(){var t=this;return this.h.then(function(){var e=cA(t);if(e&&e.isAnonymous){var n=rf({providerId:null,isNewUser:!1});return rf({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return c_(t,t.a.Ab()).then(function(e){var n=e.user;return u5(n,"isAnonymous",!0),t.da(n),e})})},r.getUid=function(){return cA(this)&&cA(this).uid||null},r.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&cA(this)&&uZ(cA(this))},r.Pc=function(t){var e=this;z(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&cA(this)&&u$(cA(this)),this.removeAuthTokenListener(t)},r.addAuthTokenListener=function(t){var e=this;this.s.push(t),cC(this,this.h.then(function(){e.l||W(e.s,t)&&t(ck(e))}))},r.removeAuthTokenListener=function(t){$(this.s,function(e){return e==t})},r.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(cd("local"),t.a,this.ja),this.b&&(ui(this.b,this),ug(this.b.b)),Promise.resolve()},r.hc=function(t){return cC(this,sX(this.a,sw,{identifier:t,continueUri:n4()?nM():"http://localhost"}).then(function(t){return t.signinMethods||[]}))},r.Bc=function(t){return!!ij(t)},r.xb=function(t,e){var n=this;return cC(this,eh().then(function(){var t=new rK(e);if(!t.c)throw new A("argument-error",rW+" must be true when sending sign in link to email");return r0(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},r.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},r.ob=function(t,e){return cC(this,this.a.ob(t,e).then(function(){}))},r.Sa=function(t){return cC(this,this.a.Sa(t).then(function(t){return new rE(t)}))},r.kb=function(t){return cC(this,this.a.kb(t).then(function(){}))},r.wb=function(t,e){var n=this;return cC(this,eh().then(function(){return void 0===e||td(e)?{}:r0(new rK(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},r.Wc=function(t,e){return cC(this,uI(this,t,e,I(this.ab,this)))},r.Vc=function(t,e){var n=this;return cC(this,eh().then(function(){var r=e||nM(),i=iM(t,r);if(!(r=ij(r)))throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new A("tenant-id-mismatch");return n.ab(i)}))},cD.prototype.render=function(){},cD.prototype.reset=function(){},cD.prototype.getResponse=function(){},cD.prototype.execute=function(){};var cR=null;function cO(t,e){return(e=cL(e))&&t.a[e]||null}function cL(t){return(t=void 0===t?1e12:t)?t.toString():null}function cM(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=t5(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():eH(this.f,"click",this.i)}function cj(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function cV(){}function cF(){}cP.prototype.render=function(t,e){return this.a[this.b.toString()]=new cM(t,e),this.b++},cP.prototype.reset=function(t){var e=cO(this,t);t=cL(t),e&&t&&(e.delete(),delete this.a[t])},cP.prototype.getResponse=function(t){return(t=cO(this,t))?t.getResponse():null},cP.prototype.execute=function(t){(t=cO(this,t))&&t.execute()},cM.prototype.getResponse=function(){return cj(this),this.b},cM.prototype.execute=function(){cj(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},cM.prototype.delete=function(){cj(this),this.g=!0,clearTimeout(this.a),this.a=null,e$(this.f,"click",this.i)},rl(cV,"FACTOR_ID","phone"),cF.prototype.g=function(){return cR||(cR=new cP),eh(cR)},cF.prototype.c=function(){};var cU=null;function cB(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var cq=new ty(tE,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),cz=new rr(3e4,6e4);cB.prototype.g=function(t){var e=this;return new ei(function(n,r){var i=setTimeout(function(){r(new A("network-request-failed"))},cz.get());u.grecaptcha&&(t===e.f||e.b)?(clearTimeout(i),n(u.grecaptcha)):(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete u[e.a]},eh(oM(t_(cq,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))})},cB.prototype.c=function(){this.b--};var cK=null;function cG(t,e,n,r,i,o,s){if(rl(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(cU||(cU=new cF),s=cU):(cK||(cK=new cB),s=cK),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[cZ])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[c$],!u.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!t5(e)||!this.i&&t5(e).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new oz(t,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var c=this.a[cH];this.a[cH]=function(t){if(cX(a,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=n1(c,u);"function"==typeof e&&e(t)}};var l=this.a[cW];this.a[cW]=function(){if(cX(a,null),"function"==typeof l)l();else if("string"==typeof l){var t=n1(l,u);"function"==typeof t&&t()}}}var cH="callback",cW="expired-callback",cZ="sitekey",c$="size";function cX(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function cY(t,e){return t.h.push(e),e.oa(function(){Z(t.h,e)}),e}function cQ(t){if(t.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function cJ(t,e,n){var r=!1;try{this.b=n||Q.app()}catch(t){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)n=this.b.options.apiKey;else throw new A("invalid-api-key");var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Q.SDK_VERSION?nJ(Q.SDK_VERSION,o):null,cG.call(this,n,t,e,function(){try{var t=i.b.auth().la()}catch(e){t=null}return t},o,P(oG),r)}function c0(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=c1.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=c1[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new A("argument-error",t+" failed: "+r)}(r=cG.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=cY(this,eh().then(function(){if(n4()&&!nH())return nz();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,sX(t.s,sR,{})}).then(function(e){t.a[cZ]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},r.render=function(){cQ(this);var t=this;return cY(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=t5(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!t4&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',tq(s.name),'"'),s.type){o.push(' type="',tq(s.type),'"');var a={};tg(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=t9(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):t6(o,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(m(o)){s="function"==typeof o.item;break t}}s=!1}z(s?Y(o):o,r)}}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},r.verify=function(){cQ(this);var t=this;return cY(this,this.render().then(function(e){return new ei(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&($(t.l,function(t){return t==i}),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},r.reset=function(){cQ(this),null!==this.c&&this.g.reset(this.c)},r.clear=function(){cQ(this),this.J=!0,this.m.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(e=t5(this.v);t=e.firstChild;)e.removeChild(t)},_(cJ,cG);var c1="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function c2(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function c3(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function c4(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function c5(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function c6(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function c8(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function c9(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}}function c7(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function lt(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function le(t){return g(t)&&"string"==typeof t.uid}function ln(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}}function lr(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function li(t,e){for(var n in e){var r=e[n].name;t[r]=la(r,t[n],e[n].j)}}function lo(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:T(function(t){return this[t]},n),set:T(function(t,e,n,r){c0(t,[n],[r],!0),this[e]=r},r,n,e[n].lb),enumerable:!0})}}function ls(t,e,n,r){t[e]=la(e,n,r)}function la(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return c0(s,n,t),e.apply(this,t)}if(!n)return e;var i,o,s=(i=(i=t).split("."))[i.length-1];for(o in e)r[o]=e[o];for(o in e.prototype)r.prototype[o]=e.prototype[o];return r}li(cy.prototype,{kb:{name:"applyActionCode",j:[c2("code")]},Sa:{name:"checkActionCode",j:[c2("code")]},ob:{name:"confirmPasswordReset",j:[c2("code"),c2("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[c2("email"),c2("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[c2("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[c2("emailLink")]},Hc:{name:"onAuthStateChanged",j:[lr(c4(),c5(),"nextOrObserver"),c5("opt_error",!0),c5("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[lr(c4(),c5(),"nextOrObserver"),c5("opt_error",!0),c5("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[c2("email"),lr(c4("opt_actionCodeSettings",!0),c6(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[c2("email"),c4("actionCodeSettings")]},yb:{name:"setPersistence",j:[c2("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[c8()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[c8()]},Tc:{name:"signInWithCustomToken",j:[c2("token")]},Uc:{name:"signInWithEmailAndPassword",j:[c2("email"),c2("password")]},Vc:{name:"signInWithEmailLink",j:[c2("email"),c2("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[c2("phoneNumber"),ln()]},Xc:{name:"signInWithPopup",j:[c7()]},Yc:{name:"signInWithRedirect",j:[c7()]},dd:{name:"updateCurrentUser",j:[lr({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof uB)}},c6(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[c2(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[c2("url"),c4("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[c2("code")]}}),lo(cy.prototype,{lc:{name:"languageCode",lb:lr(c2(),c6(),"languageCode")},ti:{name:"tenantId",lb:lr(c2(),c6(),"tenantId")}}),cy.Persistence=aO,cy.Persistence.LOCAL="local",cy.Persistence.SESSION="session",cy.Persistence.NONE="none",li(uB.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[c3("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[c3("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[c8()]},rb:{name:"linkWithCredential",j:[c8()]},Dc:{name:"linkWithPhoneNumber",j:[c2("phoneNumber"),ln()]},Ec:{name:"linkWithPopup",j:[c7()]},Fc:{name:"linkWithRedirect",j:[c7()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[c8()]},ub:{name:"reauthenticateWithCredential",j:[c8()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[c2("phoneNumber"),ln()]},Nc:{name:"reauthenticateWithPopup",j:[c7()]},Oc:{name:"reauthenticateWithRedirect",j:[c7()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[lr(c4("opt_actionCodeSettings",!0),c6(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[c2(null,!0)]},cd:{name:"unlink",j:[c2("provider")]},Cb:{name:"updateEmail",j:[c2("email")]},Db:{name:"updatePassword",j:[c2("password")]},ed:{name:"updatePhoneNumber",j:[c8("phone")]},Eb:{name:"updateProfile",j:[c4("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[c2("email"),lr(c4("opt_actionCodeSettings",!0),c6(null,!0),"opt_actionCodeSettings",!0)]}}),li(cP.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),li(cD.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),li(ei.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),lo(uw.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:c3("appVerificationDisabledForTesting")}}),li(uE.prototype,{confirm:{name:"confirm",j:[c2("verificationCode")]}}),ls(ip,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[iE,iO,iF,iy],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[lr(c2(),c4(),"json")]),ls(iL,"credential",function(t,e){return new iR(t,e)},[c2("email"),c2("password")]),li(iR.prototype,{w:{name:"toJSON",j:[c2(null,!0)]}}),li(i_.prototype,{Ca:{name:"addScope",j:[c2("scope")]},Ka:{name:"setCustomParameters",j:[c4("customOAuthParameters")]}}),ls(i_,"credential",ix,[lr(c2(),c4(),"token")]),ls(iL,"credentialWithLink",iM,[c2("email"),c2("emailLink")]),li(iA.prototype,{Ca:{name:"addScope",j:[c2("scope")]},Ka:{name:"setCustomParameters",j:[c4("customOAuthParameters")]}}),ls(iA,"credential",ik,[lr(c2(),c4(),"token")]),li(iN.prototype,{Ca:{name:"addScope",j:[c2("scope")]},Ka:{name:"setCustomParameters",j:[c4("customOAuthParameters")]}}),ls(iN,"credential",iC,[lr(c2(),lr(c4(),c6()),"idToken"),lr(c2(),c6(),"accessToken",!0)]),li(iD.prototype,{Ka:{name:"setCustomParameters",j:[c4("customOAuthParameters")]}}),ls(iD,"credential",iP,[lr(c2(),c4(),"token"),c2("secret",!0)]),li(iS.prototype,{Ca:{name:"addScope",j:[c2("scope")]},credential:{name:"credential",j:[lr(c2(),lr(c4(),c6()),"optionsOrIdToken"),lr(c2(),c6(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[c4("customOAuthParameters")]}}),li(ib.prototype,{w:{name:"toJSON",j:[c2(null,!0)]}}),li(ig.prototype,{w:{name:"toJSON",j:[c2(null,!0)]}}),ls(iB,"credential",iq,[c2("verificationId"),c2("verificationCode")]),li(iB.prototype,{gb:{name:"verifyPhoneNumber",j:[lr(c2(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?lt(t.session,ih)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?lt(t.session,id)&&le(t.multiFactorHint):t.session&&t.multiFactorUid?lt(t.session,id)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),ln()]}}),li(iV.prototype,{w:{name:"toJSON",j:[c2(null,!0)]}}),li(A.prototype,{toJSON:{name:"toJSON",j:[c2(null,!0)]}}),li(iX.prototype,{toJSON:{name:"toJSON",j:[c2(null,!0)]}}),li(i$.prototype,{toJSON:{name:"toJSON",j:[c2(null,!0)]}}),li(uA.prototype,{toJSON:{name:"toJSON",j:[c2(null,!0)]}}),li(uS.prototype,{Rc:{name:"resolveSignIn",j:[c9()]}}),li(uR.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[c9(),c2("displayName",!0)]},bd:{name:"unenroll",j:[lr({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:le},c2(),"multiFactorInfoIdentifier")]}}),li(cJ.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ls(rL,"parseLink",rz,[c2("link")]),ls(cV,"assertion",function(t){return new uD(t)},[c8("phone")]),function(){if(void 0!==Q&&Q.INTERNAL&&Q.INTERNAL.registerComponent){var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rT,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:rI,VERIFY_AND_CHANGE_EMAIL:rS,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cy,AuthCredential:ip,Error:A};ls(t,"EmailAuthProvider",iL,[]),ls(t,"FacebookAuthProvider",i_,[]),ls(t,"GithubAuthProvider",iA,[]),ls(t,"GoogleAuthProvider",iN,[]),ls(t,"TwitterAuthProvider",iD,[]),ls(t,"OAuthProvider",iS,[c2("providerId")]),ls(t,"SAMLAuthProvider",iT,[c2("providerId")]),ls(t,"PhoneAuthProvider",iB,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof cy)}}]),ls(t,"RecaptchaVerifier",cJ,[lr(c2(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),c4("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Q.app.App)}}]),ls(t,"ActionCodeURL",rL,[]),ls(t,"PhoneMultiFactorGenerator",cV,[]),Q.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return t=t.getProvider("app").getImmediate(),new cy(t)},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),Q.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:I((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:I(t.nc,t),addAuthTokenListener:I(t.cc,t),removeAuthTokenListener:I(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Q.registerVersion("@firebase/auth","0.16.8"),Q.INTERNAL.extendNamespace({User:uB})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),Q.apps.length||Q.initializeApp({apiKey:"AIzaSyCVqtEbcvYU8v_yRxbSgUHCV1b1o9XLXyE",authDomain:"ninja-f2649.firebaseapp.com",projectId:"ninja-f2649",storageBucket:"ninja-f2649.appspot.com",messagingSenderId:"343013900334",appId:"1:343013900334:web:92f1c414e69db789859fbf"});let hI=Q.firestore();Q.auth();let hT=Q.firestore.Timestamp,hS={document:null,isPending:!1,error:null,success:null},h_=(t,e)=>{switch(e.type){case"IS_PENDING":return{isPending:!0,document:null,success:!1,error:null};case"ADDED_DOCUMENT":return{isPending:!1,document:e.payload,success:!0,error:null};case"DELETED_DOCUMENT":return{isPending:!1,document:null,success:!0,error:null};case"ERROR":return{isPending:!1,document:null,success:!1,error:e.payload};default:return t}},hx=t=>{let[e,n]=(0,r.useReducer)(h_,hS),[i,o]=(0,r.useState)(!1),s=hI.collection(t),a=t=>{i||n(t)},u=async t=>{n({type:"IS_PENDING"});try{let n=hT.fromDate(new Date),r=await s.add({...t,createdAt:n});a({type:"ADDED_DOCUMENT",payload:r}),console.log(e.success)}catch(t){a({type:"ERROR",payload:t.message}),console.log(t.message)}},c=async t=>{n({type:"IS_PENDING"});try{await s.doc(t).delete(),a({type:"DELETED_DOCUMENT"})}catch(t){a({type:"ERROR",payload:"could not delete"})}};return(0,r.useEffect)(()=>()=>o(!0),[]),{addDocument:u,deleteDocument:c,response:e}}},227:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDomainLocale=function(t,e,n,r){return!1},("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},9749:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(6495).Z,i=n(2648).Z,o=n(1598).Z,s=n(7273).Z,a=o(n(7294)),u=i(n(3121)),c=n(2675),l=n(139),h=n(8730);n(7238);var f=i(n(9824));let d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function p(t){return void 0!==t.default}function m(t){return"number"==typeof t||void 0===t?t:"string"==typeof t&&/^[0-9]+$/.test(t)?parseInt(t,10):NaN}function g(t,e,n,i,o,s,a){if(!t||t["data-loaded-src"]===e)return;t["data-loaded-src"]=e;let u="decode"in t?t.decode():Promise.resolve();u.catch(()=>{}).then(()=>{if(t.parentNode){if("blur"===n&&s(!0),null==i?void 0:i.current){let e=new Event("load");Object.defineProperty(e,"target",{writable:!1,value:t});let n=!1,o=!1;i.current(r({},e,{nativeEvent:e,currentTarget:t,target:t,isDefaultPrevented:()=>n,isPropagationStopped:()=>o,persist:()=>{},preventDefault:()=>{n=!0,e.preventDefault()},stopPropagation:()=>{o=!0,e.stopPropagation()}}))}(null==o?void 0:o.current)&&o.current(t)}})}let v=a.forwardRef((t,e)=>{var{imgAttributes:n,heightInt:i,widthInt:o,qualityInt:u,className:c,imgStyle:l,blurStyle:h,isLazy:f,fill:d,placeholder:p,loading:m,srcString:v,config:y,unoptimized:b,loader:w,onLoadRef:E,onLoadingCompleteRef:I,setBlurComplete:T,setShowAltText:S,onLoad:_,onError:x}=t,A=s(t,["imgAttributes","heightInt","widthInt","qualityInt","className","imgStyle","blurStyle","isLazy","fill","placeholder","loading","srcString","config","unoptimized","loader","onLoadRef","onLoadingCompleteRef","setBlurComplete","setShowAltText","onLoad","onError"]);return m=f?"lazy":m,a.default.createElement(a.default.Fragment,null,a.default.createElement("img",Object.assign({},A,n,{width:o,height:i,decoding:"async","data-nimg":d?"fill":"1",className:c,loading:m,style:r({},l,h),ref:a.useCallback(t=>{e&&("function"==typeof e?e(t):"object"==typeof e&&(e.current=t)),t&&(x&&(t.src=t.src),t.complete&&g(t,v,p,E,I,T,b))},[v,p,E,I,T,x,b,e]),onLoad:t=>{let e=t.currentTarget;g(e,v,p,E,I,T,b)},onError:t=>{S(!0),"blur"===p&&T(!0),x&&x(t)}})))}),y=a.forwardRef((t,e)=>{let n,i;var o,{src:g,sizes:y,unoptimized:b=!1,priority:w=!1,loading:E,className:I,quality:T,width:S,height:_,fill:x,style:A,onLoad:k,onLoadingComplete:N,placeholder:C="empty",blurDataURL:D,layout:P,objectFit:R,objectPosition:O,lazyBoundary:L,lazyRoot:M}=t,j=s(t,["src","sizes","unoptimized","priority","loading","className","quality","width","height","fill","style","onLoad","onLoadingComplete","placeholder","blurDataURL","layout","objectFit","objectPosition","lazyBoundary","lazyRoot"]);let V=a.useContext(h.ImageConfigContext),F=a.useMemo(()=>{let t=d||V||l.imageConfigDefault,e=[...t.deviceSizes,...t.imageSizes].sort((t,e)=>t-e),n=t.deviceSizes.sort((t,e)=>t-e);return r({},t,{allSizes:e,deviceSizes:n})},[V]),U=j,B=U.loader||f.default;delete U.loader;let q="__next_img_default"in B;if(q){if("custom"===F.loader)throw Error('Image with src "'.concat(g,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}else{let t=B;B=e=>{let{config:n}=e,r=s(e,["config"]);return t(r)}}if(P){"fill"===P&&(x=!0);let t={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[P];t&&(A=r({},A,t));let e={responsive:"100vw",fill:"100vw"}[P];e&&!y&&(y=e)}let z="",K=m(S),G=m(_);if("object"==typeof(o=g)&&(p(o)||void 0!==o.src)){let t=p(g)?g.default:g;if(!t.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(t)));if(!t.height||!t.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(t)));if(n=t.blurWidth,i=t.blurHeight,D=D||t.blurDataURL,z=t.src,!x){if(K||G){if(K&&!G){let e=K/t.width;G=Math.round(t.height*e)}else if(!K&&G){let e=G/t.height;K=Math.round(t.width*e)}}else K=t.width,G=t.height}}let H=!w&&("lazy"===E||void 0===E);((g="string"==typeof g?g:z).startsWith("data:")||g.startsWith("blob:"))&&(b=!0,H=!1),F.unoptimized&&(b=!0),q&&g.endsWith(".svg")&&!F.dangerouslyAllowSVG&&(b=!0);let[W,Z]=a.useState(!1),[$,X]=a.useState(!1),Y=m(T),Q=Object.assign(x?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:R,objectPosition:O}:{},$?{}:{color:"transparent"},A),J="blur"===C&&D&&!W?{backgroundSize:Q.objectFit||"cover",backgroundPosition:Q.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml;charset=utf-8,'.concat(c.getImageBlurSvg({widthInt:K,heightInt:G,blurWidth:n,blurHeight:i,blurDataURL:D}),'")')}:{},tt=function(t){let{config:e,src:n,unoptimized:r,width:i,quality:o,sizes:s,loader:a}=t;if(r)return{src:n,srcSet:void 0,sizes:void 0};let{widths:u,kind:c}=function(t,e,n){let{deviceSizes:r,allSizes:i}=t;if(n){let t=/(^|\s)(1?\d?\d)vw/g,e=[];for(let r;r=t.exec(n);r)e.push(parseInt(r[2]));if(e.length){let t=.01*Math.min(...e);return{widths:i.filter(e=>e>=r[0]*t),kind:"w"}}return{widths:i,kind:"w"}}if("number"!=typeof e)return{widths:r,kind:"w"};let o=[...new Set([e,2*e].map(t=>i.find(e=>e>=t)||i[i.length-1]))];return{widths:o,kind:"x"}}(e,i,s),l=u.length-1;return{sizes:s||"w"!==c?s:"100vw",srcSet:u.map((t,r)=>"".concat(a({config:e,src:n,quality:o,width:t})," ").concat("w"===c?t:r+1).concat(c)).join(", "),src:a({config:e,src:n,quality:o,width:u[l]})}}({config:F,src:g,unoptimized:b,width:K,quality:Y,sizes:y,loader:B}),te=g,tn={imageSrcSet:tt.srcSet,imageSizes:tt.sizes,crossOrigin:U.crossOrigin},tr=a.useRef(k);a.useEffect(()=>{tr.current=k},[k]);let ti=a.useRef(N);a.useEffect(()=>{ti.current=N},[N]);let to=r({isLazy:H,imgAttributes:tt,heightInt:G,widthInt:K,qualityInt:Y,className:I,imgStyle:Q,blurStyle:J,loading:E,config:F,fill:x,unoptimized:b,placeholder:C,loader:B,srcString:te,onLoadRef:tr,onLoadingCompleteRef:ti,setBlurComplete:Z,setShowAltText:X},U);return a.default.createElement(a.default.Fragment,null,a.default.createElement(v,Object.assign({},to,{ref:e})),w?a.default.createElement(u.default,null,a.default.createElement("link",Object.assign({key:"__nimg-"+tt.src+tt.srcSet+tt.sizes,rel:"preload",as:"image",href:tt.srcSet?void 0:tt.src},tn))):null)});e.default=y,("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},1551:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(2648).Z,i=n(7273).Z,o=r(n(7294)),s=n(1003),a=n(7795),u=n(4465),c=n(2692),l=n(8245),h=n(9246),f=n(227),d=n(3468);let p=new Set;function m(t,e,n,r){if(s.isLocalURL(e)){if(!r.bypassPrefetchedCheck){let i=void 0!==r.locale?r.locale:"locale"in t?t.locale:void 0,o=e+"%"+n+"%"+i;if(p.has(o))return;p.add(o)}Promise.resolve(t.prefetch(e,n,r)).catch(t=>{})}}function g(t){return"string"==typeof t?t:a.formatUrl(t)}let v=o.default.forwardRef(function(t,e){let n,r;let{href:a,as:p,children:v,prefetch:y,passHref:b,replace:w,shallow:E,scroll:I,locale:T,onClick:S,onMouseEnter:_,onTouchStart:x,legacyBehavior:A=!1}=t,k=i(t,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);n=v,A&&("string"==typeof n||"number"==typeof n)&&(n=o.default.createElement("a",null,n));let N=!1!==y,C=o.default.useContext(c.RouterContext),D=o.default.useContext(l.AppRouterContext),P=null!=C?C:D,R=!C,{href:O,as:L}=o.default.useMemo(()=>{if(!C){let t=g(a);return{href:t,as:p?g(p):t}}let[t,e]=s.resolveHref(C,a,!0);return{href:t,as:p?s.resolveHref(C,p):e||t}},[C,a,p]),M=o.default.useRef(O),j=o.default.useRef(L);A&&(r=o.default.Children.only(n));let V=A?r&&"object"==typeof r&&r.ref:e,[F,U,B]=h.useIntersection({rootMargin:"200px"}),q=o.default.useCallback(t=>{(j.current!==L||M.current!==O)&&(B(),j.current=L,M.current=O),F(t),V&&("function"==typeof V?V(t):"object"==typeof V&&(V.current=t))},[L,V,O,B,F]);o.default.useEffect(()=>{P&&U&&N&&m(P,O,L,{locale:T})},[L,O,U,T,N,null==C?void 0:C.locale,P]);let z={ref:q,onClick(t){A||"function"!=typeof S||S(t),A&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(t),P&&!t.defaultPrevented&&function(t,e,n,r,i,a,u,c,l,h){let{nodeName:f}=t.currentTarget,d="A"===f.toUpperCase();if(d&&(function(t){let{target:e}=t.currentTarget;return e&&"_self"!==e||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which}(t)||!s.isLocalURL(n)))return;t.preventDefault();let p=()=>{"beforePopState"in e?e[i?"replace":"push"](n,r,{shallow:a,locale:c,scroll:u}):e[i?"replace":"push"](r||n,{forceOptimisticNavigation:!h})};l?o.default.startTransition(p):p()}(t,P,O,L,w,E,I,T,R,N)},onMouseEnter(t){A||"function"!=typeof _||_(t),A&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(t),P&&(N||!R)&&m(P,O,L,{locale:T,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart(t){A||"function"!=typeof x||x(t),A&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(t),P&&(N||!R)&&m(P,O,L,{locale:T,priority:!0,bypassPrefetchedCheck:!0})}};if(!A||b||"a"===r.type&&!("href"in r.props)){let t=void 0!==T?T:null==C?void 0:C.locale,e=(null==C?void 0:C.isLocaleDomain)&&f.getDomainLocale(L,t,null==C?void 0:C.locales,null==C?void 0:C.domainLocales);z.href=e||d.addBasePath(u.addLocale(L,t,null==C?void 0:C.defaultLocale))}return A?o.default.cloneElement(r,z):o.default.createElement("a",Object.assign({},k,z),n)});e.default=v,("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},9246:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useIntersection=function(t){let{rootRef:e,rootMargin:n,disabled:u}=t,c=u||!o,[l,h]=r.useState(!1),f=r.useRef(null),d=r.useCallback(t=>{f.current=t},[]);r.useEffect(()=>{if(o){if(c||l)return;let t=f.current;if(t&&t.tagName){let r=function(t,e,n){let{id:r,observer:i,elements:o}=function(t){let e;let n={root:t.root||null,margin:t.rootMargin||""},r=a.find(t=>t.root===n.root&&t.margin===n.margin);if(r&&(e=s.get(r)))return e;let i=new Map,o=new IntersectionObserver(t=>{t.forEach(t=>{let e=i.get(t.target),n=t.isIntersecting||t.intersectionRatio>0;e&&n&&e(n)})},t);return e={id:n,observer:o,elements:i},a.push(n),s.set(n,e),e}(n);return o.set(t,e),i.observe(t),function(){if(o.delete(t),i.unobserve(t),0===o.size){i.disconnect(),s.delete(r);let t=a.findIndex(t=>t.root===r.root&&t.margin===r.margin);t>-1&&a.splice(t,1)}}}(t,t=>t&&h(t),{root:null==e?void 0:e.current,rootMargin:n});return r}}else if(!l){let t=i.requestIdleCallback(()=>h(!0));return()=>i.cancelIdleCallback(t)}},[c,n,e,l,f.current]);let p=r.useCallback(()=>{h(!1)},[]);return[d,l,p]};var r=n(7294),i=n(4686);let o="function"==typeof IntersectionObserver,s=new Map,a=[];("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},2675:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getImageBlurSvg=function(t){let{widthInt:e,heightInt:n,blurWidth:r,blurHeight:i,blurDataURL:o}=t,s=r||e,a=i||n,u=o.startsWith("data:image/jpeg")?"%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'/%3E%3C/feComponentTransfer%3E%":"";return s&&a?"%3Csvg xmlns='http%3A//www.w3.org/2000/svg' viewBox='0 0 ".concat(s," ").concat(a,"'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='").concat(r&&i?"1":"20","'/%3E").concat(u,"%3C/filter%3E%3Cimage preserveAspectRatio='none' filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' href='").concat(o,"'/%3E%3C/svg%3E"):"%3Csvg xmlns='http%3A//www.w3.org/2000/svg'%3E%3Cimage style='filter:blur(20px)' x='0' y='0' height='100%25' width='100%25' href='".concat(o,"'/%3E%3C/svg%3E")}},9824:function(t,e){"use strict";function n(t){let{config:e,src:n,width:r,quality:i}=t;return"".concat(e.path,"?url=").concat(encodeURIComponent(n),"&w=").concat(r,"&q=").concat(i||75)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.__next_img_default=!0,e.default=n},205:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return tl}});var r=n(5893),i=n(3794),o=n.n(i),s=n(7294),a=n(7268),u=n(655),c=n(6111),l=n(3379),h=n(1664),f=n.n(h);let d=()=>{let[t,e]=(0,s.useState)(""),{addDocument:n,response:i}=(0,a.C)("emailForPromotions"),h=r=>{r.preventDefault(),n({email:t}),e("")};return(0,r.jsxs)("div",{className:o().footer,children:[(0,r.jsxs)("div",{className:o().footer_ninjas,children:[(0,r.jsx)("img",{src:"/ninjas_logo.png",style:{width:"40px",height:"auto"},alt:"logo"}),(0,r.jsx)("p",{style:{paddingLeft:"6px",color:"#51CA58",fontWeight:"450",fontSize:"1.618em"},children:"Canna."})]}),(0,r.jsxs)("div",{className:o().footer_links,children:[(0,r.jsxs)("div",{className:o().footer_links_wrap,children:[(0,r.jsxs)("div",{className:o().footer_sections,children:[(0,r.jsx)("p",{style:{color:"#D3CEC4",paddingBottom:"10px",fontSize:"14px"},children:"sections"}),(0,r.jsx)(f(),{href:"/about",children:(0,r.jsx)("p",{className:o().footer_p,children:"About"})}),(0,r.jsx)(f(),{href:"/services",children:(0,r.jsx)("p",{className:o().footer_p,children:"Services"})}),(0,r.jsx)(f(),{href:"/price",children:(0,r.jsx)("p",{className:o().footer_p,children:"Pricing"})}),(0,r.jsx)(f(),{href:"https://demo.01ninjas.com",children:(0,r.jsxs)("button",{className:o().footer_demo,children:["Demo ",(0,r.jsx)(u.Z,{})]})})]}),(0,r.jsxs)("div",{className:o().footer_resources,children:[(0,r.jsx)("p",{style:{color:"#D3CEC4",paddingBottom:"10px",fontSize:"14px"},children:"resources"}),(0,r.jsx)(f(),{href:"/services/brand",children:(0,r.jsx)("p",{className:o().footer_p,children:"Branding"})}),(0,r.jsx)(f(),{href:"/services/ecommerce",children:(0,r.jsx)("p",{className:o().footer_p,children:"Ecommerce"})}),(0,r.jsx)(f(),{href:"/services/custom",children:(0,r.jsx)("p",{className:o().footer_p,children:"Custom"})}),(0,r.jsx)(f(),{href:"/services/cms",children:(0,r.jsx)("p",{className:o().footer_p,children:"CMS"})}),(0,r.jsx)(f(),{href:"/services/support",children:(0,r.jsx)("p",{className:o().footer_p,children:"Support"})}),(0,r.jsx)(f(),{href:"/services/support",children:(0,r.jsx)("p",{className:o().footer_p,children:"Analytics"})})]})]}),(0,r.jsxs)("div",{className:o().footer_contact,children:[(0,r.jsx)("p",{style:{color:"#D3CEC4",paddingBottom:"10px",fontSize:"14px"},children:"contact"}),(0,r.jsx)("p",{style:{color:"#fff"},className:o().footer_p,children:"+1(201)328-7539"}),(0,r.jsx)("p",{className:o().footer_p,children:"canna@01ninjas.com"}),(0,r.jsx)("div",{children:(0,r.jsx)(f(),{href:"/becomeapartner",children:(0,r.jsxs)("button",{className:o().footer_demo,children:["Join us ",(0,r.jsx)(c.Z,{style:{paddingLeft:"6px",color:"#27241D"}})]})})})]})]}),(0,r.jsxs)("div",{className:o().footer_form,children:[(0,r.jsx)("p",{style:{fontSize:"1.618em",paddingBottom:"20px"},children:"Join our newsletter"}),(0,r.jsx)("p",{style:{fontSize:"16px",paddingBottom:"10px",width:"100%"},children:"Sign up to receive special deals and promotions!"}),(0,r.jsxs)("form",{onSubmit:h,children:[(0,r.jsx)("div",{children:(0,r.jsxs)("label",{style:{display:"flex",flexDirection:"column"},children:[(0,r.jsx)("span",{style:{paddingBottom:"10px",fontSize:"14px",fontWeight:"500",textAlign:"left"},children:"Email:"}),(0,r.jsx)("input",{type:"text",required:!0,onChange:t=>e(t.target.value),value:t})]})}),(0,r.jsx)("div",{style:{float:"right"},children:(0,r.jsxs)("button",{style:{marginTop:"12px"},className:o().footer_demo,children:["Submit ",(0,r.jsx)(l.Z,{style:{paddingLeft:"6px"}})]})})]})]})]})};var p=n(8394),m=n.n(p),g=n(7462),v=n(3366);let y=["getTrigger","target"];function b(t,e){let{disableHysteresis:n=!1,threshold:r=100,target:i}=e,o=t.current;return i&&(t.current=void 0!==i.pageYOffset?i.pageYOffset:i.scrollTop),(!!n||void 0===o||!(t.current<o))&&t.current>r}let w="undefined"!=typeof window?window:null;function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var I=n(3935),T={disabled:!1},S=s.createContext(null),_="unmounted",x="exited",A="entering",k="entered",N="exiting",C=function(t){function e(e,n){r=t.call(this,e,n)||this;var r,i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=x,r.appearStatus=A):i=k:i=e.unmountOnExit||e.mountOnEnter?_:x,r.state={status:i},r.nextCallback=null,r}(n=e).prototype=Object.create(t.prototype),n.prototype.constructor=n,E(n,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===_?{status:x}:null};var n,r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==A&&n!==k&&(e=A):(n===A||n===k)&&(e=N)}this.updateStatus(!1,e)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},r.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){if(this.cancelNextCallback(),e===A){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:I.findDOMNode(this);n&&n.scrollTop}this.performEnter(t)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===x&&this.setState({status:_})},r.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[I.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),u=r?a.appear:a.enter;if(!t&&!n||T.disabled){this.safeSetState({status:k},function(){e.props.onEntered(o)});return}this.props.onEnter(o,s),this.safeSetState({status:A},function(){e.props.onEntering(o,s),e.onTransitionEnd(u,function(){e.safeSetState({status:k},function(){e.props.onEntered(o,s)})})})},r.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:I.findDOMNode(this);if(!e||T.disabled){this.safeSetState({status:x},function(){t.props.onExited(r)});return}this.props.onExit(r),this.safeSetState({status:N},function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,function(){t.safeSetState({status:x},function(){t.props.onExited(r)})})})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},r.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:I.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(!n||r){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=t&&setTimeout(this.nextCallback,t)},r.render=function(){var t=this.state.status;if(t===_)return null;var e=this.props,n=e.children,r=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,(0,v.Z)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(S.Provider,{value:null},"function"==typeof n?n(t,r):s.cloneElement(s.Children.only(n),r))},e}(s.Component);function D(){}C.contextType=S,C.propTypes={},C.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:D,onEntering:D,onEntered:D,onExit:D,onExiting:D,onExited:D},C.UNMOUNTED=_,C.EXITED=x,C.ENTERING=A,C.ENTERED=k,C.EXITING=N;var P=n(9296),R=n(8031),O=n(2734);let L=t=>t.scrollTop;function M(t,e){var n,r;let{timeout:i,easing:o,style:s={}}=t;return{duration:null!=(n=s.transitionDuration)?n:"number"==typeof i?i:i[e.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"==typeof o?o[e.mode]:o,delay:s.transitionDelay}}var j=n(6488);let V=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function F(t,e,n){let r="function"==typeof n?n():n,i=function(t,e,n){let r;let i=e.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),s=(0,j.Z)(e);if(e.fakeTransform)r=e.fakeTransform;else{let t=s.getComputedStyle(e);r=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("transform")}let a=0,u=0;if(r&&"none"!==r&&"string"==typeof r){let t=r.split("(")[1].split(")")[0].split(",");a=parseInt(t[4],10),u=parseInt(t[5],10)}return"left"===t?o?`translateX(${o.right+a-i.left}px)`:`translateX(${s.innerWidth+a-i.left}px)`:"right"===t?o?`translateX(-${i.right-o.left-a}px)`:`translateX(-${i.left+i.width-a}px)`:"up"===t?o?`translateY(${o.bottom+u-i.top}px)`:`translateY(${s.innerHeight+u-i.top}px)`:o?`translateY(-${i.top-o.top+i.height-u}px)`:`translateY(-${i.top+i.height-u}px)`}(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}let U=s.forwardRef(function(t,e){let n=(0,O.Z)(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:u=!0,children:c,container:l,direction:h="down",easing:f=i,in:d,onEnter:p,onEntered:m,onEntering:y,onExit:b,onExited:w,onExiting:E,style:I,timeout:T=o,TransitionComponent:S=C}=t,_=(0,v.Z)(t,V),x=s.useRef(null),A=(0,R.Z)(c.ref,x,e),k=t=>e=>{t&&(void 0===e?t(x.current):t(x.current,e))},N=k((t,e)=>{F(h,t,l),L(t),p&&p(t,e)}),D=k((t,e)=>{let r=M({timeout:T,style:I,easing:f},{mode:"enter"});t.style.webkitTransition=n.transitions.create("-webkit-transform",(0,g.Z)({},r)),t.style.transition=n.transitions.create("transform",(0,g.Z)({},r)),t.style.webkitTransform="none",t.style.transform="none",y&&y(t,e)}),U=k(m),B=k(E),q=k(t=>{let e=M({timeout:T,style:I,easing:f},{mode:"exit"});t.style.webkitTransition=n.transitions.create("-webkit-transform",e),t.style.transition=n.transitions.create("transform",e),F(h,t,l),b&&b(t)}),z=k(t=>{t.style.webkitTransition="",t.style.transition="",w&&w(t)}),K=t=>{a&&a(x.current,t)},G=s.useCallback(()=>{x.current&&F(h,x.current,l)},[h,l]);return s.useEffect(()=>{if(d||"down"===h||"right"===h)return;let t=(0,P.Z)(()=>{x.current&&F(h,x.current,l)}),e=(0,j.Z)(x.current);return e.addEventListener("resize",t),()=>{t.clear(),e.removeEventListener("resize",t)}},[h,d,l]),s.useEffect(()=>{d||G()},[d,G]),(0,r.jsx)(S,(0,g.Z)({nodeRef:x,onEnter:N,onEntered:U,onEntering:D,onExit:q,onExited:z,onExiting:B,addEndListener:K,appear:u,in:d,timeout:T},_,{children:(t,e)=>s.cloneElement(c,(0,g.Z)({ref:A,style:(0,g.Z)({visibility:"exited"!==t||d?void 0:"hidden"},I,c.props.style)},e))}))});var B=n(326),q=n(924),z=n(6405),K=n(8868);function G(){let t=(0,s.useRef)(!1);return(0,K.L)(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var H=n(240),W=n(6681);class Z extends s.Component{getSnapshotBeforeUpdate(t){let e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){let t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function $({children:t,isPresent:e}){let n=(0,s.useId)(),r=(0,s.useRef)(null),i=(0,s.useRef)({width:0,height:0,top:0,left:0});return(0,s.useInsertionEffect)(()=>{let{width:t,height:o,top:s,left:a}=i.current;if(e||!r.current||!t||!o)return;r.current.dataset.motionPopId=n;let u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${t}px !important;
            height: ${o}px !important;
            top: ${s}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),s.createElement(Z,{isPresent:e,childRef:r,sizeRef:i},s.cloneElement(t,{ref:r}))}let X=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a})=>{let u=(0,W.h)(Y),c=(0,s.useId)(),l=(0,s.useMemo)(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:t=>{for(let e of(u.set(t,!0),u.values()))if(!e)return;r&&r()},register:t=>(u.set(t,!1),()=>u.delete(t))}),o?void 0:[n]);return(0,s.useMemo)(()=>{u.forEach((t,e)=>u.set(e,!1))},[n]),s.useEffect(()=>{n||u.size||!r||r()},[n]),"popLayout"===a&&(t=s.createElement($,{isPresent:n},t)),s.createElement(H.O.Provider,{value:l},t)};function Y(){return new Map}var Q=n(5364),J=n(5487);let tt=t=>t.key||"",te=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:a="sync"})=>{var u;(0,J.k)(!i,"Replace exitBeforeEnter with mode='wait'");let[c]=function(){let t=G(),[e,n]=(0,s.useState)(0),r=(0,s.useCallback)(()=>{t.current&&n(e+1)},[e]),i=(0,s.useCallback)(()=>z.Z_.postRender(r),[r]);return[i,e]}(),l=(0,s.useContext)(Q.p).forceRender;l&&(c=l);let h=G(),f=function(t){let e=[];return s.Children.forEach(t,t=>{(0,s.isValidElement)(t)&&e.push(t)}),e}(t),d=f,p=new Set,m=(0,s.useRef)(d),g=(0,s.useRef)(new Map).current,v=(0,s.useRef)(!0);if((0,K.L)(()=>{v.current=!1,function(t,e){t.forEach(t=>{let n=tt(t);e.set(n,t)})}(f,g),m.current=d}),u=()=>{v.current=!0,g.clear(),p.clear()},(0,s.useEffect)(()=>()=>u(),[]),v.current)return s.createElement(s.Fragment,null,d.map(t=>s.createElement(X,{key:tt(t),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:o,mode:a},t)));d=[...d];let y=m.current.map(tt),b=f.map(tt),w=y.length;for(let t=0;t<w;t++){let e=y[t];-1===b.indexOf(e)&&p.add(e)}return"wait"===a&&p.size&&(d=[]),p.forEach(t=>{if(-1!==b.indexOf(t))return;let n=g.get(t);if(!n)return;let i=y.indexOf(t),u=()=>{g.delete(t),p.delete(t);let e=m.current.findIndex(e=>e.key===t);if(m.current.splice(e,1),!p.size){if(m.current=f,!1===h.current)return;c(),r&&r()}};d.splice(i,0,s.createElement(X,{key:tt(n),isPresent:!1,onExitComplete:u,custom:e,presenceAffectsLayout:o,mode:a},n))}),d=d.map(t=>{let e=t.key;return p.has(e)?t:s.createElement(X,{key:tt(t),isPresent:!0,presenceAffectsLayout:o,mode:a},t)}),s.createElement(s.Fragment,null,p.size?d:d.map(t=>(0,s.cloneElement)(t)))};var tn=n(594),tr=n(5675),ti=n.n(tr);function to(t){let{children:e}=t,n=function(t={}){let{getTrigger:e=b,target:n=w}=t,r=(0,v.Z)(t,y),i=s.useRef(),[o,a]=s.useState(()=>e(i,r));return s.useEffect(()=>{let t=()=>{a(e(i,(0,g.Z)({target:n},r)))};return t(),n.addEventListener("scroll",t,{passive:!0}),()=>{n.removeEventListener("scroll",t,{passive:!0})}},[n,e,JSON.stringify(r)]),o}();return(0,r.jsx)(U,{appear:!1,direction:"down",in:!n,children:e})}let ts=t=>{let[e,n]=(0,s.useState)(""),i=()=>{n(window.scrollY)};(0,s.useEffect)(()=>(window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)));let[o,a]=(0,s.useState)(0),[u,h]=(0,s.useState)(0);(0,s.useEffect)(()=>{let t=e/600;t<1&&(a(t),h(1*t))},[e]);let[d,p]=(0,s.useState)(!1),g=()=>{p(!d)};return(0,r.jsx)("div",{className:m().navhover,children:(0,r.jsx)(to,{children:(0,r.jsx)("nav",{style:{background:"#E8E6E1",boxShadow:"rgb(79 76 69/ ".concat(u,")  0px  10px 20px")},className:m().navbar,children:(0,r.jsxs)("div",{className:m().content,children:[(0,r.jsxs)("div",{className:m().logo,children:[(0,r.jsx)(q.E.div,{whileTap:{rotate:-390,scale:1},transition:{duration:.2,type:"tween"},children:(0,r.jsx)(f(),{href:"/",children:(0,r.jsx)(ti(),{src:"/ninjas_logo.svg",style:{width:"40px",height:"40px"},alt:"logo",width:40,height:40})})}),(0,r.jsx)("p",{style:{fontWeight:"550",paddingLeft:"9px",color:"#51CA58",fontSize:"1.618em"},children:"Canna."})]}),(0,r.jsxs)("div",{className:m().link,children:[(0,r.jsx)("div",{className:m().singlelink,children:(0,r.jsx)(f(),{href:"/about",children:"About"})}),(0,r.jsx)("div",{className:m().singlelink,children:(0,r.jsx)(f(),{href:"/services",children:"Services"})}),(0,r.jsx)("div",{className:m().singlelink,children:(0,r.jsx)(f(),{href:"/price",children:"Pricing"})}),(0,r.jsx)("div",{className:m().singlelink,children:(0,r.jsx)(f(),{href:"https://demo.01ninjas.com",children:"Demo"})})]}),(0,r.jsx)("div",{onClick:g,className:m().nav_menu,children:(0,r.jsx)("button",{className:m().nav_menu_btn,children:(0,r.jsx)(B.Z,{style:{fontSize:"28px",color:"#27241D"}})})}),(0,r.jsx)(te,{children:d&&(0,r.jsx)(q.E.div,{initial:{x:500},transition:{duration:.5,type:"tween",delay:.3},animate:{x:0},exit:{x:500},className:m().mobile_links,children:(0,r.jsxs)("div",{className:m().mobile_links_wrap,children:[(0,r.jsx)("div",{style:{marginTop:"20px"},children:(0,r.jsx)("button",{className:m().nav_close,onClick:g,children:(0,r.jsx)(tn.Z,{style:{color:"#1D1A13",fontSize:"28px"}})})}),(0,r.jsx)("div",{onClick:g,className:m().mobile_singlelink,children:(0,r.jsx)(q.E.div,{initial:{opacity:0,y:20},transition:{delay:.1,duration:.3},whileInView:{opacity:1,y:0},children:(0,r.jsxs)(f(),{className:m().mobiletext,href:"/about",children:["About",(0,r.jsx)(l.Z,{style:{fontSize:"16px",marginLeft:"6px"}})]})})}),(0,r.jsx)(q.E.div,{initial:{opacity:0,y:20},transition:{delay:.2,duration:.3,type:"tween"},whileInView:{opacity:1,y:0},onClick:g,className:m().mobile_singlelink,children:(0,r.jsxs)(f(),{className:m().mobiletext,href:"/services",children:["Services",(0,r.jsx)(l.Z,{style:{fontSize:"16px",marginLeft:"6px"}})]})}),(0,r.jsx)(q.E.div,{initial:{opacity:0,y:20},transition:{delay:.3,duration:.3,type:"tween"},whileInView:{opacity:1,y:0},onClick:g,className:m().mobile_singlelink,children:(0,r.jsxs)(f(),{className:m().mobiletext,href:"/price",children:["Pricing",(0,r.jsx)(l.Z,{style:{fontSize:"16px",marginLeft:"6px"}})]})}),(0,r.jsx)(q.E.div,{initial:{opacity:0,y:20},transition:{delay:.4,duration:.3,type:"tween"},whileInView:{opacity:1,y:0},onClick:g,className:m().mobile_singlelink,children:(0,r.jsxs)(f(),{className:m().mobiletext,href:"https://demo.01ninjas.com",children:["Demo",(0,r.jsx)(l.Z,{style:{fontSize:"16px",marginLeft:"6px"}})]})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:g,className:m().btn_mobile,children:(0,r.jsxs)(f(),{style:{fontWeight:"500",display:"flex",alignItems:"center"},href:"/becomeapartner",children:["Join Us ",(0,r.jsx)(c.Z,{style:{marginLeft:"4px",color:"#27241D"}})]})})})]})})}),(0,r.jsx)(f(),{href:"/becomeapartner",children:(0,r.jsx)("button",{className:m().btn,children:(0,r.jsxs)("div",{style:{fontWeight:"500",display:"flex",alignItems:"center"},children:["Join Us ",(0,r.jsx)(c.Z,{style:{marginLeft:"4px",color:"#27241D"}})]})})})]})})})})},ta=t=>{let{children:e}=t;return(0,r.jsxs)("div",{className:"content",children:[(0,r.jsx)(ts,{}),e,(0,r.jsx)(d,{})]})};n(4744);var tu=n(4298),tc=n.n(tu);function tl(t){let{Component:e,pageProps:n}=t;return(0,r.jsxs)(ta,{children:[(0,r.jsx)(e,{...n}),(0,r.jsx)(tc(),{strategy:"afterInteractive",src:"https://www.googletagmanager.com/gtag/js?id=G-MYBLBE82C9"}),(0,r.jsx)(tc(),{id:"google-analytics",strategy:"afterInteractive",children:"\n         window.dataLayer = window.dataLayer || [];\n         function gtag(){dataLayer.push(arguments);}\n         gtag('js', new Date());\n       \n         gtag('config', 'G-MYBLBE82C9');\n        "})]})}},4744:function(){},3794:function(t){t.exports={footer:"Footer_footer__Tl1eP",footer_form:"Footer_footer_form__u_LH5",footer_ninjas:"Footer_footer_ninjas__CFjL_",footer_sections:"Footer_footer_sections__X79lU",footer_p:"Footer_footer_p__WxezD",footer_links:"Footer_footer_links__GLQFa",footer_resources:"Footer_footer_resources__kGpgN",footer_contact:"Footer_footer_contact__WAM6M",footer_demo:"Footer_footer_demo__KOihP",footer_links_wrap:"Footer_footer_links_wrap__ppBlH"}},8394:function(t){t.exports={navbar:"Navbar_navbar__66x_3",mobile_singlelink:"Navbar_mobile_singlelink__WDg96",mobile_links:"Navbar_mobile_links__NTYy0",content:"Navbar_content__l_T14",logo:"Navbar_logo__E_Sw_",link:"Navbar_link__b0OQz",singlelink:"Navbar_singlelink__HPi8g",btn:"Navbar_btn__2_IOi",navhover:"Navbar_navhover___wYGp",nav_menu:"Navbar_nav_menu__8Bu1D",nav_menu_btn:"Navbar_nav_menu_btn__C927t",btn_mobile:"Navbar_btn_mobile__FkVFR",mobile_links_wrap:"Navbar_mobile_links_wrap__R_eHt",nav_close:"Navbar_nav_close__kjy9m",mobiletext:"Navbar_mobiletext__T5osC"}},5675:function(t,e,n){t.exports=n(9749)},1664:function(t,e,n){t.exports=n(1551)},4298:function(t,e,n){t.exports=n(3573)},4155:function(t){var e,n,r,i=t.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u=[],c=!1,l=-1;function h(){c&&r&&(c=!1,r.length?u=r.concat(u):l=-1,u.length&&f())}function f(){if(!c){var t=a(h);c=!0;for(var e=u.length;e;){for(r=u,u=[];++l<e;)r&&r[l].run();l=-1,e=u.length}r=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||c||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(t){return[]},i.binding=function(t){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw Error("process.chdir is not supported")},i.umask=function(){return 0}},4836:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},7462:function(t,e,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,{Z:function(){return r}})},3366:function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,{Z:function(){return r}})},5364:function(t,e,n){"use strict";n.d(e,{p:function(){return i}});var r=n(7294);let i=(0,r.createContext)({})},240:function(t,e,n){"use strict";n.d(e,{O:function(){return i}});var r=n(7294);let i=(0,r.createContext)(null)},7367:function(t,e,n){"use strict";n.d(e,{w:function(){return r}});let r={delta:0,timestamp:0,isProcessing:!1}},6405:function(t,e,n){"use strict";n.d(e,{qY:function(){return c},iW:function(){return l},Z_:function(){return u}});var r=n(7367);let i=!0,o=!1,s=["read","update","preRender","render","postRender"],a=s.reduce((t,e)=>(t[e]=function(t){let e=[],n=[],r=0,i=!1,o=!1,s=new WeakSet,a={schedule:(t,o=!1,a=!1)=>{let u=a&&i,c=u?e:n;return o&&s.add(t),-1===c.indexOf(t)&&(c.push(t),u&&i&&(r=e.length)),t},cancel:t=>{let e=n.indexOf(t);-1!==e&&n.splice(e,1),s.delete(t)},process:u=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length)for(let n=0;n<r;n++){let r=e[n];r(u),s.has(r)&&(a.schedule(r),t())}i=!1,o&&(o=!1,a.process(u))}};return a}(()=>o=!0),t),{}),u=s.reduce((t,e)=>{let n=a[e];return t[e]=(t,e=!1,r=!1)=>(o||d(),n.schedule(t,e,r)),t},{}),c=s.reduce((t,e)=>(t[e]=a[e].cancel,t),{}),l=s.reduce((t,e)=>(t[e]=()=>a[e].process(r.w),t),{}),h=t=>a[t].process(r.w),f=t=>{o=!1,r.w.delta=i?1e3/60:Math.max(Math.min(t-r.w.timestamp,40),1),r.w.timestamp=t,r.w.isProcessing=!0,s.forEach(h),r.w.isProcessing=!1,o&&(i=!1,requestAnimationFrame(f))},d=()=>{o=!0,i=!0,r.w.isProcessing||requestAnimationFrame(f)}},924:function(t,e,n){"use strict";n.d(e,{E:function(){return iM}});var r,i=n(7294);let o=(0,i.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),s=(0,i.createContext)({});var a=n(240),u=n(8868);let c=(0,i.createContext)({strict:!1});function l(t){return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function h(t){return"string"==typeof t||Array.isArray(t)}function f(t){return"object"==typeof t&&"function"==typeof t.start}let d=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p=["initial",...d];function m(t){return f(t.animate)||p.some(e=>h(t[e]))}function g(t){return Boolean(m(t)||t.variants)}function v(t){return Array.isArray(t)?t.join(" "):t}let y={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},b={};for(let t in y)b[t]={isEnabled:e=>y[t].some(t=>!!e[t])};var w=n(1741),E=n(6681);let I={hasAnimatedSinceResize:!0,hasEverUpdated:!1},T=1;var S=n(5364);let _=(0,i.createContext)({}),x=Symbol.for("motionComponentSymbol"),A=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function k(t){if("string"!=typeof t||t.includes("-"));else if(A.indexOf(t)>-1||/[A-Z]/.test(t))return!0;return!1}let N={},C=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],D=new Set(C);function P(t,{layout:e,layoutId:n}){return D.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!N[t]||"opacity"===t)}let R=t=>Boolean(t&&t.getVelocity),O={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L=C.length,M=t=>e=>"string"==typeof e&&e.startsWith(t),j=M("--"),V=M("var(--"),F=(t,e)=>e&&"number"==typeof t?e.transform(t):t,U=(t,e,n)=>Math.min(Math.max(n,t),e),B={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},q={...B,transform:t=>U(0,1,t)},z={...B,default:1},K=t=>Math.round(1e5*t)/1e5,G=/(-)?([\d]*\.?[\d])+/g,H=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,W=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Z(t){return"string"==typeof t}let $=t=>({test:e=>Z(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),X=$("deg"),Y=$("%"),Q=$("px"),J=$("vh"),tt=$("vw"),te={...Y,parse:t=>Y.parse(t)/100,transform:t=>Y.transform(100*t)},tn={...B,transform:Math.round},tr={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:X,rotateX:X,rotateY:X,rotateZ:X,scale:z,scaleX:z,scaleY:z,scaleZ:z,skew:X,skewX:X,skewY:X,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:q,originX:te,originY:te,originZ:Q,zIndex:tn,fillOpacity:q,strokeOpacity:q,numOctaves:tn};function ti(t,e,n,r){let{style:i,vars:o,transform:s,transformOrigin:a}=t,u=!1,c=!1,l=!0;for(let t in e){let n=e[t];if(j(t)){o[t]=n;continue}let r=tr[t],h=F(n,r);if(D.has(t)){if(u=!0,s[t]=h,!l)continue;n!==(r.default||0)&&(l=!1)}else t.startsWith("origin")?(c=!0,a[t]=h):i[t]=h}if(!e.transform&&(u||r?i.transform=function(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let e=0;e<L;e++){let n=C[e];if(void 0!==t[n]){let e=O[n]||n;o+=`${e}(${t[n]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}(t.transform,n,l,r):i.transform&&(i.transform="none")),c){let{originX:t="50%",originY:e="50%",originZ:n=0}=a;i.transformOrigin=`${t} ${e} ${n}`}}let to=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ts(t,e,n){for(let r in e)R(e[r])||P(r,n)||(t[r]=e[r])}function ta(t,e,n){let r={},o=function(t,e,n){let r=t.style||{},o={};return ts(o,r,t),Object.assign(o,function({transformTemplate:t},e,n){return(0,i.useMemo)(()=>{let r=to();return ti(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}(t,e,n)),t.transformValues?t.transformValues(o):o}(t,e,n);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===t.drag?"none":`pan-${"x"===t.drag?"y":"x"}`),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}let tu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function tc(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||tu.has(t)}let tl=t=>!tc(t);try{(r=require("@emotion/is-prop-valid").default)&&(tl=t=>t.startsWith("on")?!tc(t):r(t))}catch(t){}function th(t,e,n){return"string"==typeof t?t:Q.transform(e+n*t)}let tf={offset:"stroke-dashoffset",array:"stroke-dasharray"},td={offset:"strokeDashoffset",array:"strokeDasharray"};function tp(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:a=0,...u},c,l,h){if(ti(t,u,c,h),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};let{attrs:f,style:d,dimensions:p}=t;f.transform&&(p&&(d.transform=f.transform),delete f.transform),p&&(void 0!==r||void 0!==i||d.transform)&&(d.transformOrigin=function(t,e,n){let r=th(e,t.x,t.width),i=th(n,t.y,t.height);return`${r} ${i}`}(p,void 0!==r?r:.5,void 0!==i?i:.5)),void 0!==e&&(f.x=e),void 0!==n&&(f.y=n),void 0!==o&&function(t,e,n=1,r=0,i=!0){t.pathLength=1;let o=i?tf:td;t[o.offset]=Q.transform(-r);let s=Q.transform(e),a=Q.transform(n);t[o.array]=`${s} ${a}`}(f,o,s,a,!1)}let tm=()=>({...to(),attrs:{}}),tg=t=>"string"==typeof t&&"svg"===t.toLowerCase();function tv(t,e,n,r){let o=(0,i.useMemo)(()=>{let n=tm();return tp(n,e,{enableHardwareAcceleration:!1},tg(r),t.transformTemplate),{...n.attrs,style:{...n.style}}},[e]);if(t.style){let e={};ts(e,t.style,t),o.style={...e,...o.style}}return o}let ty=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function tb(t,{style:e,vars:n},r,i){for(let o in Object.assign(t.style,e,i&&i.getProjectionStyles(r)),n)t.style.setProperty(o,n[o])}let tw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tE(t,e,n,r){for(let n in tb(t,e,void 0,r),e.attrs)t.setAttribute(tw.has(n)?n:ty(n),e.attrs[n])}function tI(t,e){let{style:n}=t,r={};for(let i in n)(R(n[i])||e.style&&R(e.style[i])||P(i,t))&&(r[i]=n[i]);return r}function tT(t,e){let n=tI(t,e);for(let r in t)if(R(t[r])||R(e[r])){let e="x"===r||"y"===r?"attr"+r.toUpperCase():r;n[e]=t[r]}return n}function tS(t,e,n,r={},i={}){return"function"==typeof e&&(e=e(void 0!==n?n:t.custom,r,i)),"string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e&&(e=e(void 0!==n?n:t.custom,r,i)),e}let t_=t=>Array.isArray(t),tx=t=>Boolean(t&&"object"==typeof t&&t.mix&&t.toValue),tA=t=>t_(t)?t[t.length-1]||0:t;function tk(t){let e=R(t)?t.get():t;return tx(e)?e.toValue():e}let tN=t=>(e,n)=>{let r=(0,i.useContext)(s),o=(0,i.useContext)(a.O),u=()=>(function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){let s={latestValues:function(t,e,n,r){let i={},o=r(t,{});for(let t in o)i[t]=tk(o[t]);let{initial:s,animate:a}=t,u=m(t),c=g(t);e&&c&&!u&&!1!==t.inherit&&(void 0===s&&(s=e.initial),void 0===a&&(a=e.animate));let l=!!n&&!1===n.initial;l=l||!1===s;let h=l?a:s;if(h&&"boolean"!=typeof h&&!f(h)){let e=Array.isArray(h)?h:[h];e.forEach(e=>{let n=tS(t,e);if(!n)return;let{transitionEnd:r,transition:o,...s}=n;for(let t in s){let e=s[t];if(Array.isArray(e)){let t=l?e.length-1:0;e=e[t]}null!==e&&(i[t]=e)}for(let t in r)i[t]=r[t]})}return i}(r,i,o,t),renderState:e()};return n&&(s.mount=t=>n(r,t,s)),s})(t,e,r,o);return n?u():(0,E.h)(u)},tC={useVisualState:tN({scrapeMotionValuesFromProps:tT,createRenderState:tm,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){n.dimensions={x:0,y:0,width:0,height:0}}tp(n,r,{enableHardwareAcceleration:!1},tg(e.tagName),t.transformTemplate),tE(e,n)}})},tD={useVisualState:tN({scrapeMotionValuesFromProps:tI,createRenderState:to})};function tP(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}let tR=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary;function tO(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}let tL=t=>e=>tR(e)&&t(e,tO(e));function tM(t,e,n,r){return tP(t,e,tL(n),r)}let tj=(t,e)=>n=>e(t(n)),tV=(...t)=>t.reduce(tj);function tF(t){let e=null;return()=>{let n=()=>{e=null};return null===e&&(e=t,n)}}let tU=tF("dragHorizontal"),tB=tF("dragVertical");function tq(t){let e=!1;if("y"===t)e=tB();else if("x"===t)e=tU();else{let t=tU(),n=tB();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function tz(){let t=tq(!0);return!t||(t(),!1)}class tK{constructor(t){this.isMounted=!1,this.node=t}update(){}}var tG=n(6405);function tH(t,e){let n="onHover"+(e?"Start":"End"),r=(r,i)=>{if("touch"===r.type||tz())return;let o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[n]&&tG.Z_.update(()=>o[n](r,i))};return tM(t.current,"pointer"+(e?"enter":"leave"),r,{passive:!t.getProps()[n]})}let tW=(t,e)=>!!e&&(t===e||tW(t,e.parentElement));var tZ=n(1662);function t$(t,e){if(!e)return;let n=new PointerEvent("pointer"+t);e(n,tO(n))}let tX=new WeakMap,tY=new WeakMap,tQ=t=>{let e=tX.get(t.target);e&&e(t)},tJ=t=>{t.forEach(tQ)},t0={some:0,all:1};function t1(t,e){if(!Array.isArray(e))return!1;let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function t2(t,e,n){let r=t.getProps();return tS(r,e,void 0!==n?n:r.custom,function(t){let e={};return t.values.forEach((t,n)=>e[n]=t.get()),e}(t),function(t){let e={};return t.values.forEach((t,n)=>e[n]=t.getVelocity()),e}(t))}let t3="data-"+ty("framerAppearId");var t4=n(5487);let t5=t=>1e3*t,t6=t=>t/1e3,t8={current:!1},t9=t=>Array.isArray(t)&&"number"==typeof t[0],t7=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,et={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:t7([0,.65,.55,1]),circOut:t7([.55,0,1,.45]),backIn:t7([.31,.01,.66,-.59]),backOut:t7([.33,1.53,.69,.99])},ee={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},en={},er={};for(let t in ee)er[t]=()=>(void 0===en[t]&&(en[t]=ee[t]()),en[t]);let ei=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function eo(t,e,n,r){if(t===e&&n===r)return tZ.Z;let i=e=>(function(t,e,n,r,i){let o,s;let a=0;do(o=ei(s=e+(n-e)/2,r,i)-t)>0?n=s:e=s;while(Math.abs(o)>1e-7&&++a<12);return s})(e,0,1,t,n);return t=>0===t||1===t?t:ei(i(t),e,r)}let es=eo(.42,0,1,1),ea=eo(0,0,.58,1),eu=eo(.42,0,.58,1),ec=t=>Array.isArray(t)&&"number"!=typeof t[0],el=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eh=t=>e=>1-t(1-e),ef=t=>1-Math.sin(Math.acos(t)),ed=eh(ef),ep=el(ed),em=eo(.33,1.53,.69,.99),eg=eh(em),ev=el(eg),ey=t=>(t*=2)<1?.5*eg(t):.5*(2-Math.pow(2,-10*(t-1))),eb={linear:tZ.Z,easeIn:es,easeInOut:eu,easeOut:ea,circIn:ef,circInOut:ep,circOut:ed,backIn:eg,backInOut:ev,backOut:em,anticipate:ey},ew=t=>{if(Array.isArray(t)){(0,t4.k)(4===t.length,"Cubic bezier arrays must contain four numerical values.");let[e,n,r,i]=t;return eo(e,n,r,i)}return"string"==typeof t?((0,t4.k)(void 0!==eb[t],`Invalid easing type '${t}'`),eb[t]):t},eE=(t,e)=>n=>Boolean(Z(n)&&W.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),eI=(t,e,n)=>r=>{if(!Z(r))return r;let[i,o,s,a]=r.match(G);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},eT=t=>U(0,255,t),eS={...B,transform:t=>Math.round(eT(t))},e_={test:eE("rgb","red"),parse:eI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+eS.transform(t)+", "+eS.transform(e)+", "+eS.transform(n)+", "+K(q.transform(r))+")"},ex={test:eE("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:e_.transform},eA={test:eE("hsl","hue"),parse:eI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Y.transform(K(e))+", "+Y.transform(K(n))+", "+K(q.transform(r))+")"},ek={test:t=>e_.test(t)||ex.test(t)||eA.test(t),parse:t=>e_.test(t)?e_.parse(t):eA.test(t)?eA.parse(t):ex.parse(t),transform:t=>Z(t)?t:t.hasOwnProperty("red")?e_.transform(t):eA.transform(t)},eN=(t,e,n)=>-n*t+n*e+t;function eC(t,e,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?t+(e-t)*6*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}let eD=(t,e,n)=>{let r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},eP=[ex,e_,eA],eR=t=>eP.find(e=>e.test(t));function eO(t){let e=eR(t);(0,t4.k)(Boolean(e),`'${t}' is not an animatable color. Use the equivalent color code instead.`);let n=e.parse(t);return e===eA&&(n=function({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let i=0,o=0,s=0;if(e/=100){let r=n<.5?n*(1+e):n+e-n*e,a=2*n-r;i=eC(a,r,t+1/3),o=eC(a,r,t),s=eC(a,r,t-1/3)}else i=o=s=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:r}}(n)),n}let eL=(t,e)=>{let n=eO(t),r=eO(e),i={...n};return t=>(i.red=eD(n.red,r.red,t),i.green=eD(n.green,r.green,t),i.blue=eD(n.blue,r.blue,t),i.alpha=eN(n.alpha,r.alpha,t),e_.transform(i))},eM="${c}",ej="${n}";function eV(t){"number"==typeof t&&(t=`${t}`);let e=[],n=0,r=0,i=t.match(H);i&&(n=i.length,t=t.replace(H,eM),e.push(...i.map(ek.parse)));let o=t.match(G);return o&&(r=o.length,t=t.replace(G,ej),e.push(...o.map(B.parse))),{values:e,numColors:n,numNumbers:r,tokenised:t}}function eF(t){return eV(t).values}function eU(t){let{values:e,numColors:n,tokenised:r}=eV(t),i=e.length;return t=>{let e=r;for(let r=0;r<i;r++)e=e.replace(r<n?eM:ej,r<n?ek.transform(t[r]):K(t[r]));return e}}let eB=t=>"number"==typeof t?0:t,eq={test:function(t){var e,n;return isNaN(t)&&Z(t)&&((null===(e=t.match(G))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(H))||void 0===n?void 0:n.length)||0)>0},parse:eF,createTransformer:eU,getAnimatableNone:function(t){let e=eF(t),n=eU(t);return n(e.map(eB))}};function ez(t,e){return"number"==typeof t?n=>eN(t,e,n):ek.test(t)?eL(t,e):eH(t,e)}let eK=(t,e)=>{let n=[...t],r=n.length,i=t.map((t,n)=>ez(t,e[n]));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}},eG=(t,e)=>{let n={...t,...e},r={};for(let i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=ez(t[i],e[i]));return t=>{for(let e in r)n[e]=r[e](t);return n}},eH=(t,e)=>{let n=eq.createTransformer(e),r=eV(t),i=eV(e),o=r.numColors===i.numColors&&r.numNumbers>=i.numNumbers;return o?tV(eK(r.values,i.values),n):((0,t4.K)(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),n=>`${n>0?e:t}`)},eW=(t,e,n)=>{let r=e-t;return 0===r?1:(n-t)/r},eZ=(t,e)=>n=>eN(t,e,n);function e$(t,e,{clamp:n=!0,ease:r,mixer:i}={}){let o=t.length;if((0,t4.k)(o===e.length,"Both input and output ranges must be the same length"),1===o)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());let s=function(t,e,n){let r=[],i=n||function(t){if("number"==typeof t);else if("string"==typeof t)return ek.test(t)?eL:eH;else if(Array.isArray(t))return eK;else if("object"==typeof t)return eG;return eZ}(t[0]),o=t.length-1;for(let n=0;n<o;n++){let o=i(t[n],t[n+1]);if(e){let t=Array.isArray(e)?e[n]||tZ.Z:e;o=tV(t,o)}r.push(o)}return r}(e,r,i),a=s.length,u=e=>{let n=0;if(a>1)for(;n<t.length-2&&!(e<t[n+1]);n++);let r=eW(t[n],t[n+1],e);return s[n](r)};return n?e=>u(U(t[0],t[o-1],e)):u}function eX({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){let i=ec(r)?r.map(ew):ew(r),o={done:!1,value:e[0]},s=(n&&n.length===e.length?n:function(t){let e=[0];return function(t,e){let n=t[t.length-1];for(let r=1;r<=e;r++){let i=eW(0,e,r);t.push(eN(n,1,i))}}(e,t.length-1),e}(e)).map(e=>e*t),a=e$(s,e,{ease:Array.isArray(i)?i:e.map(()=>i||eu).splice(0,e.length-1)});return{calculatedDuration:t,next:e=>(o.value=a(e),o.done=e>=t,o)}}function eY(t,e,n){var r,i;let o=Math.max(e-5,0);return r=n-t(o),(i=e-o)?r*(1e3/i):0}function eQ(t,e){return t*Math.sqrt(1-e*e)}let eJ=["duration","bounce"],e0=["stiffness","damping","mass"];function e1(t,e){return e.some(e=>void 0!==t[e])}function e2({keyframes:t,restDelta:e,restSpeed:n,...r}){let i;let o=t[0],s=t[t.length-1],a={done:!1,value:o},{stiffness:u,damping:c,mass:l,velocity:h,duration:f,isResolvedFromDuration:d}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!e1(t,e0)&&e1(t,eJ)){let n=function({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;(0,t4.K)(t<=t5(10),"Spring duration must be 10 seconds or less");let s=1-e;s=U(.05,1,s),t=U(.01,10,t6(t)),s<1?(i=e=>{let r=e*s,i=r*t,o=eQ(e,s);return .001-(r-n)/o*Math.exp(-i)},o=e=>{let r=e*s,o=r*t,a=Math.pow(s,2)*Math.pow(e,2)*t,u=eQ(Math.pow(e,2),s),c=-i(e)+.001>0?-1:1;return c*((o*n+n-a)*Math.exp(-o))/u}):(i=e=>{let r=Math.exp(-e*t),i=(e-n)*t+1;return -.001+r*i},o=e=>{let r=Math.exp(-e*t),i=(n-e)*(t*t);return r*i});let a=5/t,u=function(t,e,n){let r=n;for(let n=1;n<12;n++)r-=t(r)/e(r);return r}(i,o,a);if(t=t5(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{let e=Math.pow(u,2)*r;return{stiffness:e,damping:2*s*Math.sqrt(r*e),duration:t}}}(t);(e={...e,...n,velocity:0,mass:1}).isResolvedFromDuration=!0}return e}(r),p=h?-t6(h):0,m=c/(2*Math.sqrt(u*l)),g=s-o,v=t6(Math.sqrt(u/l)),y=5>Math.abs(g);if(n||(n=y?.01:2),e||(e=y?.005:.5),m<1){let t=eQ(v,m);i=e=>s-Math.exp(-m*v*e)*((p+m*v*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}else if(1===m)i=t=>s-Math.exp(-v*t)*(g+(p+v*g)*t);else{let t=v*Math.sqrt(m*m-1);i=e=>{let n=Math.min(t*e,300);return s-Math.exp(-m*v*e)*((p+m*v*g)*Math.sinh(n)+t*g*Math.cosh(n))/t}}return{calculatedDuration:d&&f||null,next:t=>{let r=i(t);if(d)a.done=t>=f;else{let o=p;0!==t&&(o=m<1?eY(i,t,r):0);let u=Math.abs(o)<=n,c=Math.abs(s-r)<=e;a.done=u&&c}return a.value=a.done?s:r,a}}}function e3({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:u,restDelta:c=.5,restSpeed:l}){let h,f;let d=t[0],p={done:!1,value:d},m=t=>void 0!==a&&t<a||void 0!==u&&t>u,g=t=>void 0===a?u:void 0===u?a:Math.abs(a-t)<Math.abs(u-t)?a:u,v=n*e,y=d+v,b=void 0===s?y:s(y);b!==y&&(v=b-d);let w=t=>-v*Math.exp(-t/r),E=t=>b+w(t),I=t=>{let e=w(t),n=E(t);p.done=Math.abs(e)<=c,p.value=p.done?b:n},T=t=>{m(p.value)&&(h=t,f=e2({keyframes:[p.value,g(p.value)],velocity:eY(E,t,p.value),damping:i,stiffness:o,restDelta:c,restSpeed:l}))};return T(0),{calculatedDuration:null,next:t=>{let e=!1;return(f||void 0!==h||(e=!0,I(t),T(t)),void 0!==h&&t>h)?f.next(t-h):(e||I(t),p)}}}var e4=n(7367);let e5=t=>{let e=({timestamp:e})=>t(e);return{start:()=>tG.Z_.update(e,!0),stop:()=>tG.qY.update(e),now:()=>e4.w.isProcessing?e4.w.timestamp:performance.now()}},e6={decay:e3,inertia:e3,tween:eX,keyframes:eX,spring:e2};function e8({autoplay:t=!0,delay:e=0,driver:n=e5,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:u,onStop:c,onComplete:l,onUpdate:h,...f}){let d,p,m,g,v,y=1,b=!1,w=()=>{d&&d(),p=new Promise(t=>{d=t})};w();let E=e6[i]||eX;E!==eX&&"number"!=typeof r[0]&&(g=e$([0,100],r,{clamp:!1}),r=[0,100]);let I=E({...f,keyframes:r});"mirror"===a&&(v=E({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let T="idle",S=null,_=null,x=null;null===I.calculatedDuration&&o&&(I.calculatedDuration=function(t){let e=0,n=t.next(e);for(;!n.done&&e<2e4;)e+=50,n=t.next(e);return e}(I));let{calculatedDuration:A}=I,k=1/0,N=1/0;null!==A&&(N=(k=A+s)*(o+1)-s);let C=0,D=t=>{if(null===_)return;C=Math.max((C=null!==S?S:(t-_)*y)-e,0),"finished"===T&&null===S&&(C=N);let n=C,r=I;if(o){let t=C/k,e=Math.floor(t),i=t%1;!i&&t>=1&&(i=1),1===i&&e--,e=Math.min(e,o+1);let u=Boolean(e%2);u&&("reverse"===a?(i=1-i,s&&(i-=s/k)):"mirror"===a&&(r=v));let c=U(0,1,i);C>N&&(c="reverse"===a&&u?1:0),n=c*k}let i=r.next(n);g&&(i.value=g(i.value));let{done:u}=i;null!==A&&(u=C>=N);let c=null===S&&("finished"===T||"running"===T&&u||y<0&&C<=0);return h&&h(i.value),c&&O(),i},P=()=>{m&&m.stop(),m=void 0},R=()=>{T="idle",P(),w(),_=x=null},O=()=>{T="finished",l&&l(),P(),w()},L=()=>{if(b)return;m||(m=n(D));let t=m.now();u&&u(),T="running",null!==S?_=t-S:_||(_=t),x=_,S=null,m.start()};t&&L();let M={then:(t,e)=>p.then(t,e),get time(){return t6(C)},set time(newTime){C=newTime=t5(newTime),null===S&&m&&0!==y?_=m.now()-newTime/y:S=newTime},get speed(){return y},set speed(newSpeed){if(newSpeed===y||!m)return;y=newSpeed,M.time=t6(C)},get state(){return T},play:L,pause:()=>{T="paused",S=C},stop:()=>{b=!0,"idle"!==T&&(T="idle",c&&c(),R())},cancel:()=>{null!==x&&D(x),R()},complete:()=>{T="finished"},sample:t=>(_=0,D(t))};return M}let e9=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),e7=(t,e)=>"spring"===e.type||"backgroundColor"===t||!function t(e){return Boolean(!e||"string"==typeof e&&et[e]||t9(e)||Array.isArray(e)&&e.every(t))}(e.ease),nt={type:"spring",stiffness:500,damping:25,restSpeed:10},ne=t=>({type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}),nn={type:"keyframes",duration:.8},nr={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ni=(t,{keyframes:e})=>e.length>2?nn:D.has(t)?t.startsWith("scale")?ne(e[1]):nt:nr,no=(t,e)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&eq.test(e)&&!e.startsWith("url(")),ns=new Set(["brightness","contrast","saturate","opacity"]);function na(t){let[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;let[r]=n.match(G)||[];if(!r)return t;let i=n.replace(r,""),o=ns.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}let nu=/([a-z-]*)\(.*?\)/g,nc={...eq,getAnimatableNone:t=>{let e=t.match(nu);return e?e.map(na).join(" "):t}},nl={...tr,color:ek,backgroundColor:ek,outlineColor:ek,fill:ek,stroke:ek,borderColor:ek,borderTopColor:ek,borderRightColor:ek,borderBottomColor:ek,borderLeftColor:ek,filter:nc,WebkitFilter:nc},nh=t=>nl[t];function nf(t,e){let n=nh(t);return n!==nc&&(n=eq),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function nd(t){return 0===t||"string"==typeof t&&0===parseFloat(t)&&-1===t.indexOf(" ")}function np(t){return"number"==typeof t?0:nf("",t)}function nm(t,e){return t[e]||t.default||t}let ng=(t,e,n,r={})=>i=>{let o=nm(r,t)||{},s=o.delay||r.delay||0,{elapsed:a=0}=r;a-=t5(s);let u=function(t,e,n,r){let i=no(e,n),o=void 0!==r.from?r.from:t.get();if("none"===o&&i&&"string"==typeof n?o=nf(e,n):nd(o)&&"string"==typeof n?o=np(n):!Array.isArray(n)&&nd(n)&&"string"==typeof o&&(n=np(o)),!Array.isArray(n))return[o,n];for(let t=0;t<n.length;t++)null===n[t]&&(n[t]=0===t?o:n[t-1]);return n}(e,t,n,o),c=u[0],l=u[u.length-1],h=no(t,c),f=no(t,l);(0,t4.K)(h===f,`You are trying to animate ${t} from "${c}" to "${l}". ${c} is not an animatable value - to enable this animation set ${c} to a value animatable to ${l} via the \`style\` property.`);let d={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:t=>{e.set(t),o.onUpdate&&o.onUpdate(t)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(!h||!f||t8.current||!1===o.type)return function({keyframes:t,delay:e,onUpdate:n,onComplete:r}){let i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,play:tZ.Z,pause:tZ.Z,stop:tZ.Z,then:t=>(t(),Promise.resolve()),cancel:tZ.Z,complete:tZ.Z});return e?e8({keyframes:[0,1],duration:e,onComplete:i}):i()}(d);if(!function({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:u,elapsed:c,...l}){return!!Object.keys(l).length}(o)&&(d={...d,...ni(t,d)}),d.duration&&(d.duration=t5(d.duration)),d.repeatDelay&&(d.repeatDelay=t5(d.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){let n=function(t,e,{onUpdate:n,onComplete:r,...i}){let o,s;let a=er.waapi()&&e9.has(e)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type;if(!a)return!1;let u=!1,c=()=>{s=new Promise(t=>{o=t})};c();let{keyframes:l,duration:h=300,ease:f}=i;if(e7(e,i)){let t=e8({...i,repeat:0,delay:0}),e={done:!1,value:l[0]},n=[],r=0;for(;!e.done&&r<2e4;)n.push((e=t.sample(r)).value),r+=10;l=n,h=r-10,f="linear"}let d=function(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:u}={}){let c={[e]:n};u&&(c.offset=u);let l=function t(e){if(e)return t9(e)?t7(e):Array.isArray(e)?e.map(t):et[e]}(a);return Array.isArray(l)&&(c.easing=l),t.animate(c,{delay:r,duration:i,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(t.owner.current,e,l,{...i,duration:h,ease:f}),p=()=>{tG.Z_.update(()=>d.cancel()),o(),c()};return d.onfinish=()=>{t.set(function(t,{repeat:e,repeatType:n="loop"}){let r=e&&"loop"!==n&&e%2==1?0:t.length-1;return t[r]}(l,i)),r&&r(),p()},{then:(t,e)=>s.then(t,e),get time(){return t6(d.currentTime||0)},set time(newTime){d.currentTime=t5(newTime)},get speed(){return d.playbackRate},set speed(newSpeed){d.playbackRate=newSpeed},play:()=>{u||d.play()},pause:()=>d.pause(),stop:()=>{if(u=!0,"idle"===d.playState)return;let{currentTime:e}=d;if(e){let n=e8({...i,autoplay:!1});t.setWithVelocity(n.sample(e-10).value,n.sample(e).value,10)}p()},complete:()=>d.finish(),cancel:p}}(e,t,d);if(n)return n}return e8(d)};function nv(t){return Boolean(R(t)&&t.add)}let ny=t=>/^\-?\d*\.?\d+$/.test(t),nb=t=>/^0[^.\s]+$/.test(t);function nw(t,e){-1===t.indexOf(e)&&t.push(e)}function nE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}class nI{constructor(){this.subscriptions=[]}add(t){return nw(this.subscriptions,t),()=>nE(this.subscriptions,t)}notify(t,e,n){let r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(t,e,n)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let nT=t=>!isNaN(parseFloat(t));class nS{constructor(t,e={}){this.version="10.9.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(t,e=!0)=>{this.prev=this.current,this.current=t;let{delta:n,timestamp:r}=e4.w;this.lastUpdated!==r&&(this.timeDelta=n,this.lastUpdated=r,tG.Z_.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tG.Z_.postRender(this.velocityCheck),this.velocityCheck=({timestamp:t})=>{t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=nT(this.current),this.owner=e.owner}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new nI);let n=this.events[t].add(e);return"change"===t?()=>{n(),tG.Z_.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){var t,e;return this.canTrackVelocity?(t=parseFloat(this.current)-parseFloat(this.prev),(e=this.timeDelta)?t*(1e3/e):0):0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function n_(t,e){return new nS(t,e)}let nx=t=>e=>e.test(t),nA=[B,Q,Y,X,tt,J,{test:t=>"auto"===t,parse:t=>t}],nk=t=>nA.find(nx(t)),nN=[...nA,ek,eq],nC=t=>nN.find(nx(t));function nD(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e),u=t.getValue("willChange");r&&(o=r);let c=[],l=i&&t.animationState&&t.animationState.getState()[i];for(let e in a){let r=t.getValue(e),i=a[e];if(!r||void 0===i||l&&function({protectedKeys:t,needsAnimating:e},n){let r=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,r}(l,e))continue;let s={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!r.hasAnimated){let n=t.getProps()[t3];n&&(s.elapsed=window.HandoffAppearAnimations(n,e,r,tG.Z_))}r.start(ng(e,r,i,t.shouldReduceMotion&&D.has(e)?{type:!1}:s));let h=r.animation;nv(u)&&(u.add(e),h.then(()=>u.remove(e))),c.push(h)}return s&&Promise.all(c).then(()=>{s&&function(t,e){let n=t2(t,e),{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};for(let e in o={...o,...r}){var s;let n=tA(o[e]);s=e,t.hasValue(s)?t.getValue(s).set(n):t.addValue(s,n_(n))}}(t,s)}),c}function nP(t,e,n={}){let r=t2(t,e,n.custom),{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);let o=r?()=>Promise.all(nD(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(r=0)=>{let{delayChildren:o=0,staggerChildren:s,staggerDirection:a}=i;return function(t,e,n=0,r=0,i=1,o){let s=[],a=(t.variantChildren.size-1)*r,u=1===i?(t=0)=>t*r:(t=0)=>a-t*r;return Array.from(t.variantChildren).sort(nR).forEach((t,r)=>{t.notify("AnimationStart",e),s.push(nP(t,e,{...o,delay:n+u(r)}).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(s)}(t,e,o+r,s,a,n)}:()=>Promise.resolve(),{when:a}=i;if(!a)return Promise.all([o(),s(n.delay)]);{let[t,e]="beforeChildren"===a?[o,s]:[s,o];return t().then(()=>e())}}function nR(t,e){return t.sortNodePosition(e)}let nO=[...d].reverse(),nL=d.length;function nM(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let nj=0,nV=(t,e)=>Math.abs(t-e);class nF{constructor(t,e,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let t=nq(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){let n=nV(t.x,e.x),r=nV(t.y,e.y);return Math.sqrt(n**2+r**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;let{point:r}=t,{timestamp:i}=e4.w;this.history.push({...r,timestamp:i});let{onStart:o,onMove:s}=this.handlers;e||(o&&o(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=nU(e,this.transformPagePoint),tG.Z_.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let{onEnd:n,onSessionEnd:r}=this.handlers,i=nq("pointercancel"===t.type?this.lastMoveEventInfo:nU(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,i),r&&r(t,i)},!tR(t))return;this.handlers=e,this.transformPagePoint=n;let r=tO(t),i=nU(r,this.transformPagePoint),{point:o}=i,{timestamp:s}=e4.w;this.history=[{...o,timestamp:s}];let{onSessionStart:a}=e;a&&a(t,nq(i,this.history)),this.removeListeners=tV(tM(window,"pointermove",this.handlePointerMove),tM(window,"pointerup",this.handlePointerUp),tM(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),tG.qY.update(this.updatePoint)}}function nU(t,e){return e?{point:e(t.point)}:t}function nB(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nq({point:t},e){return{point:t,delta:nB(t,nz(e)),offset:nB(t,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null,i=nz(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>t5(.1)));)n--;if(!r)return{x:0,y:0};let o=t6(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};let s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(e,0)}}function nz(t){return t[t.length-1]}function nK(t){return t.max-t.min}function nG(t,e=0,n=.01){return Math.abs(t-e)<=n}function nH(t,e,n,r=.5){t.origin=r,t.originPoint=eN(e.min,e.max,t.origin),t.scale=nK(n)/nK(e),(nG(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=eN(n.min,n.max,t.origin)-t.originPoint,(nG(t.translate)||isNaN(t.translate))&&(t.translate=0)}function nW(t,e,n,r){nH(t.x,e.x,n.x,r?r.originX:void 0),nH(t.y,e.y,n.y,r?r.originY:void 0)}function nZ(t,e,n){t.min=n.min+e.min,t.max=t.min+nK(e)}function n$(t,e,n){t.min=e.min-n.min,t.max=t.min+nK(e)}function nX(t,e,n){n$(t.x,e.x,n.x),n$(t.y,e.y,n.y)}function nY(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function nQ(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nJ(t,e,n){return{min:n0(t,e),max:n0(t,n)}}function n0(t,e){return"number"==typeof t?t:t[e]||0}let n1=()=>({translate:0,scale:1,origin:0,originPoint:0}),n2=()=>({x:n1(),y:n1()}),n3=()=>({min:0,max:0}),n4=()=>({x:n3(),y:n3()});function n5(t){return[t("x"),t("y")]}function n6({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function n8(t){return void 0===t||1===t}function n9({scale:t,scaleX:e,scaleY:n}){return!n8(t)||!n8(e)||!n8(n)}function n7(t){return n9(t)||rt(t)||t.z||t.rotate||t.rotateX||t.rotateY}function rt(t){var e,n;return(e=t.x)&&"0%"!==e||(n=t.y)&&"0%"!==n}function re(t,e,n,r,i){return void 0!==i&&(t=r+i*(t-r)),r+n*(t-r)+e}function rn(t,e=0,n=1,r,i){t.min=re(t.min,e,n,r,i),t.max=re(t.max,e,n,r,i)}function rr(t,{x:e,y:n}){rn(t.x,e.translate,e.scale,e.originPoint),rn(t.y,n.translate,n.scale,n.originPoint)}function ri(t){return Number.isInteger(t)?t:t>1.0000000000001||t<.999999999999?t:1}function ro(t,e){t.min=t.min+e,t.max=t.max+e}function rs(t,e,[n,r,i]){let o=void 0!==e[i]?e[i]:.5,s=eN(t.min,t.max,o);rn(t,e[n],e[r],s,e.scale)}let ra=["x","scaleX","originX"],ru=["y","scaleY","originY"];function rc(t,e){rs(t.x,e,ra),rs(t.y,e,ru)}function rl(t,e){return n6(function(t,e){if(!e)return t;let n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}let rh=new WeakMap;class rf{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=n4(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){let{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;let r=t=>{this.stopAnimation(),e&&this.snapToCursor(tO(t,"page").point)},i=(t,e)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=tq(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),n5(t=>{let e=this.getAxisMotionValue(t).get()||0;if(Y.test(e)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[t];if(r){let t=nK(r);e=t*(parseFloat(e)/100)}}}this.originPoint[t]=e}),i&&tG.Z_.update(()=>i(t,e));let{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},o=(t,e)=>{let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;let{offset:s}=e;if(r&&null===this.currentDirection){this.currentDirection=function(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(s),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",e.point,s),this.updateAxis("y",e.point,s),this.visualElement.render(),o&&o(t,e)},s=(t,e)=>this.stop(t,e);this.panSession=new nF(t,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:s},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,e){let n=this.isDragging;if(this.cancel(),!n)return;let{velocity:r}=e;this.startAnimation(r);let{onDragEnd:i}=this.getProps();i&&tG.Z_.update(()=>i(t,e))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){let{drag:r}=this.getProps();if(!n||!rd(t,r,this.currentDirection))return;let i=this.getAxisMotionValue(t),o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=function(t,{min:e,max:n},r){return void 0!==e&&t<e?t=r?eN(e,t,r.min):Math.max(t,e):void 0!==n&&t>n&&(t=r?eN(n,t,r.max):Math.min(t,n)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){let{dragConstraints:t,dragElastic:e}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;t&&l(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=function(t,{top:e,left:n,bottom:r,right:i}){return{x:nY(t.x,n,i),y:nY(t.y,e,r)}}(n.layoutBox,t):this.constraints=!1,this.elastic=function(t=.35){return!1===t?t=0:!0===t&&(t=.35),{x:nJ(t,"left","right"),y:nJ(t,"top","bottom")}}(e),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&n5(t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){let n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(n.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){var t;let{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!l(e))return!1;let r=e.current;(0,t4.k)(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let o=function(t,e,n){let r=rl(t,n),{scroll:i}=e;return i&&(ro(r.x,i.offset.x),ro(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),s={x:nQ((t=i.layout.layoutBox).x,o.x),y:nQ(t.y,o.y)};if(n){let t=n(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(s));this.hasMutatedConstraints=!!t,t&&(s=n6(t))}return s}startAnimation(t){let{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},u=n5(s=>{if(!rd(s,e,this.currentDirection))return;let u=a&&a[s]||{};o&&(u={min:0,max:0});let c={type:"inertia",velocity:n?t[s]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(s,c)});return Promise.all(u).then(s)}startAxisValueAnimation(t,e){let n=this.getAxisMotionValue(t);return n.start(ng(t,n,0,e))}stopAnimation(){n5(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){let e="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){n5(e=>{let{drag:n}=this.getProps();if(!rd(e,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){let{min:n,max:o}=r.layout.layoutBox[e];i.set(t[e]-eN(n,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!l(e)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};n5(t=>{let e=this.getAxisMotionValue(t);if(e){let n=e.get();r[t]=function(t,e){let n=.5,r=nK(t),i=nK(e);return i>r?n=eW(e.min,e.max-r,t.min):r>i&&(n=eW(t.min,t.max-i,e.min)),U(0,1,n)}({min:n,max:n},this.constraints[t])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),n5(e=>{if(!rd(e,t,null))return;let n=this.getAxisMotionValue(e),{min:i,max:o}=this.constraints[e];n.set(eN(i,o,r[e]))})}addListeners(){if(!this.visualElement.current)return;rh.set(this.visualElement,this);let t=this.visualElement.current,e=tM(t,"pointerdown",t=>{let{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)}),n=()=>{let{dragConstraints:t}=this.getProps();l(t)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();let o=tP(window,"resize",()=>this.scalePositionWithinConstraints()),s=r.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(n5(e=>{let n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{o(),e(),i(),s&&s()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=.35,dragMomentum:s=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function rd(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}let rp=t=>(e,n)=>{t&&tG.Z_.update(()=>t(e,n))};function rm(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}let rg={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!Q.test(t))return t;t=parseFloat(t)}let n=rm(t,e.target.x),r=rm(t,e.target.y);return`${n}% ${r}%`}},rv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ry(t,e,n=1){(0,t4.k)(n<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[r,i]=function(t){let e=rv.exec(t);if(!e)return[,];let[,n,r]=e;return[n,r]}(t);if(!r)return;let o=window.getComputedStyle(e).getPropertyValue(r);return o?o.trim():V(i)?ry(i,e,n+1):i}let rb="_$css",rw={correct:(t,{treeScale:e,projectionDelta:n})=>{let r=t,i=t.includes("var("),o=[];i&&(t=t.replace(rv,t=>(o.push(t),rb)));let s=eq.parse(t);if(s.length>5)return r;let a=eq.createTransformer(t),u="number"!=typeof s[0]?1:0,c=n.x.scale*e.x,l=n.y.scale*e.y;s[0+u]/=c,s[1+u]/=l;let h=eN(c,l,.5);"number"==typeof s[2+u]&&(s[2+u]/=h),"number"==typeof s[3+u]&&(s[3+u]/=h);let f=a(s);if(i){let t=0;f=f.replace(rb,()=>{let e=o[t];return t++,e})}return f}};class rE extends i.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;Object.assign(N,rT),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),I.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,r||t.layoutDependency!==e||void 0===e?o.willUpdate():this.safeToRemove(),t.isPresent===i||(i?o.promote():o.relegate()||tG.Z_.postRender(()=>{let t=o.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rI(t){let[e,n]=function(){let t=(0,i.useContext)(a.O);if(null===t)return[!0,null];let{isPresent:e,onExitComplete:n,register:r}=t,o=(0,i.useId)();(0,i.useEffect)(()=>r(o),[]);let s=()=>n&&n(o);return!e&&n?[!1,s]:[!0]}(),r=(0,i.useContext)(S.p);return i.createElement(rE,{...t,layoutGroup:r,switchLayoutGroup:(0,i.useContext)(_),isPresent:e,safeToRemove:n})}let rT={borderRadius:{...rg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rg,borderTopRightRadius:rg,borderBottomLeftRadius:rg,borderBottomRightRadius:rg,boxShadow:rw},rS=["TopLeft","TopRight","BottomLeft","BottomRight"],r_=rS.length,rx=t=>"string"==typeof t?parseFloat(t):t,rA=t=>"number"==typeof t||Q.test(t);function rk(t,e){return void 0!==t[e]?t[e]:t.borderRadius}let rN=rD(0,.5,ed),rC=rD(.5,.95,tZ.Z);function rD(t,e,n){return r=>r<t?0:r>e?1:n(eW(t,e,r))}function rP(t,e){t.min=e.min,t.max=e.max}function rR(t,e){rP(t.x,e.x),rP(t.y,e.y)}function rO(t,e,n,r,i){return t-=e,t=r+1/n*(t-r),void 0!==i&&(t=r+1/i*(t-r)),t}function rL(t,e,[n,r,i],o,s){!function(t,e=0,n=1,r=.5,i,o=t,s=t){if(Y.test(e)){e=parseFloat(e);let t=eN(s.min,s.max,e/100);e=t-s.min}if("number"!=typeof e)return;let a=eN(o.min,o.max,r);t===o&&(a-=e),t.min=rO(t.min,e,n,a,i),t.max=rO(t.max,e,n,a,i)}(t,e[n],e[r],e[i],e.scale,o,s)}let rM=["x","scaleX","originX"],rj=["y","scaleY","originY"];function rV(t,e,n,r){rL(t.x,e,rM,n?n.x:void 0,r?r.x:void 0),rL(t.y,e,rj,n?n.y:void 0,r?r.y:void 0)}function rF(t){return 0===t.translate&&1===t.scale}function rU(t){return rF(t.x)&&rF(t.y)}function rB(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function rq(t){return nK(t.x)/nK(t.y)}class rz{constructor(){this.members=[]}add(t){nw(this.members,t),t.scheduleRender()}remove(t){if(nE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let e;let n=this.members.findIndex(e=>t===e);if(0===n)return!1;for(let t=n;t>=0;t--){let n=this.members[t];if(!1!==n.isPresent){e=n;break}}return!!e&&(this.promote(e),!0)}promote(t,e){let n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rK(t,e,n){let r="",i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(1!==e.x||1!==e.y)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){let{rotate:t,rotateX:e,rotateY:i}=n;t&&(r+=`rotate(${t}deg) `),e&&(r+=`rotateX(${e}deg) `),i&&(r+=`rotateY(${i}deg) `)}let s=t.x.scale*e.x,a=t.y.scale*e.y;return(1!==s||1!==a)&&(r+=`scale(${s}, ${a})`),r||"none"}let rG=(t,e)=>t.depth-e.depth;class rH{constructor(){this.children=[],this.isDirty=!1}add(t){nw(this.children,t),this.isDirty=!0}remove(t){nE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rG),this.isDirty=!1,this.children.forEach(t)}}let rW=["","X","Y","Z"],rZ=0,r$={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rX({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(t,n={},r=null==e?void 0:e()){this.id=rZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{r$.totalNodes=r$.resolvedTargetDeltas=r$.recalculatedProjection=0,this.nodes.forEach(rJ),this.nodes.forEach(r5),this.nodes.forEach(r6),this.nodes.forEach(r0),window.MotionDebug&&window.MotionDebug.record(r$)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=t,this.latestValues=n,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new rH)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new nI),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){let n=this.eventHandlers.get(t);n&&n.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}registerPotentialNode(t,e){this.potentialNodes.set(t,e)}mount(e,n=!1){if(this.instance)return;this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;let{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),n&&(i||r)&&(this.isLayoutDirty=!0),t){let n;let r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(t,e){let n=performance.now(),r=({timestamp:i})=>{let o=i-n;o>=e&&(tG.qY.read(r),t(o-e))};return tG.Z_.read(r,!0),()=>tG.qY.read(r)}(r,250),I.hasAnimatedSinceResize&&(I.hasAnimatedSinceResize=!1,this.nodes.forEach(r4))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||o.getDefaultTransition()||ir,{onLayoutAnimationStart:s,onLayoutAnimationComplete:a}=o.getProps(),u=!this.targetLayout||!rB(this.targetLayout,r)||n,c=!e&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||e&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,c);let e={...nm(i,"layout"),onPlay:s,onComplete:a};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||0!==this.animationProgress||r4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tG.qY.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r8),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}let{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}didUpdate(){let t=this.isUpdateBlocked();if(t){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r2);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(ii),this.potentialNodes.clear()),this.nodes.forEach(r3),this.nodes.forEach(rY),this.nodes.forEach(rQ),this.clearAllSnapshots(),tG.iW.update(),tG.iW.preRender(),tG.iW.render())}clearAllSnapshots(){this.nodes.forEach(r1),this.sharedNodes.forEach(r9)}scheduleUpdateProjection(){tG.Z_.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){tG.Z_.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++){let e=this.path[t];e.updateScroll()}let t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=n4(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;let t=this.isLayoutDirty||this.shouldResetTransform,e=this.projectionDelta&&!rU(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;t&&(e||n7(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){var e;let n=this.measurePageBox(),r=this.removeElementScroll(n);return t&&(r=this.removeTransform(r)),io((e=r).x),io(e.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:t}=this.options;if(!t)return n4();let e=t.measureViewportBox(),{scroll:n}=this.root;return n&&(ro(e.x,n.offset.x),ro(e.y,n.offset.y)),e}removeElementScroll(t){let e=n4();rR(e,t);for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){rR(e,t);let{scroll:n}=this.root;n&&(ro(e.x,-n.offset.x),ro(e.y,-n.offset.y))}ro(e.x,i.offset.x),ro(e.y,i.offset.y)}}return e}applyTransform(t,e=!1){let n=n4();rR(n,t);for(let t=0;t<this.path.length;t++){let r=this.path[t];!e&&r.options.layoutScroll&&r.scroll&&r!==r.root&&rc(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),n7(r.latestValues)&&rc(n,r.latestValues)}return n7(this.latestValues)&&rc(n,this.latestValues),n}removeTransform(t){let e=n4();rR(e,t);for(let t=0;t<this.path.length;t++){let n=this.path[t];if(!n.instance||!n7(n.latestValues))continue;n9(n.latestValues)&&n.updateSnapshot();let r=n4(),i=n.measurePageBox();rR(r,i),rV(e,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return n7(this.latestValues)&&rV(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(t=!1){var e,n,r,i;let o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);let s=Boolean(this.resumingFrom)||this!==o,a=!(t||s&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget);if(a)return;let{layout:u,layoutId:c}=this.options;if(this.layout&&(u||c)){if(this.resolvedRelativeTargetAt=e4.w.timestamp,!this.targetDelta&&!this.relativeTarget){let t=this.getClosestProjectingParent();t&&t.layout?(this.relativeParent=t,this.relativeTarget=n4(),this.relativeTargetOrigin=n4(),nX(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),rR(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=n4(),this.targetWithTransforms=n4()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.relativeParent.resolvedRelativeTargetAt!==e4.w.timestamp&&this.relativeParent.resolveTargetDelta(!0),n=this.target,r=this.relativeTarget,i=this.relativeParent.target,nZ(n.x,r.x,i.x),nZ(n.y,r.y,i.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):rR(this.target,this.layout.layoutBox),rr(this.target,this.targetDelta)):rR(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target?(this.relativeParent=t,this.relativeTarget=n4(),this.relativeTargetOrigin=n4(),nX(this.relativeTargetOrigin,this.target,t.target),rR(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}r$.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||n9(this.parent.latestValues)||rt(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;let e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e,r=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===e4.w.timestamp&&(r=!1),r)return;let{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||o))return;rR(this.layoutCorrected,this.layout.layoutBox),function(t,e,n,r=!1){let i,o;let s=n.length;if(s){e.x=e.y=1;for(let a=0;a<s;a++){o=(i=n[a]).projectionDelta;let s=i.instance;(!s||!s.style||"contents"!==s.style.display)&&(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&rc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,rr(t,o)),r&&n7(i.latestValues)&&rc(t,i.latestValues))}e.x=ri(e.x),e.y=ri(e.y)}}(this.layoutCorrected,this.treeScale,this.path,n);let{target:s}=e;if(!s)return;this.projectionDelta||(this.projectionDelta=n2(),this.projectionDeltaWithTransform=n2());let a=this.treeScale.x,u=this.treeScale.y,c=this.projectionTransform;nW(this.projectionDelta,this.layoutCorrected,s,this.latestValues),this.projectionTransform=rK(this.projectionDelta,this.treeScale),(this.projectionTransform!==c||this.treeScale.x!==a||this.treeScale.y!==u)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",s)),r$.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),t){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t,e=!1){let n;let r=this.snapshot,i=r?r.latestValues:{},o={...this.latestValues},s=n2();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;let a=n4(),u=r?r.source:void 0,c=this.layout?this.layout.source:void 0,l=u!==c,h=this.getStack(),f=!h||h.members.length<=1,d=Boolean(l&&!f&&!0===this.options.crossfade&&!this.path.some(ie));this.animationProgress=0,this.mixTargetDelta=e=>{var r,u;let c=e/1e3;r7(s.x,t.x,c),r7(s.y,t.y,c),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nX(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r=this.relativeTarget,u=this.relativeTargetOrigin,it(r.x,u.x,a.x,c),it(r.y,u.y,a.y,c),n&&rB(this.relativeTarget,n)&&(this.isProjectionDirty=!1),n||(n=n4()),rR(n,this.relativeTarget)),l&&(this.animationValues=o,function(t,e,n,r,i,o){i?(t.opacity=eN(0,void 0!==n.opacity?n.opacity:1,rN(r)),t.opacityExit=eN(void 0!==e.opacity?e.opacity:1,0,rC(r))):o&&(t.opacity=eN(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<r_;i++){let o=`border${rS[i]}Radius`,s=rk(e,o),a=rk(n,o);if(void 0===s&&void 0===a)continue;s||(s=0),a||(a=0);let u=0===s||0===a||rA(s)===rA(a);u?(t[o]=Math.max(eN(rx(s),rx(a),r),0),(Y.test(a)||Y.test(s))&&(t[o]+="%")):t[o]=a}(e.rotate||n.rotate)&&(t.rotate=eN(e.rotate||0,n.rotate||0,r))}(o,i,this.latestValues,c,d,f)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=c},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tG.qY.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tG.Z_.update(()=>{I.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n){let r=R(t)?t:n_(t);return r.start(ng("",r,1e3,n)),r.animation}(0,0,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&is(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||n4();let e=nK(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;let r=nK(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}rR(e,n),rc(e,i),nW(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new rz);let n=this.sharedNodes.get(t);n.add(e);let r=e.options.initialPromotionConfig;e.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(e):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){var t;let{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;let{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){let{visualElement:t}=this.options;if(!t)return;let e=!1,{latestValues:n}=t;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(e=!0),!e)return;let r={};for(let e=0;e<rW.length;e++){let i="rotate"+rW[e];n[i]&&(r[i]=n[i],t.setStaticValue(i,0))}for(let e in t.render(),r)t.setStaticValue(e,r[e]);t.scheduleRender()}getProjectionStyles(t={}){var e,n;let r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";let i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=tk(t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;let o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){let e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=tk(t.pointerEvents)||""),this.hasProjected&&!n7(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}let s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=rK(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));let{x:a,y:u}=this.projectionDelta;for(let t in r.transformOrigin=`${100*a.origin}% ${100*u.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,N){if(void 0===s[t])continue;let{correct:e,applyTo:n}=N[t],i="none"===r.transform?s[t]:e(s[t],o);if(n){let t=n.length;for(let e=0;e<t;e++)r[n[e]]=i}else r[t]=i}return this.options.layoutId&&(r.pointerEvents=o===this?tk(t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(r2),this.root.sharedNodes.clear()}}}function rY(t){t.updateLayout()}function rQ(t){var e;let n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){let{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;"size"===i?n5(t=>{let r=o?n.measuredBox[t]:n.layoutBox[t],i=nK(r);r.min=e[t].min,r.max=r.min+i}):is(i,n.layoutBox,e)&&n5(r=>{let i=o?n.measuredBox[r]:n.layoutBox[r],s=nK(e[r]);i.max=i.min+s,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+s)});let s=n2();nW(s,e,n.layoutBox);let a=n2();o?nW(a,t.applyTransform(r,!0),n.measuredBox):nW(a,e,n.layoutBox);let u=!rU(s),c=!1;if(!t.resumeFrom){let r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:o}=r;if(i&&o){let s=n4();nX(s,n.layoutBox,i.layoutBox);let a=n4();nX(a,e,o.layoutBox),rB(s,a)||(c=!0),r.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=s,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){let{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function rJ(t){r$.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function r0(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function r1(t){t.clearSnapshot()}function r2(t){t.clearMeasurements()}function r3(t){let{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function r4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function r5(t){t.resolveTargetDelta()}function r6(t){t.calcProjection()}function r8(t){t.resetRotation()}function r9(t){t.removeLeadSnapshot()}function r7(t,e,n){t.translate=eN(e.translate,0,n),t.scale=eN(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function it(t,e,n,r){t.min=eN(e.min,n.min,r),t.max=eN(e.max,n.max,r)}function ie(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}let ir={duration:.45,ease:[.4,0,.1,1]};function ii(t,e){let n=t.root;for(let e=t.path.length-1;e>=0;e--)if(Boolean(t.path[e].instance)){n=t.path[e];break}let r=n&&n!==t.root?n.instance:document,i=r.querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function io(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function is(t,e,n){return"position"===t||"preserve-aspect"===t&&!nG(rq(e),rq(n),.2)}let ia=rX({attachResizeListener:(t,e)=>tP(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iu={current:void 0},ic=rX({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!iu.current){let t=new ia(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),iu.current=t}return iu.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),il=new Set(["width","height","top","left","right","bottom","x","y"]),ih=t=>il.has(t),id=t=>Object.keys(t).some(ih),ip=t=>t===B||t===Q,im=(t,e)=>parseFloat(t.split(", ")[e]),ig=(t,e)=>(n,{transform:r})=>{if("none"===r||!r)return 0;let i=r.match(/^matrix3d\((.+)\)$/);if(i)return im(i[1],e);{let e=r.match(/^matrix\((.+)\)$/);return e?im(e[1],t):0}},iv=new Set(["x","y","z"]),iy=C.filter(t=>!iv.has(t)),ib={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ig(4,13),y:ig(5,14)},iw=(t,e,n)=>{let r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};"none"===s&&e.setStaticValue("display",t.display||"block"),n.forEach(t=>{a[t]=ib[t](r,o)}),e.render();let u=e.measureViewportBox();return n.forEach(n=>{let r=e.getValue(n);r&&r.jump(a[n]),t[n]=ib[n](u,o)}),t},iE=(t,e,n={},r={})=>{e={...e},r={...r};let i=Object.keys(e).filter(ih),o=[],s=!1,a=[];if(i.forEach(i=>{let u;let c=t.getValue(i);if(!t.hasValue(i))return;let l=n[i],h=nk(l),f=e[i];if(t_(f)){let t=f.length,e=null===f[0]?1:0;h=nk(l=f[e]);for(let n=e;n<t;n++)u?(0,t4.k)(nk(f[n])===u,"All keyframes must be of the same type"):(u=nk(f[n]),(0,t4.k)(u===h||ip(h)&&ip(u),"Keyframes must be of the same dimension as the current value"))}else u=nk(f);if(h!==u){if(ip(h)&&ip(u)){let t=c.get();"string"==typeof t&&c.set(parseFloat(t)),"string"==typeof f?e[i]=parseFloat(f):Array.isArray(f)&&u===Q&&(e[i]=f.map(parseFloat))}else(null==h?void 0:h.transform)&&(null==u?void 0:u.transform)&&(0===l||0===f)?0===l?c.set(u.transform(l)):e[i]=h.transform(f):(s||(o=function(t){let e=[];return iy.forEach(n=>{let r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}(t),s=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:e[i],c.jump(f))}}),!a.length)return{target:e,transitionEnd:r};{let n=a.indexOf("height")>=0?window.pageYOffset:null,i=iw(e,t,a);return o.length&&o.forEach(([e,n])=>{t.getValue(e).set(n)}),t.render(),w.j&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}},iI=(t,e,n,r)=>{var i,o;let s=function(t,{...e},n){let r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};for(let i in n&&(n={...n}),t.values.forEach(t=>{let e=t.get();if(!V(e))return;let n=ry(e,r);n&&t.set(n)}),e){let t=e[i];if(!V(t))continue;let o=ry(t,r);o&&(e[i]=o,n||(n={}),void 0===n[i]&&(n[i]=t))}return{target:e,transitionEnd:n}}(t,e,r);return e=s.target,r=s.transitionEnd,i=e,o=r,id(i)?iE(t,i,n,o):{target:i,transitionEnd:o}},iT={current:null},iS={current:!1},i_=new WeakMap,ix=Object.keys(b),iA=ix.length,ik=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],iN=p.length;class iC{constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tG.Z_.render(this.render,!1,!0);let{latestValues:s,renderState:a}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=e.initial?{...s}:{},this.renderState=a,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=m(e),this.isVariantNode=g(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);let{willChange:u,...c}=this.scrapeMotionValuesFromProps(e,{});for(let t in c){let e=c[t];void 0!==s[t]&&R(e)&&(e.set(s[t],!1),nv(u)&&u.add(t))}}scrapeMotionValuesFromProps(t,e){return{}}mount(t){this.current=t,i_.set(t,this),this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),iS.current||function(){if(iS.current=!0,w.j){if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iT.current=t.matches;t.addListener(e),e()}else iT.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||iT.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in i_.delete(this.current),this.projection&&this.projection.unmount(),tG.qY.update(this.notifyUpdate),tG.qY.render(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[t].clear();for(let t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,e){let n=D.has(t),r=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&tG.Z_.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{r(),i()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}loadFeatures({children:t,...e},n,r,i,o){let s,a;for(let t=0;t<iA;t++){let n=ix[t],{isEnabled:r,Feature:i,ProjectionNode:o,MeasureLayout:u}=b[n];o&&(s=o),r(e)&&(!this.features[n]&&i&&(this.features[n]=new i(this)),u&&(a=u))}if(!this.projection&&s){this.projection=new s(i,this.latestValues,this.parent&&this.parent.projection);let{layoutId:t,layout:n,drag:r,dragConstraints:a,layoutScroll:u,layoutRoot:c}=e;this.projection.setOptions({layoutId:t,layout:n,alwaysMeasureLayout:Boolean(r)||a&&l(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:o,layoutScroll:u,layoutRoot:c})}return a}updateFeatures(){for(let t in this.features){let e=this.features[t];e.isMounted?e.update(this.props,this.prevProps):(e.mount(),e.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):n4()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}makeTargetAnimatable(t,e=!0){return this.makeTargetAnimatableFromInstance(t,this.props,e)}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<ik.length;e++){let n=ik[e];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=t["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(t,e,n){let{willChange:r}=e;for(let i in e){let o=e[i],s=n[i];if(R(o))t.addValue(i,o),nv(r)&&r.add(i);else if(R(s))t.addValue(i,n_(o,{owner:t})),nv(r)&&r.remove(i);else if(s!==o){if(t.hasValue(i)){let e=t.getValue(i);e.hasAnimated||e.set(o)}else{let e=t.getStaticValue(i);t.addValue(i,n_(void 0!==e?e:o,{owner:t}))}}}for(let r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){let t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}let e={};for(let t=0;t<iN;t++){let n=p[t],r=this.props[n];(h(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(t){let e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){e!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,e)),this.values.set(t,e),this.latestValues[t]=e.get()}removeValue(t){this.values.delete(t);let e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=n_(e,{owner:this}),this.addValue(t,n)),n}readValue(t){return void 0===this.latestValues[t]&&this.current?this.readValueFromInstance(this.current,t,this.options):this.latestValues[t]}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;let{initial:n}=this.props,r="string"==typeof n||"object"==typeof n?null===(e=tS(this.props,n))||void 0===e?void 0:e[t]:void 0;if(n&&void 0!==r)return r;let i=this.getBaseTargetFromProps(this.props,t);return void 0===i||R(i)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new nI),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class iD extends iC{sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:e,...n},{transformValues:r},i){let o=function(t,e,n){let r={};for(let i in t){let t=function(t,e){if(!e)return;let n=e[t]||e.default||e;return n.from}(i,e);if(void 0!==t)r[i]=t;else{let t=n.getValue(i);t&&(r[i]=t.get())}}return r}(n,t||{},this);if(r&&(e&&(e=r(e)),n&&(n=r(n)),o&&(o=r(o))),i){!function(t,e,n){var r,i;let o=Object.keys(e).filter(e=>!t.hasValue(e)),s=o.length;if(s)for(let a=0;a<s;a++){let s=o[a],u=e[s],c=null;Array.isArray(u)&&(c=u[0]),null===c&&(c=null!==(i=null!==(r=n[s])&&void 0!==r?r:t.readValue(s))&&void 0!==i?i:e[s]),null!=c&&("string"==typeof c&&(ny(c)||nb(c))?c=parseFloat(c):!nC(c)&&eq.test(u)&&(c=nf(s,u)),t.addValue(s,n_(c,{owner:t})),void 0===n[s]&&(n[s]=c),null!==c&&t.setBaseTarget(s,c))}}(this,n,o);let t=iI(this,n,o,e);e=t.transitionEnd,n=t.target}return{transition:t,transitionEnd:e,...n}}}class iP extends iD{readValueFromInstance(t,e){if(D.has(e)){let t=nh(e);return t&&t.default||0}{let n=window.getComputedStyle(t),r=(j(e)?n.getPropertyValue(e):n[e])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return rl(t,e)}build(t,e,n,r){ti(t,e,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,e){return tI(t,e)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;R(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(t,e,n,r){tb(t,e,n,r)}}class iR extends iD{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(D.has(e)){let t=nh(e);return t&&t.default||0}return e=tw.has(e)?e:ty(e),t.getAttribute(e)}measureInstanceViewportBox(){return n4()}scrapeMotionValuesFromProps(t,e){return tT(t,e)}build(t,e,n,r){tp(t,e,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,e,n,r){tE(t,e,n,r)}mount(t){this.isSVGTag=tg(t.tagName),super.mount(t)}}let iO=(t,e)=>k(t)?new iR(e,{enableHardwareAcceleration:!1}):new iP(e,{enableHardwareAcceleration:!0}),iL={animation:{Feature:class extends tK{constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=e=>Promise.all(e.map(({animation:e,options:n})=>(function(t,e,n={}){let r;if(t.notify("AnimationStart",e),Array.isArray(e)){let i=e.map(e=>nP(t,e,n));r=Promise.all(i)}else if("string"==typeof e)r=nP(t,e,n);else{let i="function"==typeof e?t2(t,e,n.custom):e;r=Promise.all(nD(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))})(t,e,n))),n={animate:nM(!0),whileInView:nM(),whileHover:nM(),whileTap:nM(),whileDrag:nM(),whileFocus:nM(),exit:nM()},r=!0,i=(e,n)=>{let r=t2(t,n);if(r){let{transition:t,transitionEnd:n,...i}=r;e={...e,...i,...n}}return e};function o(o,s){let a=t.getProps(),u=t.getVariantContext(!0)||{},c=[],l=new Set,d={},p=1/0;for(let e=0;e<nL;e++){var m;let g=nO[e],v=n[g],y=void 0!==a[g]?a[g]:u[g],b=h(y),w=g===s?v.isActive:null;!1===w&&(p=e);let E=y===u[g]&&y!==a[g]&&b;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),v.protectedKeys={...d},!v.isActive&&null===w||!y&&!v.prevProp||f(y)||"boolean"==typeof y)continue;let I=(m=v.prevProp,"string"==typeof y?y!==m:!!Array.isArray(y)&&!t1(y,m)),T=I||g===s&&v.isActive&&!E&&b||e>p&&b,S=Array.isArray(y)?y:[y],_=S.reduce(i,{});!1===w&&(_={});let{prevResolvedValues:x={}}=v,A={...x,..._},k=t=>{T=!0,l.delete(t),v.needsAnimating[t]=!0};for(let t in A){let e=_[t],n=x[t];d.hasOwnProperty(t)||(e!==n?t_(e)&&t_(n)?!t1(e,n)||I?k(t):v.protectedKeys[t]=!0:void 0!==e?k(t):l.add(t):void 0!==e&&l.has(t)?k(t):v.protectedKeys[t]=!0)}v.prevProp=y,v.prevResolvedValues=_,v.isActive&&(d={...d,..._}),r&&t.blockInitialAnimation&&(T=!1),T&&!E&&c.push(...S.map(t=>({animation:t,options:{type:g,...o}})))}if(l.size){let e={};l.forEach(n=>{let r=t.getBaseTarget(n);void 0!==r&&(e[n]=r)}),c.push({animation:e})}let g=Boolean(c.length);return r&&!1===a.initial&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(c):Promise.resolve()}return{animateChanges:o,setActive:function(e,r,i){var s;if(n[e].isActive===r)return Promise.resolve();null===(s=t.variantChildren)||void 0===s||s.forEach(t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)}),n[e].isActive=r;let a=o(i,e);for(let t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n}}(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();this.unmount(),f(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends tK{constructor(){super(...arguments),this.id=nj++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;let i=this.node.animationState.setActive("exit",!t,{custom:null!=n?n:this.node.getProps().custom});e&&!t&&i.then(()=>e(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}},inView:{Feature:class extends tK{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:i}=t,o={root:e?e.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:t0[r]},s=t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,i&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=e?n:r;o&&o(t)};return function(t,e,n){let r=function({root:t,...e}){let n=t||document;tY.has(n)||tY.set(n,{});let r=tY.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(tJ,{root:t,...e})),r[i]}(e);return tX.set(t,n),r.observe(t),()=>{tX.delete(t),r.unobserve(t)}}(this.node.current,o,s)}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node,n=["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}(t,e));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends tK{constructor(){super(...arguments),this.removeStartListeners=tZ.Z,this.removeEndListeners=tZ.Z,this.removeAccessibleListeners=tZ.Z,this.startPointerPress=(t,e)=>{if(this.removeEndListeners(),this.isPressing)return;let n=this.node.getProps(),r=(t,e)=>{if(!this.checkPressEnd())return;let{onTap:n,onTapCancel:r}=this.node.getProps();tG.Z_.update(()=>{tW(this.node.current,t.target)?n&&n(t,e):r&&r(t,e)})},i=tM(window,"pointerup",r,{passive:!(n.onTap||n.onPointerUp)}),o=tM(window,"pointercancel",(t,e)=>this.cancelPress(t,e),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=tV(i,o),this.startPress(t,e)},this.startAccessiblePress=()=>{let t=t=>{if("Enter"!==t.key||this.isPressing)return;let e=t=>{"Enter"===t.key&&this.checkPressEnd()&&t$("up",(t,e)=>{let{onTap:n}=this.node.getProps();n&&tG.Z_.update(()=>n(t,e))})};this.removeEndListeners(),this.removeEndListeners=tP(this.node.current,"keyup",e),t$("down",(t,e)=>{this.startPress(t,e)})},e=tP(this.node.current,"keydown",t),n=()=>{this.isPressing&&t$("cancel",(t,e)=>this.cancelPress(t,e))},r=tP(this.node.current,"blur",n);this.removeAccessibleListeners=tV(e,r)}}startPress(t,e){this.isPressing=!0;let{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&tG.Z_.update(()=>n(t,e))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;let t=this.node.getProps();return t.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tz()}cancelPress(t,e){if(!this.checkPressEnd())return;let{onTapCancel:n}=this.node.getProps();n&&tG.Z_.update(()=>n(t,e))}mount(){let t=this.node.getProps(),e=tM(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=tP(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=tV(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends tK{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tV(tP(this.node.current,"focus",()=>this.onFocus()),tP(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends tK{mount(){this.unmount=tV(tH(this.node,!0),tH(this.node,!1))}unmount(){}}},pan:{Feature:class extends tK{constructor(){super(...arguments),this.removePointerDownListener=tZ.Z}onPointerDown(t){this.session=new nF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:rp(t),onStart:rp(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&tG.Z_.update(()=>r(t,e))}}}mount(){this.removePointerDownListener=tM(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends tK{constructor(t){super(t),this.removeGroupControls=tZ.Z,this.removeListeners=tZ.Z,this.controls=new rf(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tZ.Z}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ic,MeasureLayout:rI},layout:{ProjectionNode:ic,MeasureLayout:rI}},iM=function(t){function e(e,n={}){return function({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:f}){t&&function(t){for(let e in t)b[e]={...b[e],...t[e]}}(t);let d=(0,i.forwardRef)(function(d,p){var g,y;let b;let x={...(0,i.useContext)(o),...d,layoutId:function({layoutId:t}){let e=(0,i.useContext)(S.p).id;return e&&void 0!==t?e+"-"+t:t}(d)},{isStatic:A}=x,k=function(t){let{initial:e,animate:n}=function(t,e){if(m(t)){let{initial:e,animate:n}=t;return{initial:!1===e||h(e)?e:void 0,animate:h(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,i.useContext)(s));return(0,i.useMemo)(()=>({initial:e,animate:n}),[v(e),v(n)])}(d),N=A?void 0:(0,E.h)(()=>{if(I.hasEverUpdated)return T++}),C=r(d,A);if(!A&&w.j){k.visualElement=function(t,e,n,r){let{visualElement:l}=(0,i.useContext)(s),h=(0,i.useContext)(c),f=(0,i.useContext)(a.O),d=(0,i.useContext)(o).reducedMotion,p=(0,i.useRef)();r=r||h.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:!!f&&!1===f.initial,reducedMotionConfig:d}));let m=p.current;(0,i.useInsertionEffect)(()=>{m&&m.update(n,f)}),(0,u.L)(()=>{m&&m.render()}),(0,i.useEffect)(()=>{m&&m.updateFeatures()});let g=window.HandoffAppearAnimations?u.L:i.useEffect;return g(()=>{m&&m.animationState&&m.animationState.animateChanges()}),m}(f,C,x,e);let n=(0,i.useContext)(_),r=(0,i.useContext)(c).strict;k.visualElement&&(b=k.visualElement.loadFeatures(x,r,t,N,n))}return i.createElement(s.Provider,{value:k},b&&k.visualElement?i.createElement(b,{visualElement:k.visualElement,...x}):null,n(f,d,N,(g=k.visualElement,y=p,(0,i.useCallback)(t=>{t&&C.mount&&C.mount(t),g&&(t?g.mount(t):g.unmount()),y&&("function"==typeof y?y(t):l(y)&&(y.current=t))},[g])),C,A,k.visualElement))});return d[x]=f,d}(t(e,n))}if("undefined"==typeof Proxy)return e;let n=new Map;return new Proxy(e,{get:(t,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}((t,e)=>(function(t,{forwardMotionProps:e=!1},n,r){let o=k(t)?tC:tD;return{...o,preloadedFeatures:n,useRender:function(t=!1){let e=(e,n,r,o,{latestValues:s},a)=>{let u=k(e)?tv:ta,c=u(n,s,a,e),l=function(t,e,n){let r={};for(let i in t)("values"!==i||"object"!=typeof t.values)&&(tl(i)||!0===n&&tc(i)||!e&&!tc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(n,"string"==typeof e,t),h={...l,...c,ref:o},{children:f}=n,d=(0,i.useMemo)(()=>R(f)?f.get():f,[f]);return r&&(h["data-projection-id"]=r),(0,i.createElement)(e,{...h,children:d})};return e}(e),createVisualElement:r,Component:t}})(t,e,iL,iO))},5487:function(t,e,n){"use strict";n.d(e,{K:function(){return i},k:function(){return o}});var r=n(1662);let i=r.Z,o=r.Z},1741:function(t,e,n){"use strict";n.d(e,{j:function(){return r}});let r="undefined"!=typeof document},1662:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});let r=t=>t},6681:function(t,e,n){"use strict";n.d(e,{h:function(){return i}});var r=n(7294);function i(t){let e=(0,r.useRef)(null);return null===e.current&&(e.current=t()),e.current}},8868:function(t,e,n){"use strict";n.d(e,{L:function(){return o}});var r=n(7294),i=n(1741);let o=i.j?r.useLayoutEffect:r.useEffect}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],function(){return e(1118),e(880)}),_N_E=t.O()}]);